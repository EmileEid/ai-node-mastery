/* eslint-disable */
var vw=Object.defineProperty;var n=(t,e)=>vw(t,"name",{value:e,configurable:!0});var D=(t,e)=>{for(var i in e)vw(t,i,{get:e[i],enumerable:!0})};function xw(t,e){var i={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(i[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(i[o[r]]=t[o[r]]);return i}n(xw,"__rest");function yw(t,e,i){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:i?"".concat(i," ",e):e})}n(yw,"__setFunctionName");function y(t,e,i,o){function r(s){return s instanceof i?s:new i(function(u){u(s)})}return n(r,"adopt"),new(i||(i=Promise))(function(s,u){function p(h){try{m(o.next(h))}catch(x){u(x)}}n(p,"fulfilled");function f(h){try{m(o.throw(h))}catch(x){u(x)}}n(f,"rejected");function m(h){h.done?s(h.value):r(h.value).then(p,f)}n(m,"step"),m((o=o.apply(t,e||[])).next())})}n(y,"__awaiter");function gw(t){var e=typeof Symbol=="function"&&Symbol.iterator,i=e&&t[e],o=0;if(i)return i.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&o>=t.length&&(t=void 0),{value:t&&t[o++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}n(gw,"__values");function Io(t){return this instanceof Io?(this.v=t,this):new Io(t)}n(Io,"__await");function bw(t,e,i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i.apply(t,e||[]),r,s=[];return r={},u("next"),u("throw"),u("return"),r[Symbol.asyncIterator]=function(){return this},r;function u(w){o[w]&&(r[w]=function(T){return new Promise(function(I,S){s.push([w,T,I,S])>1||p(w,T)})})}function p(w,T){try{f(o[w](T))}catch(I){x(s[0][3],I)}}function f(w){w.value instanceof Io?Promise.resolve(w.value.v).then(m,h):x(s[0][2],w)}function m(w){p("next",w)}function h(w){p("throw",w)}function x(w,T){w(T),s.shift(),s.length&&p(s[0][0],s[0][1])}}n(bw,"__asyncGenerator");function ww(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],i;return e?e.call(t):(t=typeof gw=="function"?gw(t):t[Symbol.iterator](),i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i);function o(s){i[s]=t[s]&&function(u){return new Promise(function(p,f){u=t[s](u),r(p,f,u.done,u.value)})}}function r(s,u,p,f){Promise.resolve(f).then(function(m){s({value:m,done:p})},u)}}n(ww,"__asyncValues");function d(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)}n(d,"__classPrivateFieldGet");function k(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i}n(k,"__classPrivateFieldSet");var $y={};D($y,{ChannelError:()=>$r,InnertubeError:()=>v,MissingParamError:()=>Ln,OAuth2Error:()=>Ne,ParsingError:()=>kt,Platform:()=>j,PlayerError:()=>$t,SessionError:()=>Bn,base64ToU8:()=>_b,concatMemos:()=>Ab,debugFetch:()=>IP,deepCompare:()=>h_,escapeStringRegexp:()=>Ub,generateRandomString:()=>Nt,generateSidAuth:()=>Gy,getCookie:()=>zy,getRandomUserAgent:()=>No,getStringBetweenStrings:()=>Je,hasKeys:()=>TP,isTextRun:()=>rt,streamToIterable:()=>Wy,throwIfMissing:()=>oe,timeToSeconds:()=>Be,u8ToBase64:()=>dt});var Uy={};D(Uy,{Maybe:()=>So,Memo:()=>Vi,SuperParsedResult:()=>ei,YTNode:()=>a,observe:()=>ee});var Le,tt=class{static doLog(e,i,o){if(!this.log_map_[e]||!this.log_level_.includes(e))return;let r=[`[${this.YTJS_TAG}]`];i&&r.push(`[${i}]`),this.log_map_[e](`${r.join("")}:`,...o||[])}static setLevel(...e){this.log_level_=e}};n(tt,"Log");Le=tt;tt.YTJS_TAG="YOUTUBEJS";tt.Level={NONE:0,ERROR:1,WARNING:2,INFO:3,DEBUG:4};tt.log_map_={[Le.Level.ERROR]:(...t)=>console.error(...t),[Le.Level.WARNING]:(...t)=>console.warn(...t),[Le.Level.INFO]:(...t)=>console.info(...t),[Le.Level.DEBUG]:(...t)=>console.debug(...t)};tt.log_level_=[Le.Level.WARNING];tt.one_time_warnings_issued_=new Set;tt.warnOnce=(t,...e)=>{Le.one_time_warnings_issued_.has(t)||(Le.doLog(Le.Level.WARNING,t,e),Le.one_time_warnings_issued_.add(t))};tt.warn=(t,...e)=>Le.doLog(Le.Level.WARNING,t,e);tt.error=(t,...e)=>Le.doLog(Le.Level.ERROR,t,e);tt.info=(t,...e)=>Le.doLog(Le.Level.INFO,t,e);tt.debug=(t,...e)=>Le.doLog(Le.Level.DEBUG,t,e);var L=tt;var Yy,Tw,Me,jy,me,Zt,gi,ko,Iw=Symbol("ObservedArray.isObserved"),a=class{constructor(){Yy.add(this),this.type=this.constructor.type}is(...e){return e.some(i=>d(this,Yy,"m",Tw).call(this,i))}as(...e){if(!this.is(...e))throw new kt(`Cannot cast ${this.type} to one of ${e.map(i=>i.type).join(", ")}`);return this}hasKey(e){return Reflect.has(this,e)}key(e){if(!this.hasKey(e))throw new kt(`Missing key ${e}`);return new So(this[e])}};n(a,"YTNode");Yy=new WeakSet,Tw=n(function(e){return this.type===e.type},"_YTNode_is");a.type="YTNode";var So=class{constructor(e){Me.add(this),jy.set(this,"Maybe"),me.set(this,void 0),k(this,me,e,"f")}get typeof(){return typeof d(this,me,"f")}string(){return d(this,Me,"m",gi).call(this,"string")}isString(){return d(this,Me,"m",Zt).call(this,"string")}number(){return d(this,Me,"m",gi).call(this,"number")}isNumber(){return d(this,Me,"m",Zt).call(this,"number")}bigint(){return d(this,Me,"m",gi).call(this,"bigint")}isBigint(){return d(this,Me,"m",Zt).call(this,"bigint")}boolean(){return d(this,Me,"m",gi).call(this,"boolean")}isBoolean(){return d(this,Me,"m",Zt).call(this,"boolean")}symbol(){return d(this,Me,"m",gi).call(this,"symbol")}isSymbol(){return d(this,Me,"m",Zt).call(this,"symbol")}undefined(){return d(this,Me,"m",gi).call(this,"undefined")}isUndefined(){return d(this,Me,"m",Zt).call(this,"undefined")}null(){if(d(this,me,"f")!==null)throw new TypeError(`Expected null, got ${typeof d(this,me,"f")}`);return d(this,me,"f")}isNull(){return d(this,me,"f")===null}object(){return d(this,Me,"m",gi).call(this,"object")}isObject(){return d(this,Me,"m",Zt).call(this,"object")}function(){return d(this,Me,"m",gi).call(this,"function")}isFunction(){return d(this,Me,"m",Zt).call(this,"function")}array(){if(!Array.isArray(d(this,me,"f")))throw new TypeError(`Expected array, got ${typeof d(this,me,"f")}`);return d(this,me,"f")}arrayOfMaybe(){let e=[];return new Proxy(this.array(),{get(i,o){return Reflect.has(e,o)?Reflect.get(i,o):new So(Reflect.get(i,o))}})}isArray(){return Array.isArray(d(this,me,"f"))}node(){if(!(d(this,me,"f")instanceof a))throw new TypeError(`Expected YTNode, got ${d(this,me,"f").constructor.name}`);return d(this,me,"f")}isNode(){return d(this,me,"f")instanceof a}nodeOfType(...e){return this.node().as(...e)}isNodeOfType(...e){return this.isNode()&&this.node().is(...e)}observed(){if(!this.isObserved())throw new TypeError(`Expected ObservedArray, got ${typeof d(this,me,"f")}`);return d(this,me,"f")}isObserved(){var e;return(e=d(this,me,"f"))===null||e===void 0?void 0:e[Iw]}parsed(){if(!(d(this,me,"f")instanceof ei))throw new TypeError(`Expected SuperParsedResult, got ${typeof d(this,me,"f")}`);return d(this,me,"f")}isParsed(){return d(this,me,"f")instanceof ei}any(){return L.warn(d(this,jy,"f"),"This call is not meant to be used outside of debugging. Please use the specific type getter instead."),d(this,me,"f")}instanceof(e){if(!this.isInstanceof(e))throw new TypeError(`Expected instance of ${e.name}, got ${d(this,me,"f").constructor.name}`);return d(this,me,"f")}isInstanceof(e){return d(this,me,"f")instanceof e}};n(So,"Maybe");jy=new WeakMap,me=new WeakMap,Me=new WeakSet,Zt=n(function(e){return typeof d(this,me,"f")===e},"_Maybe_checkPrimative"),gi=n(function(e){if(!d(this,Me,"m",Zt).call(this,e))throw new TypeError(`Expected ${e}, got ${this.typeof}`);return d(this,me,"f")},"_Maybe_assertPrimative");var ei=class{constructor(e){ko.set(this,void 0),k(this,ko,e,"f")}get is_null(){return d(this,ko,"f")===null}get is_array(){return!this.is_null&&Array.isArray(d(this,ko,"f"))}get is_node(){return!this.is_array}array(){if(!this.is_array)throw new TypeError("Expected an array, got a node");return d(this,ko,"f")}item(){if(!this.is_node)throw new TypeError("Expected a node, got an array");return d(this,ko,"f")}};n(ei,"SuperParsedResult");ko=new WeakMap;function ee(t){return new Proxy(t,{get(e,i){return i=="get"?(o,r)=>e.find((s,u)=>{let p=h_(o,s);return p&&r&&e.splice(u,1),p}):i==Iw?!0:i=="getAll"?(o,r)=>e.filter((s,u)=>{let p=h_(o,s);return p&&r&&e.splice(u,1),p}):i=="matchCondition"?o=>e.find(r=>o(r)):i=="filterType"?(...o)=>ee(e.filter(r=>!!r.is(...o))):i=="firstOfType"?(...o)=>e.find(r=>!!r.is(...o)):i=="first"?()=>e[0]:i=="as"?(...o)=>ee(e.map(r=>{if(r.is(...o))return r;throw new kt(`Expected node of any type ${o.map(s=>s.type).join(", ")}, got ${r.type}`)})):i=="remove"?o=>e.splice(o,1):Reflect.get(e,i)}})}n(ee,"observe");var Vi=class extends Map{getType(...e){return e=e.flat(),ee(e.flatMap(i=>this.get(i.type)||[]))}};n(Vi,"Memo");var jb={};D(jb,{Author:()=>M,ChildElement:()=>t0,EmojiRun:()=>Mi,Format:()=>qg,Text:()=>l,TextRun:()=>Oi,Thumbnail:()=>b,VideoDetails:()=>so});var re={};D(re,{CLIENTS:()=>ue,INNERTUBE_HEADERS_BASE:()=>pC,OAUTH:()=>dC,STREAM_HEADERS:()=>xi,URLS:()=>it});var it=Object.freeze({YT_BASE:"https://www.youtube.com",YT_MUSIC_BASE:"https://music.youtube.com",YT_SUGGESTIONS:"https://suggestqueries.google.com/complete/",YT_UPLOAD:"https://upload.youtube.com/",API:Object.freeze({BASE:"https://youtubei.googleapis.com",PRODUCTION_1:"https://www.youtube.com/youtubei/",PRODUCTION_2:"https://youtubei.googleapis.com/youtubei/",STAGING:"https://green-youtubei.sandbox.googleapis.com/youtubei/",RELEASE:"https://release-youtubei.sandbox.googleapis.com/youtubei/",TEST:"https://test-youtubei.sandbox.googleapis.com/youtubei/",CAMI:"http://cami-youtubei.sandbox.googleapis.com/youtubei/",UYTFE:"https://uytfe.sandbox.google.com/youtubei/"})}),dC=Object.freeze({REGEX:Object.freeze({TV_SCRIPT:new RegExp('<script\\s+id="base-js"\\s+src="([^"]+)"[^>]*><\\/script>'),CLIENT_IDENTITY:new RegExp('clientId:"(?<client_id>[^"]+)",[^"]*?:"(?<client_secret>[^"]+)"')})}),ue=Object.freeze({iOS:{NAME_ID:"5",NAME:"iOS",VERSION:"18.06.35",USER_AGENT:"com.google.ios.youtube/18.06.35 (iPhone; CPU iPhone OS 14_4 like Mac OS X; en_US)",DEVICE_MODEL:"iPhone10,6"},WEB:{NAME_ID:"1",NAME:"WEB",VERSION:"2.20240111.09.00",API_KEY:"AIzaSyAO_FJ2SlqU8Q4STEHLGCilw_Y9_11qcW8",API_VERSION:"v1",STATIC_VISITOR_ID:"6zpwvWUNAco"},WEB_KIDS:{NAME_ID:"76",NAME:"WEB_KIDS",VERSION:"2.20230111.00.00"},YTMUSIC:{NAME_ID:"67",NAME:"WEB_REMIX",VERSION:"1.20211213.00.00"},ANDROID:{NAME_ID:"3",NAME:"ANDROID",VERSION:"18.48.37",SDK_VERSION:33,USER_AGENT:"com.google.android.youtube/18.48.37(Linux; U; Android 13; en_US; sdk_gphone64_x86_64 Build/UPB4.230623.005) gzip"},YTSTUDIO_ANDROID:{NAME_ID:"14",NAME:"ANDROID_CREATOR",VERSION:"22.43.101"},YTMUSIC_ANDROID:{NAME_ID:"21",NAME:"ANDROID_MUSIC",VERSION:"5.34.51"},TV_EMBEDDED:{NAME_ID:"85",NAME:"TVHTML5_SIMPLY_EMBEDDED_PLAYER",VERSION:"2.0"}}),xi=Object.freeze({accept:"*/*",origin:"https://www.youtube.com",referer:"https://www.youtube.com",DNT:"?1"}),pC=Object.freeze({accept:"*/*","accept-encoding":"gzip, deflate","content-type":"application/json"});var c={};D(c,{addRuntimeParser:()=>Sb,applyCommentsMutations:()=>qS,applyMutations:()=>KS,getDynamicParsers:()=>bE,getParserByName:()=>Ah,hasParser:()=>zg,parse:()=>$e,parseActions:()=>$S,parseArray:()=>ze,parseC:()=>zS,parseFormats:()=>Eb,parseItem:()=>le,parseLC:()=>Cb,parseRR:()=>Xg,parseResponse:()=>wE,sanitizeClassName:()=>Vh,setParserErrorHandler:()=>xE,shouldIgnore:()=>GS});var Wo={};D(Wo,{AboutChannel:()=>C_,AboutChannelView:()=>S_,AccountChannel:()=>E_,AccountItemSection:()=>N_,AccountItemSectionHeader:()=>P_,AccountSectionList:()=>A_,AddBannerToLiveChatCommand:()=>AI,AddChatItemAction:()=>C0,AddLiveChatTickerItemAction:()=>RI,Alert:()=>or,AlertWithButton:()=>B_,AnalyticsMainAppKeyMetrics:()=>Fw,AnalyticsRoot:()=>Yw,AnalyticsShortsCarouselCard:()=>jw,AnalyticsVideo:()=>Y_,AnalyticsVodCarouselCard:()=>Uw,AnchoredSection:()=>Ug,AppendContinuationItemsAction:()=>Ro,AttributionView:()=>j_,AudioOnlyPlayability:()=>U_,AuthorCommentBadge:()=>Rv,AutomixPreviewVideo:()=>Di,AvatarView:()=>W_,BackstageImage:()=>H_,BackstagePost:()=>Li,BackstagePostThread:()=>Jw,BrowseFeedActions:()=>G_,BrowserMediaSession:()=>Gw,Button:()=>C,ButtonView:()=>Vo,C4TabbedHeader:()=>ji,CallToActionButton:()=>zw,Card:()=>$w,CardCollection:()=>xv,CarouselHeader:()=>yv,CarouselItem:()=>Kw,CarouselLockup:()=>mv,Channel:()=>bv,ChannelAboutFullMetadata:()=>ol,ChannelAgeGate:()=>qw,ChannelExternalLinkView:()=>k_,ChannelFeaturedContent:()=>Xw,ChannelHeaderLinks:()=>z_,ChannelHeaderLinksView:()=>$_,ChannelMetadata:()=>wv,ChannelMobileHeader:()=>Qw,ChannelOptions:()=>Tv,ChannelOwnerEmptyState:()=>Zw,ChannelSubMenu:()=>dl,ChannelTagline:()=>vv,ChannelThumbnailWithLink:()=>eT,ChannelVideoPlayer:()=>tT,Chapter:()=>Iv,ChildVideo:()=>iT,ChipBarView:()=>oT,ChipCloud:()=>gt,ChipCloudChip:()=>xe,ChipView:()=>kv,ClipAdState:()=>X_,ClipCreation:()=>Q_,ClipCreationScrubber:()=>q_,ClipCreationTextInput:()=>K_,ClipSection:()=>Z_,CollaboratorInfoCardContent:()=>nT,CollageHeroImage:()=>rT,CollectionThumbnailView:()=>Nv,Command:()=>sT,Comment:()=>vr,CommentActionButtons:()=>nr,CommentDialog:()=>eI,CommentReplies:()=>Fv,CommentReplyDialog:()=>fr,CommentSimplebox:()=>Wv,CommentThread:()=>Hv,CommentView:()=>Gi,CommentsEntryPointHeader:()=>Uv,CommentsEntryPointTeaser:()=>jv,CommentsHeader:()=>Ji,CommentsSimplebox:()=>Yv,CompactChannel:()=>tI,CompactLink:()=>gr,CompactMix:()=>iI,CompactMovie:()=>oI,CompactPlaylist:()=>nI,CompactStation:()=>rI,CompactVideo:()=>cr,ConfirmDialog:()=>sI,ContentMetadataView:()=>br,ContentPreviewImageView:()=>ur,ContinuationItem:()=>_e,ConversationBar:()=>aI,CopyLink:()=>Jv,CreatePlaylistDialog:()=>b_,CreatorHeart:()=>J_,CtaGoToCreatorStudio:()=>Ww,DataModelSection:()=>F_,DecoratedAvatarView:()=>Gv,DecoratedPlayerBar:()=>qv,DefaultPromoPanel:()=>uI,DescriptionPreviewView:()=>Xv,DidYouMean:()=>Qv,DimChatItemAction:()=>VI,DislikeButtonView:()=>Zv,DownloadButton:()=>lI,Dropdown:()=>tr,DropdownItem:()=>y_,DynamicTextView:()=>e0,Element:()=>wr,EmergencyOnebox:()=>cI,EmojiPicker:()=>Bv,EmojiPickerCategory:()=>dI,EmojiPickerCategoryButton:()=>pI,EmojiPickerUpsellCategory:()=>fI,EndScreenPlaylist:()=>o0,EndScreenVideo:()=>n0,Endscreen:()=>i0,EndscreenElement:()=>mI,EngagementPanelSectionList:()=>Yi,EngagementPanelTitleHeader:()=>ev,ExpandableMetadata:()=>av,ExpandableTab:()=>Tr,ExpandableVideoDescriptionBody:()=>nv,ExpandedShelfContents:()=>hI,Factoid:()=>Fi,FancyDismissibleDialog:()=>_I,FeedFilterChipBar:()=>bi,FeedNudge:()=>vI,FeedTabbedHeader:()=>r0,FlexibleActionsView:()=>s0,GameCard:()=>rv,GameDetails:()=>gI,Grid:()=>jo,GridChannel:()=>a0,GridHeader:()=>xI,GridMix:()=>yI,GridMovie:()=>bI,GridPlaylist:()=>u0,GridShow:()=>wI,GridVideo:()=>d0,GuideCollapsibleEntry:()=>TI,GuideCollapsibleSectionEntry:()=>II,GuideDownloadsEntry:()=>kI,GuideEntry:()=>Uo,GuideSection:()=>Ir,GuideSubscriptionsSection:()=>p0,HashtagHeader:()=>f0,HashtagTile:()=>SI,HeatMarker:()=>zv,Heatmap:()=>$v,HeroPlaylistThumbnail:()=>CI,HighlightsCarousel:()=>Qc,HistorySuggestion:()=>EI,HorizontalCardList:()=>Bi,HorizontalList:()=>sv,HorizontalMovieList:()=>PI,IconLink:()=>h0,ImageBannerView:()=>_0,IncludingResultsFor:()=>NI,InfoPanelContainer:()=>g0,InfoPanelContent:()=>v0,InfoRow:()=>fv,InteractiveTabbedHeader:()=>x0,ItemSection:()=>ye,ItemSectionHeader:()=>kr,ItemSectionTab:()=>y0,ItemSectionTabbedHeader:()=>Sr,KidsBlocklistPicker:()=>MS,KidsBlocklistPickerItem:()=>jr,KidsCategoriesHeader:()=>Wg,KidsCategoryTab:()=>Ur,KidsHomeScreen:()=>Hg,LikeButton:()=>w0,LikeButtonView:()=>T0,LiveChat:()=>I0,LiveChatActionPanel:()=>P0,LiveChatAuthorBadge:()=>nk,LiveChatAutoModMessage:()=>MI,LiveChatBanner:()=>S0,LiveChatBannerHeader:()=>k0,LiveChatBannerPoll:()=>OI,LiveChatDialog:()=>rk,LiveChatHeader:()=>O0,LiveChatItemList:()=>D0,LiveChatMembershipItem:()=>DI,LiveChatMessageInput:()=>sk,LiveChatPaidMessage:()=>LI,LiveChatPaidSticker:()=>BI,LiveChatParticipant:()=>L0,LiveChatParticipantsList:()=>B0,LiveChatPlaceholderItem:()=>FI,LiveChatProductItem:()=>YI,LiveChatRestrictedParticipation:()=>jI,LiveChatTextMessage:()=>UI,LiveChatTickerPaidMessageItem:()=>E0,LiveChatTickerPaidStickerItem:()=>WI,LiveChatTickerSponsorItem:()=>HI,LiveChatViewerEngagementMessage:()=>JI,LockupMetadataView:()=>F0,LockupView:()=>Y0,MacroMarkersInfoItem:()=>tv,MacroMarkersList:()=>iv,MacroMarkersListItem:()=>sr,MarkChatItemAsDeletedAction:()=>zI,MarkChatItemsByAuthorAsDeletedAction:()=>$I,Menu:()=>Y,MenuNavigationItem:()=>j0,MenuPopup:()=>ak,MenuServiceItem:()=>$i,MenuServiceItemDownload:()=>uk,MerchandiseItem:()=>dk,MerchandiseShelf:()=>J0,Message:()=>We,MetadataBadge:()=>ct,MetadataRow:()=>pk,MetadataRowContainer:()=>G0,MetadataRowHeader:()=>fk,MetadataScreen:()=>mk,MicroformatData:()=>ii,Mix:()=>hk,ModalWithTitleAndButton:()=>_k,Movie:()=>vk,MovingThumbnail:()=>gk,MultiMarkersPlayerBar:()=>Kv,MultiPageMenu:()=>lk,MultiPageMenuNotificationSection:()=>ck,MusicCardShelf:()=>$0,MusicCardShelfHeaderBasic:()=>z0,MusicCarouselShelf:()=>Fe,MusicCarouselShelfBasicHeader:()=>K0,MusicDescriptionShelf:()=>qi,MusicDetailHeader:()=>Jo,MusicDownloadStateBadge:()=>Ek,MusicEditablePlaylistDetailHeader:()=>Z0,MusicElementHeader:()=>$p,MusicHeader:()=>Xi,MusicImmersiveHeader:()=>eg,MusicInlineBadge:()=>Cr,MusicItemThumbnailOverlay:()=>oi,MusicLargeCardItemCarousel:()=>Pk,MusicMenuItemDivider:()=>U0,MusicMultiRowListItem:()=>q0,MusicMultiSelectMenu:()=>W0,MusicMultiSelectMenuItem:()=>jt,MusicNavigationButton:()=>Pr,MusicPlayButton:()=>Er,MusicPlaylistShelf:()=>Go,MusicQueue:()=>Rr,MusicResponsiveHeader:()=>Nk,MusicResponsiveListItem:()=>Ki,MusicResponsiveListItemFixedColumn:()=>X0,MusicResponsiveListItemFlexColumn:()=>Q0,MusicShelf:()=>we,MusicSideAlignedItem:()=>ig,MusicSortFilterButton:()=>cf,MusicTastebuilderShelf:()=>ng,MusicTastebuilderShelfThumbnail:()=>og,MusicThumbnail:()=>nt,MusicTwoRowItem:()=>Ar,MusicVisualHeader:()=>rg,NavigationEndpoint:()=>g,Notification:()=>sg,OpenPopupAction:()=>w_,PageHeader:()=>ri,PageHeaderView:()=>ag,PageIntroduction:()=>ug,PdgCommentChip:()=>Vv,PivotButton:()=>lg,PlayerAnnotationsExpanded:()=>cg,PlayerCaptionsTracklist:()=>dg,PlayerControlsOverlay:()=>Ak,PlayerErrorMessage:()=>Rk,PlayerLegacyDesktopYpcOffer:()=>Vk,PlayerLegacyDesktopYpcTrailer:()=>Cf,PlayerLiveStoryboardSpec:()=>mg,PlayerMicroformat:()=>Ct,PlayerOverflow:()=>pg,PlayerOverlay:()=>Qi,PlayerOverlayAutoplay:()=>hg,PlayerStoryboardSpec:()=>Eo,Playlist:()=>ti,PlaylistCustomThumbnail:()=>xr,PlaylistHeader:()=>vg,PlaylistInfoCardContent:()=>Mk,PlaylistMetadata:()=>gg,PlaylistPanel:()=>ni,PlaylistPanelVideo:()=>wi,PlaylistPanelVideoWrapper:()=>tg,PlaylistSidebar:()=>Ok,PlaylistSidebarPrimaryInfo:()=>xg,PlaylistSidebarSecondaryInfo:()=>yg,PlaylistVideo:()=>Vr,PlaylistVideoList:()=>Dk,PlaylistVideoThumbnail:()=>yr,Poll:()=>Lk,PollHeader:()=>GI,Post:()=>bg,PostMultiImage:()=>Bk,ProductList:()=>ov,ProductListHeader:()=>Fk,ProductListItem:()=>Yk,ProfileColumn:()=>jk,ProfileColumnStats:()=>Uk,ProfileColumnStatsEntry:()=>Wk,ProfileColumnUserInfo:()=>Hk,Quiz:()=>Jk,RecognitionShelf:()=>Gk,ReelItem:()=>Mr,ReelPlayerHeader:()=>wg,ReelPlayerOverlay:()=>zk,ReelShelf:()=>pr,RelatedChipCloud:()=>Tg,RemoveBannerForLiveChatCommand:()=>KI,RemoveChatItemAction:()=>qI,RemoveChatItemByAuthorAction:()=>XI,ReplaceChatItemAction:()=>QI,ReplayChatItemAction:()=>ZI,RichGrid:()=>Zi,RichItem:()=>$k,RichListHeader:()=>Kk,RichMetadata:()=>sm,RichMetadataRow:()=>um,RichSection:()=>qk,RichShelf:()=>Ig,SearchBox:()=>Xk,SearchFilter:()=>kg,SearchFilterGroup:()=>Or,SearchFilterOptionsDialog:()=>Qk,SearchHeader:()=>Sg,SearchRefinementCard:()=>Mo,SearchSubMenu:()=>Cg,SearchSuggestion:()=>m0,SearchSuggestionsSection:()=>Eg,SecondarySearchContainer:()=>Zk,SectionList:()=>Q,SegmentedLikeDislikeButton:()=>zo,SegmentedLikeDislikeButtonView:()=>$o,SettingBoolean:()=>eS,SettingsCheckbox:()=>Pg,SettingsOptions:()=>Lr,SettingsSidebar:()=>Ng,SettingsSwitch:()=>Dr,SharedPost:()=>Ag,Shelf:()=>Br,ShowCustomThumbnail:()=>l0,ShowLiveChatActionPanelAction:()=>ek,ShowLiveChatDialogAction:()=>tk,ShowLiveChatTooltipCommand:()=>ik,ShowingResultsFor:()=>Rg,SimpleCardContent:()=>tS,SimpleCardTeaser:()=>iS,SimpleMenuHeader:()=>H0,SimpleTextSection:()=>oS,SingleActionEmergencySupport:()=>nS,SingleColumnBrowseResults:()=>si,SingleColumnMusicWatchNextResults:()=>rS,SingleHeroImage:()=>sS,SlimOwner:()=>aS,SlimVideoMetadata:()=>Vg,SortFilterHeader:()=>b0,SortFilterSubMenu:()=>Ft,SponsorCommentBadge:()=>Mv,StatRow:()=>Hw,StructuredDescriptionContent:()=>Do,StructuredDescriptionPlaylistLockup:()=>hv,SubFeedOption:()=>Mg,SubFeedSelector:()=>uS,SubscribeButton:()=>Ge,SubscriptionNotificationToggleButton:()=>gv,Tab:()=>be,Tabbed:()=>lS,TabbedSearchResults:()=>Og,TextHeader:()=>cS,ThumbnailBadgeView:()=>Cv,ThumbnailHoverOverlayView:()=>Sv,ThumbnailLandscapePortrait:()=>dS,ThumbnailOverlayBadgeView:()=>Ev,ThumbnailOverlayBottomPanel:()=>c0,ThumbnailOverlayEndorsement:()=>pS,ThumbnailOverlayHoverText:()=>fS,ThumbnailOverlayInlineUnplayable:()=>mS,ThumbnailOverlayLoadingPreview:()=>hS,ThumbnailOverlayNowPlaying:()=>_S,ThumbnailOverlayPinking:()=>vS,ThumbnailOverlayPlaybackStatus:()=>gS,ThumbnailOverlayResumePlayback:()=>xS,ThumbnailOverlaySidePanel:()=>yS,ThumbnailOverlayTimeStatus:()=>Oo,ThumbnailOverlayToggleButton:()=>bS,ThumbnailView:()=>Pv,TimedMarkerDecoration:()=>wS,TitleAndButtonListHeader:()=>TS,ToggleButton:()=>Pe,ToggleButtonView:()=>zi,ToggleMenuServiceItem:()=>IS,Tooltip:()=>kS,TopicChannelDetails:()=>SS,Transcript:()=>ir,TranscriptFooter:()=>R_,TranscriptSearchBox:()=>V_,TranscriptSearchPanel:()=>L_,TranscriptSectionHeader:()=>M_,TranscriptSegment:()=>O_,TranscriptSegmentList:()=>D_,TwoColumnBrowseResults:()=>ai,TwoColumnSearchResults:()=>Dg,TwoColumnWatchNextResults:()=>Fr,UniversalWatchCard:()=>Bg,UpdateDateTextAction:()=>N0,UpdateDescriptionAction:()=>A0,UpdateEngagementPanelAction:()=>Bw,UpdateLiveChatPollAction:()=>ok,UpdateTitleAction:()=>R0,UpdateToggleButtonTextAction:()=>V0,UpdateViewershipAction:()=>M0,UploadTimeFactoid:()=>lv,UpsellDialog:()=>CS,VerticalList:()=>ES,VerticalWatchCardList:()=>PS,Video:()=>ar,VideoAttributeView:()=>lr,VideoCard:()=>uv,VideoDescriptionCourseSection:()=>_v,VideoDescriptionHeader:()=>dv,VideoDescriptionInfocardsSection:()=>pv,VideoDescriptionMusicSection:()=>dr,VideoDescriptionTranscriptSection:()=>Uu,VideoInfoCardContent:()=>NS,VideoOwner:()=>Yr,VideoPrimaryInfo:()=>Fg,VideoSecondaryInfo:()=>vh,ViewCountFactoid:()=>cv,WatchCardCompactVideo:()=>Yg,WatchCardHeroVideo:()=>AS,WatchCardRichHeader:()=>RS,WatchCardSectionSequence:()=>VS,WatchNextEndScreen:()=>_g,WatchNextTabbedResults:()=>jg,YpcTrailer:()=>fg});var Co,__=class{constructor(e,i){Co.set(this,void 0),k(this,Co,new j.shim.Cache(e,i),"f")}get cache_dir(){return d(this,Co,"f").cache_dir}get(e){return d(this,Co,"f").get(e)}set(e,i){return d(this,Co,"f").set(e,i)}remove(e){return d(this,Co,"f").remove(e)}};n(__,"UniversalCache");Co=new WeakMap;var fC=__;var Zn,v_=class extends EventTarget{constructor(){super(),Zn.set(this,new Map)}emit(e,...i){let o=new j.shim.CustomEvent(e,{detail:i});this.dispatchEvent(o)}on(e,i){let o=n(r=>{r instanceof j.shim.CustomEvent?i(...r.detail):i(r)},"wrapper");d(this,Zn,"f").set(i,o),this.addEventListener(e,o)}once(e,i){let o=n(r=>{r instanceof j.shim.CustomEvent?i(...r.detail):i(r),this.off(e,i)},"wrapper");d(this,Zn,"f").set(i,o),this.addEventListener(e,o)}off(e,i){let o=d(this,Zn,"f").get(i);o&&(this.removeEventListener(e,o),d(this,Zn,"f").delete(i))}};n(v_,"EventEmitterLike");Zn=new WeakMap;var la=v_;var Po={};D(Po,{chooseFormat:()=>Dw,download:()=>BC,toDash:()=>Ow});var mC={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function kw(t){return t.replace(/([&"<>'])/g,(e,i)=>mC[i])}n(kw,"escapeXMLString");function hC(t){return t==="mpd"?"MPD":t==="base-url"?"BaseURL":t.split("-").map(i=>i.charAt(0).toUpperCase()+i.slice(1)).join("")}n(hC,"normalizeTag");function he(t,e,...i){let o=i.flat().map(r=>typeof r=="string"?_C(r):r);return typeof t=="function"?t(Object.assign(Object.assign({},e),{children:o})):{type:hC(t),props:Object.assign(Object.assign({},e),{children:o})}}n(he,"createElement");function _C(t){return{type:"TEXT_ELEMENT",props:{nodeValue:t}}}n(_C,"createTextElement");function Sw(t){return y(this,void 0,void 0,function*(){if(t.type==="TEXT_ELEMENT")return kw(typeof t.props.nodeValue=="string"?t.props.nodeValue:"");let e=`<${t.type}`;if(t.props){let i=Object.keys(t.props).filter(o=>!["children","nodeValue"].includes(o)&&t.props[o]!==void 0).map(o=>`${o}="${kw(`${t.props[o]}`)}"`);i.length>0&&(e+=` ${i.join(" ")}`)}if(t.props.children){let i=yield Promise.all((yield Promise.all(t.props.children.flat())).flat().filter(o=>!!o).map(o=>Sw(o)));if(i.length>0)return e+=`>${i.join("")}</${t.type}>`,e}return`${e}/>`})}n(Sw,"renderElementToString");function Cw(t){return y(this,void 0,void 0,function*(){return`<?xml version="1.0" encoding="utf-8"?>${yield Sw(yield t)}`})}n(Cw,"renderToString");function Ew(t){return t.children}n(Ew,"Fragment");var ca=class extends a{constructor(e){super();let i=e.spec.split("|"),o=new URL(i.shift());this.boards=i.map((r,s)=>{let[u,p,f,m,h,x,w,T]=r.split("#");o.searchParams.set("sigh",T);let I=Math.ceil(parseInt(f,10)/(parseInt(m,10)*parseInt(h,10)));return{type:"vod",template_url:o.toString().replace("$L",s).replace("$N",w),thumbnail_width:parseInt(u,10),thumbnail_height:parseInt(p,10),thumbnail_count:parseInt(f,10),interval:parseInt(x,10),columns:parseInt(m,10),rows:parseInt(h,10),storyboard_count:I}})}};n(ca,"PlayerStoryboardSpec");ca.type="PlayerStoryboardSpec";var Eo=ca;var gC="StreamingInfo";function xC(t,e){var i,o,r;let s=new Map,u=t.some(p=>!!p.audio_track);for(let p of t){if((!p.index_range||!p.init_range)&&!p.is_type_otf&&!e)continue;let f=p.mime_type.split(";")[0],m=(i=Je(p.mime_type,'codecs="','"'))===null||i===void 0?void 0:i.split(".")[0],h=p.color_info?Object.values(p.color_info).join("-"):"",x=((o=p.audio_track)===null||o===void 0?void 0:o.id)||"",w=p.is_drc?"drc":"",T=`${f}-${m}-${h}-${x}-${w}`;s.has(T)||s.set(T,[]),(r=s.get(T))===null||r===void 0||r.push(p)}return{groups:Array.from(s.values()),has_multiple_audio_tracks:u}}n(xC,"getFormatGroupings");function Nw(t,e){if(t.length>1&&new Set(t.map(i=>Je(i.mime_type,'codecs="','"'))).size===1)return e.push("codecs"),Je(t[0].mime_type,'codecs="','"')}n(Nw,"hoistCodecsIfPossible");function Aw(t,e,i){if(t.length>1&&new Set(t.map(o=>o.fps)).size===1)return i.push(e),Number(t[0][e])}n(Aw,"hoistNumberAttributeIfPossible");function yC(t,e){if(t.length>1&&new Set(t.map(i=>i.audio_channels||2)).size===1)return e.push("AudioChannelConfiguration"),t[0].audio_channels}n(yC,"hoistAudioChannelsIfPossible");function bC(t,e){return y(this,void 0,void 0,function*(){var i;let o=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"GET",headers:xi,redirect:"follow"}),r=o.url.replace("&rn=0","").replace("&sq=0",""),s=yield o.text(),u=(i=Je(s,"Segment-Durations-Ms:",`\r
`))===null||i===void 0?void 0:i.split(",");if(!u)throw new v("Failed to extract the segment durations from this OTF stream",{url:t});let p=[];for(let f of u){let m=f.trim();if(m.length===0)continue;let h,x=Je(m,"(r=",")");x&&(h=parseInt(x)),p.push({duration:parseInt(m),repeat_count:h})}return{init_url:`${r}&sq=0`,media_url:`${r}&sq=$Number$`,timeline:p}})}n(bC,"getOTFSegmentTemplate");function Rw(t,e){return y(this,void 0,void 0,function*(){let i=yield e.session.http.fetch_function(`${t}&rn=0&sq=0`,{method:"HEAD",headers:xi,redirect:"follow"}),o=parseInt(i.headers.get("X-Head-Time-Millis")||""),r=parseInt(i.headers.get("X-Head-Seqnum")||"");if(isNaN(o)||isNaN(r))throw new v("Failed to extract the duration or segment count for this Post Live DVR video");return{duration:o/1e3,segment_count:r}})}n(Rw,"getPostLiveDvrInfo");function wC(t,e,i,o,r,s){return y(this,void 0,void 0,function*(){if(!t.item){let u=new URL(e.decipher(r));u.searchParams.set("cpn",s||"");let p=i(u).toString();t.item=yield Rw(p,o)}return t.item.duration})}n(wC,"getPostLiveDvrDuration");function Vw(t,e,i,o,r,s){let u=new URL(t.decipher(o));u.searchParams.set("cpn",r||"");let p=e(u).toString();if(t.is_type_otf){if(!i)throw new v("Unable to get segment durations for this OTF stream without an Actions instance",{format:t});return{is_oft:!0,is_post_live_dvr:!1,getSegmentTemplate(){return bC(p,i)}}}if(s){if(!i)throw new v("Unable to get segment count for this Post Live DVR video without an Actions instance",{format:t});let m=t.target_duration_dec;if(typeof m!="number")throw new v("Format is missing target_duration_dec",{format:t});return{is_oft:!1,is_post_live_dvr:!0,getSegmentTemplate(){return y(this,void 0,void 0,function*(){return s.item||(s.item=yield Rw(p,i)),{media_url:`${p}&sq=$Number$`,timeline:[{duration:m*1e3,repeat_count:s.item.segment_count}]}})}}}if(!t.index_range||!t.init_range)throw new v("Index and init ranges not available",{format:t});return{is_oft:!1,is_post_live_dvr:!1,base_url:p,index_range:t.index_range,init_range:t.init_range}}n(Vw,"getSegmentInfo");function TC(t,e,i,o,r,s,u){new URL(t.decipher(r)).searchParams.set("cpn",s||"");let f=[t.itag.toString()];return t.audio_track&&f.push(t.audio_track.id),t.is_drc&&f.push("drc"),{uid:f.join("-"),bitrate:t.bitrate,codecs:e.includes("codecs")?void 0:Je(t.mime_type,'codecs="','"'),audio_sample_rate:e.includes("audio_sample_rate")?void 0:t.audio_sample_rate,channels:e.includes("AudioChannelConfiguration")?void 0:t.audio_channels||2,segment_info:Vw(t,i,o,r,s,u)}}n(TC,"getAudioRepresentation");function IC(t,e){if(!t.audio_track&&!e)return;let i=[t.is_original?"main":"alternate"];return t.is_dubbed&&i.push("dub"),t.is_descriptive&&i.push("description"),t.is_drc&&i.push("enhanced-audio-intelligibility"),i}n(IC,"getTrackRoles");function kC(t,e,i,o,r,s,u){var p;let f=t[0],{audio_track:m}=f,h=[],x=!!u,w;return m?x&&f.is_drc?w=u.label_drc_mutiple(m.display_name):w=m.display_name:x&&(w=f.is_drc?u.label_drc:u.label_original),{mime_type:f.mime_type.split(";")[0],language:(p=f.language)!==null&&p!==void 0?p:void 0,codecs:Nw(t,h),audio_sample_rate:Aw(t,"audio_sample_rate",h),track_name:w,track_roles:IC(f,x),channels:yC(t,h),representations:t.map(I=>TC(I,h,e,i,o,r,s))}}n(kC,"getAudioSet");var SC={BT709:"1",BT2020:"9"},Pw={BT709:"1",BT2020_10:"14",SMPTEST2084:"16",ARIB_STD_B67:"18"},CC={BT709:"1",BT2020_NCL:"14"};function EC(t){var e;let i=t.color_info,o,r,s;if(i){if(i.primaries&&(o=SC[i.primaries]),i.transfer_characteristics&&(r=Pw[i.transfer_characteristics]),i.matrix_coefficients&&(s=CC[i.matrix_coefficients],!s)){let p=new URL(t.url),f=JSON.parse(JSON.stringify(t));f.url="REDACTED",f.signature_cipher="REDACTED",f.cipher="REDACTED",L.warn(gC,`Unknown matrix coefficients "${i.matrix_coefficients}", the DASH manifest is still usuable without this.
Please report it at ${j.shim.info.bugs_url} so we can add support for it.
InnerTube client: ${p.searchParams.get("c")}
format:`,f)}}else!((e=Je(t.mime_type,'codecs="','"'))===null||e===void 0)&&e.startsWith("avc1")&&(r=Pw.BT709);return{primaries:o,transfer_characteristics:r,matrix_coefficients:s}}n(EC,"getColorInfo");function PC(t,e,i,o,r,s,u){return{uid:t.itag.toString(),bitrate:t.bitrate,width:t.width,height:t.height,codecs:i.includes("codecs")?void 0:Je(t.mime_type,'codecs="','"'),fps:i.includes("fps")?void 0:t.fps,segment_info:Vw(t,e,r,o,s,u)}}n(PC,"getVideoRepresentation");function NC(t,e,i,o,r,s){let u=t[0],p=EC(u),f=[];return{mime_type:u.mime_type.split(";")[0],color_info:p,codecs:Nw(t,f),fps:Aw(t,"fps",f),representations:t.map(h=>PC(h,e,f,i,o,r,s))}}n(NC,"getVideoSet");function AC(t){var e;let i=new Map,o=t.is(Eo)?t.boards:[t.board];for(let r of o){let s=new URL(r.template_url).pathname.split(".").pop(),u=`image/${s==="jpg"?"jpeg":s}`;i.has(u)||i.set(u,[]),(e=i.get(u))===null||e===void 0||e.push(r)}return i}n(AC,"getStoryboardInfo");function RC(t,e,i,o,r){return y(this,void 0,void 0,function*(){let s=e.template_url,u=i(new URL(s.replace("$M","0"))),p=r.response?r.response:t.session.http.fetch_function(u,{method:"HEAD",headers:xi});return r.response=p,(yield p).headers.get("Content-Type")||o})}n(RC,"getStoryboardMimeType");function VC(t,e,i){return y(this,void 0,void 0,function*(){let o=e.template_url,r=[],s=Math.min(e.type==="vod"?e.storyboard_count:5,10);for(let m=0;m<s;m++){let h=new URL(o.replace("$M",m.toString())),x=m===0&&i.response?i.response:t.session.http.fetch_function(h,{method:"HEAD",headers:xi});m===0&&(i.response=x),r.push(x)}let u=yield Promise.all(r),p=[];for(let m of u)p.push(parseInt(m.headers.get("Content-Length")||"0"));return Math.ceil(Math.max(...p)/(e.rows*e.columns)*8)})}n(VC,"getStoryboardBitrate");function MC(t,e,i,o,r){let s=i.template_url,u=new URL(s.replace("$M","$Number$")),p;return i.type==="vod"?p=t/i.storyboard_count:p=t*i.columns*i.rows,{uid:`thumbnails_${i.thumbnail_width}x${i.thumbnail_height}`,getBitrate(){return VC(e,i,r)},sheet_width:i.thumbnail_width*i.columns,sheet_height:i.thumbnail_height*i.rows,thumbnail_height:i.thumbnail_height,thumbnail_width:i.thumbnail_width,rows:i.rows,columns:i.columns,template_duration:p,template_url:o(u).toString(),getURL(m){return u.toString().replace("$Number$",m.toString())}}}n(MC,"getImageRepresentation");function OC(t,e,i,o){let r=AC(i),s={};return Array.from(r.entries()).map(([u,p])=>({probable_mime_type:u,getMimeType(){return RC(e,p[0],o,u,s)},representations:p.map(f=>MC(t,e,f,o,s))}))}n(OC,"getImageSets");function g_(t,e=!1,i=m=>m,o,r,s,u,p,f){if(!t)throw new v("Streaming data not available");let m=o?t.adaptive_formats.filter(H=>!o(H)):t.adaptive_formats,h,x;if(e){if(x={},!u)throw new v("Unable to get duration or segment count for this Post Live DVR video without an Actions instance");h=n(()=>x?wC(x,m[0],i,u,s,r):Promise.resolve(0),"getDuration")}else{let H=m[0].approx_duration_ms/1e3;h=n(()=>Promise.resolve(H),"getDuration")}let{groups:w,has_multiple_audio_tracks:T}=xC(m,e),{video_groups:I,audio_groups:S}=w.reduce((H,pe)=>pe[0].has_audio?(T&&!pe[0].audio_track||H.audio_groups.push(pe),H):(H.video_groups.push(pe),H),{video_groups:[],audio_groups:[]}),P;S.flat().some(H=>H.is_drc)&&(P={label_original:(f==null?void 0:f.label_original)||"Original",label_drc:(f==null?void 0:f.label_drc)||"Stable Volume",label_drc_mutiple:(f==null?void 0:f.label_drc_mutiple)||(H=>`${H} (Stable Volume)`)});let R=S.map(H=>kC(H,i,u,s,r,x,P)),$=I.map(H=>NC(H,i,s,u,r,x)),W=[];if(p&&u){let H;if(p.is(Eo))H=m[0].approx_duration_ms/1e3;else{let pe=m[0].target_duration_dec;if(typeof pe!="number")throw new v("Format is missing target_duration_dec",{format:m[0]});H=pe}W=OC(H,u,p,i)}return{getDuration:h,audio_sets:R,video_sets:$,image_sets:W}}n(g_,"getStreamingInfo");function DC(t){return y(this,arguments,void 0,function*({info:e}){if(!e.is_oft&&!e.is_post_live_dvr)return null;let i=yield e.getSegmentTemplate();return he("segment-template",{startNumber:i.init_url?"1":"0",timescale:"1000",initialization:i.init_url,media:i.media_url},he("segment-timeline",null,i.timeline.map(o=>he("s",{d:o.duration,r:o.repeat_count}))))})}n(DC,"OTFPostLiveDvrSegmentInfo");function Mw({info:t}){return t.is_oft||t.is_post_live_dvr?he(DC,{info:t}):he(Ew,null,he("base-url",null,t.base_url),he("segment-base",{indexRange:`${t.index_range.start}-${t.index_range.end}`},he("initialization",{range:`${t.init_range.start}-${t.init_range.end}`})))}n(Mw,"SegmentInfo");function LC(t){return y(this,arguments,void 0,function*({streamingData:e,isPostLiveDvr:i,transformURL:o,rejectFormat:r,cpn:s,player:u,actions:p,storyboards:f,options:m}){let{getDuration:h,audio_sets:x,video_sets:w,image_sets:T}=g_(e,i,o,r,s,u,p,f,m);return he("mpd",{xmlns:"urn:mpeg:dash:schema:mpd:2011",minBufferTime:"PT1.500S",profiles:"urn:mpeg:dash:profile:isoff-main:2011",type:"static",mediaPresentationDuration:`PT${yield h()}S`,"xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xsi:schemaLocation":"urn:mpeg:dash:schema:mpd:2011 http://standards.iso.org/ittf/PubliclyAvailableStandards/MPEG-DASH_schema_files/DASH-MPD.xsd"},he("period",null,x.map((I,S)=>he("adaptation-set",{id:S,mimeType:I.mime_type,startWithSAP:"1",subsegmentAlignment:"true",lang:I.language,codecs:I.codecs,audioSamplingRate:I.audio_sample_rate,contentType:"audio"},I.track_roles&&I.track_roles.map(P=>he("role",{schemeIdUri:"urn:mpeg:dash:role:2011",value:P})),I.track_name&&he("label",{id:S},I.track_name),I.channels&&he("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:I.channels}),I.representations.map(P=>he("representation",{id:P.uid,bandwidth:P.bitrate,codecs:P.codecs,audioSamplingRate:P.audio_sample_rate},P.channels&&he("audio-channel-configuration",{schemeIdUri:"urn:mpeg:dash:23003:3:audio_channel_configuration:2011",value:P.channels}),he(Mw,{info:P.segment_info}))))),w.map((I,S)=>he("adaptation-set",{id:S+x.length,mimeType:I.mime_type,startWithSAP:"1",subsegmentAlignment:"true",codecs:I.codecs,maxPlayoutRate:"1",frameRate:I.fps,contentType:"video"},I.color_info.primaries&&he("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:ColourPrimaries",value:I.color_info.primaries}),I.color_info.transfer_characteristics&&he("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:TransferCharacteristics",value:I.color_info.transfer_characteristics}),I.color_info.matrix_coefficients&&he("essential-property",{schemeIdUri:"urn:mpeg:mpegB:cicp:MatrixCoefficients",value:I.color_info.matrix_coefficients}),I.representations.map(P=>he("representation",{id:P.uid,bandwidth:P.bitrate,width:P.width,height:P.height,codecs:P.codecs,frameRate:P.fps},he(Mw,{info:P.segment_info}))))),T.map((I,S)=>y(this,void 0,void 0,function*(){return he("adaptation-set",{id:S+x.length+w.length,mimeType:yield I.getMimeType(),contentType:"image"},I.representations.map(P=>y(this,void 0,void 0,function*(){return he("representation",{id:`thumbnails_${P.thumbnail_width}x${P.thumbnail_height}`,bandwidth:yield P.getBitrate(),width:P.sheet_width,height:P.sheet_height},he("essential-property",{schemeIdUri:"http://dashif.org/thumbnail_tile",value:`${P.columns}x${P.rows}`}),he("segment-template",{media:P.template_url,duration:P.template_duration,startNumber:"0"}))})))}))))})}n(LC,"DashManifest");function Ow(t,e=!1,i=m=>m,o,r,s,u,p,f){if(!t)throw new v("Streaming data not available");return Cw(he(LC,{streamingData:t,isPostLiveDvr:e,transformURL:i,options:f,rejectFormat:o,cpn:r,player:s,actions:u,storyboards:p}))}n(Ow,"toDash");function BC(t,e,i,o,r,s){return y(this,void 0,void 0,function*(){if((i==null?void 0:i.status)==="UNPLAYABLE")throw new v("Video is unplayable",{error_type:"UNPLAYABLE"});if((i==null?void 0:i.status)==="LOGIN_REQUIRED")throw new v("Video is login required",{error_type:"LOGIN_REQUIRED"});if(!o)throw new v("Streaming data not available.",{error_type:"NO_STREAMING_DATA"});let u=Object.assign({quality:"360p",type:"video+audio",format:"mp4",range:void 0},t),p=Dw(u,o),f=p.decipher(r);if(u.type==="video+audio"&&!t.range){let S=yield e.session.http.fetch_function(`${f}&cpn=${s}`,{method:"GET",headers:xi,redirect:"follow"});if(!S.ok)throw new v("The server responded with a non 2xx status code",{error_type:"FETCH_FAILED",response:S});let P=S.body;if(!P)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:S});return P}let m=1048576*10,h=t.range?t.range.start:0,x=t.range?t.range.end:m,w=!1,T;return new j.shim.ReadableStream({start(){},pull:S=>y(this,void 0,void 0,function*(){if(w){S.close();return}return(x>=(p.content_length?p.content_length:0)||t.range)&&(w=!0),new Promise((P,R)=>y(this,void 0,void 0,function*(){var $,W,ge,H;try{T=new AbortController;let q=yield e.session.http.fetch_function(`${f}&cpn=${s}&range=${h}-${x||""}`,{method:"GET",headers:Object.assign({},xi),signal:T.signal}),K=q.body;if(!K)throw new v("Could not get ReadableStream from fetch Response.",{error_type:"FETCH_FAILED",response:q});try{for(var pe=!0,Se=ww(Wy(K)),Ve;Ve=yield Se.next(),$=Ve.done,!$;pe=!0){H=Ve.value,pe=!1;let Z=H;S.enqueue(Z)}}catch(Z){W={error:Z}}finally{try{!pe&&!$&&(ge=Se.return)&&(yield ge.call(Se))}finally{if(W)throw W.error}}h=x+1,x+=m,P()}catch(q){R(q)}}))}),cancel(S){return y(this,void 0,void 0,function*(){T.abort(S)})}},{highWaterMark:1,size(S){return S.byteLength}})})}n(BC,"download");function Dw(t,e){if(!e)throw new v("Streaming data not available");let i=[...e.formats||[],...e.adaptive_formats||[]],o=t.type?t.type.includes("audio"):!0,r=t.type?t.type.includes("video"):!0,s=t.language||"original",u=t.quality||"best",p=-1,f=["best","bestefficiency"].includes(u),m=u!=="best",h=i.filter(x=>o&&!x.has_audio||r&&!x.has_video||t.format!=="any"&&!x.mime_type.includes(t.format||"mp4")||!f&&x.quality_label!==u?!1:(p<x.width&&(p=x.width),!0));if(!h.length)throw new v("No matching formats found",{options:t});if(f&&r&&(h=h.filter(x=>x.width===p)),o&&!r){let x=h.filter(w=>s!=="original"?!w.has_video&&!w.has_text&&w.language===s:!w.has_video&&!w.has_text&&w.is_original);x.length>0&&(h=x)}return m?h.sort((x,w)=>x.bitrate-w.bitrate):h.sort((x,w)=>w.bitrate-x.bitrate),h[0]}n(Dw,"chooseFormat");var Hy,Lt,er,da,Lw,x_=class{constructor(e,i,o){Hy.add(this),Lt.set(this,void 0),er.set(this,void 0),da.set(this,void 0),k(this,Lt,e,"f"),k(this,er,i,"f"),k(this,da,o||j.shim.fetch,"f")}get fetch_function(){return d(this,da,"f")}fetch(e,i){return y(this,void 0,void 0,function*(){let o=it.API.PRODUCTION_1+d(this,Lt,"f").api_version,r=(i==null?void 0:i.baseURL)||o,s=typeof e=="string"?!r.endsWith("/")&&!e.startsWith("/")?new URL(`${r}/${e}`):new URL(r+e):e instanceof URL?e:new URL(e.url,r),u=(i==null?void 0:i.headers)||(e instanceof j.shim.Request?e.headers:new j.shim.Headers)||new j.shim.Headers,p=(i==null?void 0:i.body)||(e instanceof j.shim.Request?e.body:void 0),f=new j.shim.Headers(u);f.set("Accept","*/*"),f.set("Accept-Language","*"),f.set("X-Goog-Visitor-Id",d(this,Lt,"f").context.client.visitorData||""),f.set("X-Youtube-Client-Version",d(this,Lt,"f").context.client.clientVersion||"");let m=Object.values(ue).find(P=>P.NAME===d(this,Lt,"f").context.client.clientName);m&&f.set("X-Youtube-Client-Name",m.NAME_ID),j.shim.server&&(f.set("User-Agent",No("desktop")),f.set("Origin",s.origin)),s.searchParams.set("prettyPrint","false"),s.searchParams.set("alt","json");let h=f.get("Content-Type"),x=p,w=!1,T=r===o||r===it.YT_UPLOAD;if(h==="application/json"&&T&&typeof p=="string"){let P=JSON.parse(p),R=Object.assign(Object.assign({},P),{context:JSON.parse(JSON.stringify(d(this,Lt,"f").context))});d(this,Hy,"m",Lw).call(this,R.context,R.client),f.set("X-Youtube-Client-Version",R.context.client.clientVersion);let $=Object.values(ue).find(W=>W.NAME===R.context.client.clientName);$&&f.set("X-Youtube-Client-Name",$.NAME_ID),delete R.client,R.context.client.clientName==="ANDROID"||R.context.client.clientName==="ANDROID_MUSIC"?(f.set("User-Agent",ue.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2")):R.context.client.clientName==="iOS"&&f.set("User-Agent",ue.iOS.USER_AGENT),w=R.context.client.clientName==="WEB_KIDS",x=JSON.stringify(R)}else h==="application/x-protobuf"&&j.shim.server&&(f.set("User-Agent",ue.ANDROID.USER_AGENT),f.set("X-GOOG-API-FORMAT-VERSION","2"),f.delete("X-Youtube-Client-Version"));if(d(this,Lt,"f").logged_in&&T&&!w){let P=d(this,Lt,"f").oauth;if(P.oauth2_tokens&&(P.shouldRefreshToken()&&(yield P.refreshAccessToken()),f.set("Authorization",`Bearer ${P.oauth2_tokens.access_token}`)),d(this,er,"f")){let R=zy(d(this,er,"f"),"SAPISID");R&&(f.set("Authorization",yield Gy(R)),f.set("X-Goog-Authuser",d(this,Lt,"f").account_index.toString())),f.set("Cookie",d(this,er,"f"))}}let I=new j.shim.Request(s,e instanceof j.shim.Request?e:i),S=yield d(this,da,"f").call(this,I,Object.assign({body:x,headers:f,redirect:e instanceof j.shim.Request?e.redirect:(i==null?void 0:i.redirect)||"follow"},j.shim.runtime!=="cf-worker"?{credentials:"include"}:{}));if(S.ok)return S;throw new v(`Request to ${S.url} failed with status ${S.status}`,yield S.text())})}};n(x_,"HTTPClient");Lt=new WeakMap,er=new WeakMap,da=new WeakMap,Hy=new WeakSet,Lw=n(function(e,i){switch((i==="ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTMUSIC_ANDROID"||i==="YTSTUDIO_ANDROID")&&(e.client.androidSdkVersion=ue.ANDROID.SDK_VERSION,e.client.userAgent=ue.ANDROID.USER_AGENT,e.client.osName="Android",e.client.osVersion="13",e.client.platform="MOBILE"),i){case"iOS":e.client.deviceModel=ue.iOS.DEVICE_MODEL,e.client.clientVersion=ue.iOS.VERSION,e.client.clientName=ue.iOS.NAME,e.client.platform="MOBILE";break;case"YTMUSIC":e.client.clientVersion=ue.YTMUSIC.VERSION,e.client.clientName=ue.YTMUSIC.NAME;break;case"ANDROID":e.client.clientVersion=ue.ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ue.ANDROID.NAME;break;case"YTMUSIC_ANDROID":e.client.clientVersion=ue.YTMUSIC_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ue.YTMUSIC_ANDROID.NAME;break;case"YTSTUDIO_ANDROID":e.client.clientVersion=ue.YTSTUDIO_ANDROID.VERSION,e.client.clientFormFactor="SMALL_FORM_FACTOR",e.client.clientName=ue.YTSTUDIO_ANDROID.NAME;break;case"TV_EMBEDDED":e.client.clientName=ue.TV_EMBEDDED.NAME,e.client.clientVersion=ue.TV_EMBEDDED.VERSION,e.client.clientScreen="EMBED",e.thirdParty={embedUrl:it.YT_BASE};break;case"YTKIDS":e.client.clientVersion=ue.WEB_KIDS.VERSION,e.client.clientName=ue.WEB_KIDS.NAME,e.client.kidsAppInfo={categorySettings:{enabledCategories:["approved_for_you","black_joy","camp","collections","earth","explore","favorites","gaming","halloween","hero","learning","move","music","reading","shared_by_parents","shows","soccer","sports","spotlight","winter"]},contentSettings:{corpusPreference:"KIDS_CORPUS_PREFERENCE_YOUNGER",kidsNoSearchMode:"YT_KIDS_NO_SEARCH_MODE_OFF"}};break;default:break}},"_HTTPClient_adjustContext");var Jy=x_;var Bt={};D(Bt,{compress:()=>FC,decompress:()=>YC});function FC(t){let e=[],i={};for(let s=0;s<256;s++)i[String.fromCharCode(s)]=s;let o="",r=256;for(let s=0;s<t.length;s++){let u=t[s],p=o+u;i.hasOwnProperty(p)?o=p:(e.push(i[o]),i[p]=r++,o=u)}return o!==""&&e.push(i[o]),e.map(s=>String.fromCharCode(s)).join("")}n(FC,"compress");function YC(t){let e={},i=t.split(""),o=[i.shift()],r=i.length>>>0,s=256,u=o[0],p=u;for(let f=0;f<r;++f){let m=i[f].charCodeAt(0),h=m<256?i[f]:e[m]?e[m]:p+u;o.push(h),u=h.charAt(0),e[s++]=p+u,p=h}return o.join("")}n(YC,"decompress");var pa=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new l(e.text).toString()),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"label")&&(this.label=e.accessibility.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"isDisabled")&&(this.is_disabled=e.isDisabled),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint||e.command)}};n(pa,"Button");pa.type="Button";var C=pa;var fa=class extends a{constructor(e){var i;super(),this.label=new l(e.label).toString(),this.selected=!!e.isSelected,Reflect.has(e,"int32Value")?this.value=e.int32Value:e.stringValue&&(this.value=e.stringValue),Reflect.has(e,"onSelectCommand")&&(this.endpoint=new g(e.onSelectCommand)),Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),Reflect.has(e,"descriptionText")&&(this.description=new l(e.descriptionText))}};n(fa,"DropdownItem");fa.type="DropdownItem";var y_=fa;var ma=class extends a{constructor(e){super(),this.label=e.label||"",this.entries=c.parseArray(e.entries,y_)}};n(ma,"Dropdown");ma.type="Dropdown";var tr=ma;var ha=class extends a{constructor(e){super(),this.title=new l(e.dialogTitle).toString(),this.title_placeholder=e.titlePlaceholder||"",this.privacy_option=c.parseItem(e.privacyOption,tr),this.create_button=c.parseItem(e.cancelButton,C),this.cancel_button=c.parseItem(e.cancelButton,C)}};n(ha,"CreatePlaylistDialog");ha.type="CreatePlaylistDialog";var b_=ha;var _a=class extends a{constructor(e){super(),this.popup=c.parseItem(e.popup),this.popup_type=e.popupType}};n(_a,"OpenPopupAction");_a.type="OpenPopupAction";var w_=_a;var Ao=class extends a{constructor(e){var i,o,r,s,u,p,f,m;super(),Reflect.has(e||{},"innertubeCommand")&&(e=e.innertubeCommand),Reflect.has(e||{},"openPopupAction")&&(this.open_popup=new w_(e.openPopupAction));let h=Object.keys(e||{}).find(x=>x.endsWith("Endpoint")||x.endsWith("Command"));this.payload=h?Reflect.get(e,h):{},(Reflect.has(this.payload,"dialog")||Reflect.has(this.payload,"content"))&&(this.dialog=c.parseItem(this.payload.dialog||this.payload.content)),Reflect.has(this.payload,"modal")&&(this.modal=c.parseItem(this.payload.modal)),Reflect.has(this.payload,"nextEndpoint")&&(this.next_endpoint=new Ao(this.payload.nextEndpoint)),e!=null&&e.serviceEndpoint&&(e=e.serviceEndpoint),this.metadata={},!((o=(i=e==null?void 0:e.commandMetadata)===null||i===void 0?void 0:i.webCommandMetadata)===null||o===void 0)&&o.url&&(this.metadata.url=e.commandMetadata.webCommandMetadata.url),!((s=(r=e==null?void 0:e.commandMetadata)===null||r===void 0?void 0:r.webCommandMetadata)===null||s===void 0)&&s.webPageType&&(this.metadata.page_type=e.commandMetadata.webCommandMetadata.webPageType),!((p=(u=e==null?void 0:e.commandMetadata)===null||u===void 0?void 0:u.webCommandMetadata)===null||p===void 0)&&p.apiUrl?this.metadata.api_url=e.commandMetadata.webCommandMetadata.apiUrl.replace("/youtubei/v1/",""):h&&(this.metadata.api_url=this.getEndpoint(h)),!((m=(f=e==null?void 0:e.commandMetadata)===null||f===void 0?void 0:f.webCommandMetadata)===null||m===void 0)&&m.sendPost&&(this.metadata.send_post=e.commandMetadata.webCommandMetadata.sendPost),e!=null&&e.createPlaylistEndpoint&&e!=null&&e.createPlaylistEndpoint.createPlaylistDialog&&(this.dialog=c.parseItem(e==null?void 0:e.createPlaylistEndpoint.createPlaylistDialog,b_))}getEndpoint(e){switch(e){case"browseEndpoint":return"/browse";case"watchEndpoint":return"/player";case"searchEndpoint":return"/search";case"watchPlaylistEndpoint":return"/next";case"liveChatItemContextMenuEndpoint":return"live_chat/get_item_context_menu"}}call(e,i){if(!e)throw new Error("An active caller must be provided");if(!this.metadata.api_url)throw new Error("Expected an api_url, but none was found, this is a bug.");return e.execute(this.metadata.api_url,Object.assign(Object.assign({},this.payload),i))}toURL(){if(!!this.metadata.url&&!!this.metadata.page_type)return this.metadata.page_type==="WEB_PAGE_TYPE_UNKNOWN"?this.metadata.url:`https://www.youtube.com${this.metadata.url}`}};n(Ao,"NavigationEndpoint");Ao.type="NavigationEndpoint";var g=Ao;var b=class{constructor(e){this.url=e.url,this.width=e.width,this.height=e.height}static fromResponse(e){if(!e)return[];let i;return e.thumbnails?i=e.thumbnails:e.sources&&(i=e.sources),i?i.map(o=>new b(o)).sort((o,r)=>r.width-o.width):[]}};n(b,"Thumbnail");var Mi=class{constructor(e){var i,o,r,s,u,p;this.text=((i=e.emoji)===null||i===void 0?void 0:i.emojiId)||((r=(o=e.emoji)===null||o===void 0?void 0:o.shortcuts)===null||r===void 0?void 0:r[0])||e.text||"",this.emoji={emoji_id:e.emoji.emojiId,shortcuts:((s=e.emoji)===null||s===void 0?void 0:s.shortcuts)||[],search_terms:((u=e.emoji)===null||u===void 0?void 0:u.searchTerms)||[],image:b.fromResponse(e.emoji.image),is_custom:!!(!((p=e.emoji)===null||p===void 0)&&p.isCustomEmoji)}}toString(){return this.text}toHTML(){let e=T_(this.text);return`<img src="${this.emoji.image[0].url}" alt="${e}" title="${e}" style="display: inline-block; vertical-align: text-top; height: var(--yt-emoji-size, 1rem); width: var(--yt-emoji-size, 1rem);" loading="lazy" crossorigin="anonymous" />`}};n(Mi,"EmojiRun");var Oi=class{constructor(e){this.text=e.text,this.bold=Boolean(e.bold),this.italics=Boolean(e.italics),this.strikethrough=Boolean(e.strikethrough),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.attachment=e.attachment}toString(){return this.text}toHTML(){let e=[];this.bold&&e.push("b"),this.italics&&e.push("i"),this.strikethrough&&e.push("s");let i=T_(this.text),r=`<span style="white-space: pre-wrap;">${e.map(s=>`<${s}>`).join("")+i+e.map(s=>`</${s}>`).join("")}</span>`;if(this.attachment&&this.attachment.element.type.imageType.image.sources.length){let{url:s}=this.attachment.element.type.imageType.image.sources[0];if(this.endpoint){let u=this.endpoint.toURL();if(u)return`<a href="${u}" class="yt-ch-link" display: block; width: fit-content; font-size: small;><img src="${s}" style="vertical-align: middle; height: ${this.attachment.element.properties.layoutProperties.height.value}px; width: ${this.attachment.element.properties.layoutProperties.width.value}px;">${r}</a>`}}if(this.endpoint){let s=this.endpoint.toURL();if(s)return`<a href="${s}">${r}</a>`}return r}};n(Oi,"TextRun");function T_(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}n(T_,"escape");var va="Text",l=class{constructor(e){var i,o,r,s;typeof e=="object"&&e!==null&&Reflect.has(e,"runs")&&Array.isArray(e.runs)?(this.runs=e.runs.map(u=>u.emoji?new Mi(u):new Oi(u)),this.text=this.runs.map(u=>u.text).join("")):this.text=e==null?void 0:e.simpleText,typeof e=="object"&&e!==null&&Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),typeof e=="object"&&e!==null&&Reflect.has(e,"titleNavigationEndpoint")&&(this.endpoint=new g(e.titleNavigationEndpoint)),this.endpoint||!((o=(i=this.runs)===null||i===void 0?void 0:i[0])===null||o===void 0)&&o.endpoint&&(this.endpoint=(s=(r=this.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.endpoint)}static fromAttributed(e){var i,o,r;let{content:s,styleRuns:u,commandRuns:p,attachmentRuns:f}=e,m=[{text:s,startIndex:0}];if(u||p||f){if(u)for(let h of u)if(h.italic||h.strikethrough==="LINE_STYLE_SINGLE"||h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD"){let x=Ky(m,h);if(!x){L.warn(va,"Unable to find matching run for style run. Skipping...",{style_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(m))});continue}I_(m,x,h,{bold:h.weightLabel==="FONT_WEIGHT_MEDIUM"||h.weightLabel==="FONT_WEIGHT_BOLD",italics:h.italic,strikethrough:h.strikethrough==="LINE_STYLE_SINGLE"})}else L.debug(va,"Skipping style run as it is doesn't have any information that we parse.",{style_run:h,input_data:e});if(p)for(let h of p)if(h.onTap){let x=Ky(m,h);if(!x){L.warn(va,"Unable to find matching run for command run. Skipping...",{command_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(m))});continue}I_(m,x,h,{navigationEndpoint:h.onTap})}else L.debug(va,'Skipping command run as it is missing the "doTap" property.',{command_run:h,input_data:e});if(f)for(let h of f){let x=Ky(m,h);if(!x){L.warn(va,"Unable to find matching run for attachment run. Skipping...",{attachment_run:h,input_data:e,parsed_runs:JSON.parse(JSON.stringify(m))});continue}if(h.length===0)x.attachment=h;else{let w=h.startIndex-x.startIndex,T=x.text.substring(w,w+h.length),I=/^:[^:]+:$/.test(T);if(((r=(o=(i=h.element)===null||i===void 0?void 0:i.type)===null||o===void 0?void 0:o.imageType)===null||r===void 0?void 0:r.image)&&(I||new RegExp("^(?:\\p{Emoji}|\\u200d)+$","u").test(T))){let S={image:h.element.type.imageType.image,isCustomEmoji:I,shortcuts:I?[T]:void 0};I_(m,x,h,{emoji:S})}else I_(m,x,h,{attachment:h})}}}return new l({runs:m})}toHTML(){return this.runs?this.runs.map(e=>e.toHTML()).join(""):this.text}isEmpty(){return this.text===void 0}toString(){return this.text||"N/A"}};n(l,"Text");function Ky(t,e){return t.find(i=>i.startIndex<=e.startIndex&&e.startIndex+e.length<=i.startIndex+i.text.length)}n(Ky,"findMatchingRun");function I_(t,e,i,o){let r=t.indexOf(e),s=[],u=i.startIndex-e.startIndex;i.startIndex>e.startIndex&&s.push(Object.assign(Object.assign({},e),{text:e.text.substring(0,u)})),s.push(Object.assign(Object.assign(Object.assign({},e),{text:e.text.substring(u,u+i.length),startIndex:i.startIndex}),o)),i.startIndex+i.length<e.startIndex+e.text.length&&s.push(Object.assign(Object.assign({},e),{text:e.text.substring(u+i.length),startIndex:i.startIndex+i.length})),t.splice(r,1,...s)}n(I_,"insertSubRun");var ga=class extends a{constructor(e){super(),this.title=l.fromAttributed(e.title),this.link=l.fromAttributed(e.link),this.favicon=b.fromResponse(e.favicon)}};n(ga,"ChannelExternalLinkView");ga.type="ChannelExternalLinkView";var k_=ga;var xa=class extends a{constructor(e){super(),Reflect.has(e,"description")&&(this.description=e.description),Reflect.has(e,"descriptionLabel")&&(this.description_label=l.fromAttributed(e.descriptionLabel)),Reflect.has(e,"country")&&(this.country=e.country),Reflect.has(e,"customLinksLabel")&&(this.custom_links_label=l.fromAttributed(e.customLinksLabel)),Reflect.has(e,"subscriberCountText")&&(this.subscriber_count=e.subscriberCountText),Reflect.has(e,"viewCountText")&&(this.view_count=e.viewCountText),Reflect.has(e,"joinedDateText")&&(this.joined_date=l.fromAttributed(e.joinedDateText)),Reflect.has(e,"canonicalChannelUrl")&&(this.canonical_channel_url=e.canonicalChannelUrl),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"additionalInfoLabel")&&(this.additional_info_label=l.fromAttributed(e.additionalInfoLabel)),Reflect.has(e,"customUrlOnTap")&&(this.custom_url_on_tap=new g(e.customUrlOnTap)),Reflect.has(e,"videoCountText")&&(this.video_count=e.videoCountText),Reflect.has(e,"signInForBusinessEmail")&&(this.sign_in_for_business_email=l.fromAttributed(e.signInForBusinessEmail)),Reflect.has(e,"links")?this.links=c.parseArray(e.links,k_):this.links=[]}};n(xa,"AboutChannelView");xa.type="AboutChannelView";var S_=xa;var ya=class extends a{constructor(e){super(),this.metadata=c.parseItem(e.metadata,S_),this.share_channel=c.parseItem(e.shareChannel,C)}};n(ya,"AboutChannel");ya.type="AboutChannel";var C_=ya;var ba=class extends a{constructor(e){super(),this.title=new l(e.title),this.endpoint=new g(e.navigationEndpoint)}};n(ba,"AccountChannel");ba.type="AccountChannel";var E_=ba;var wa=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(wa,"AccountItemSectionHeader");wa.type="AccountItemSectionHeader";var P_=wa;var Ta=class extends a{constructor(e){super(),this.account_name=new l(e.accountName),this.account_photo=b.fromResponse(e.accountPhoto),this.is_selected=!!e.isSelected,this.is_disabled=!!e.isDisabled,this.has_channel=!!e.hasChannel,this.endpoint=new g(e.serviceEndpoint),this.account_byline=new l(e.accountByline)}};n(Ta,"AccountItem");Ta.type="AccountItem";var Ia=class extends a{constructor(e){super(),this.contents=ee(e.contents.map(i=>new Ta(i.accountItem))),this.header=c.parseItem(e.header,P_)}};n(Ia,"AccountItemSection");Ia.type="AccountItemSection";var N_=Ia;var ka=class extends a{constructor(e){super(),this.contents=c.parseItem(e.contents[0],N_),this.footers=c.parseItem(e.footers[0],E_)}};n(ka,"AccountSectionList");ka.type="AccountSectionList";var A_=ka;var Sa=class extends a{constructor(e){super(),this.contents=c.parseArray(e.continuationItems),this.target=e.target}};n(Sa,"AppendContinuationItemsAction");Sa.type="AppendContinuationItemsAction";var Ro=Sa;var Ca=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=e.title),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"accessibility")&&(this.label=e.accessibility.accessibilityData.label),Reflect.has(e,"tooltip")&&(this.tooltip=e.tooltip),Reflect.has(e,"subMenuItems")&&(this.sub_menu_items=e.subMenuItems.map(i=>{var o,r;return{title:i.title,selected:i.selected,continuation:(r=(o=i.continuation)===null||o===void 0?void 0:o.reloadContinuationData)===null||r===void 0?void 0:r.continuation,endpoint:new g(i.serviceEndpoint||i.navigationEndpoint),subtitle:i.subtitle||null}}))}};n(Ca,"SortFilterSubMenu");Ca.type="SortFilterSubMenu";var Ft=Ca;var Ea=class extends a{constructor(e){super(),this.language_menu=c.parseItem(e.languageMenu,Ft)}};n(Ea,"TranscriptFooter");Ea.type="TranscriptFooter";var R_=Ea;var Pa=class extends a{constructor(e){super(),this.formatted_placeholder=new l(e.formattedPlaceholder),this.clear_button=c.parseItem(e.clearButton,C),this.endpoint=new g(e.onTextChangeCommand),this.search_button=c.parseItem(e.searchButton,C)}};n(Pa,"TranscriptSearchBox");Pa.type="TranscriptSearchBox";var V_=Pa;var Na=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new l(e.snippet)}};n(Na,"TranscriptSectionHeader");Na.type="TranscriptSectionHeader";var M_=Na;var Aa=class extends a{constructor(e){super(),this.start_ms=e.startMs,this.end_ms=e.endMs,this.snippet=new l(e.snippet),this.start_time_text=new l(e.startTimeText),this.target_id=e.targetId}};n(Aa,"TranscriptSegment");Aa.type="TranscriptSegment";var O_=Aa;var Ra=class extends a{constructor(e){super(),this.initial_segments=c.parseArray(e.initialSegments,[O_,M_]),this.no_result_label=new l(e.noResultLabel),this.retry_label=new l(e.retryLabel),this.touch_captions_enabled=e.touchCaptionsEnabled}};n(Ra,"TranscriptSegmentList");Ra.type="TranscriptSegmentList";var D_=Ra;var Va=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,V_),this.body=c.parseItem(e.body,D_),this.footer=c.parseItem(e.footer,R_),this.target_id=e.targetId}};n(Va,"TranscriptSearchPanel");Va.type="TranscriptSearchPanel";var L_=Va;var Ma=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,L_)}};n(Ma,"Transcript");Ma.type="Transcript";var ir=Ma;var Oa=class extends a{constructor(e){super(),this.target_id=e.targetId,this.content=c.parseItem(e.content,ir)}};n(Oa,"UpdateEngagementPanelAction");Oa.type="UpdateEngagementPanelAction";var Bw=Oa;var Da=class extends a{constructor(e){super(),this.text=new l(e.text),this.alert_type=e.type}};n(Da,"Alert");Da.type="Alert";var or=Da;var La=class extends a{constructor(e){super(),this.text=new l(e.text),this.alert_type=e.type,this.dismiss_button=c.parseItem(e.dismissButton,C)}};n(La,"AlertWithButton");La.type="AlertWithButton";var B_=La;var Ba=class extends a{constructor(e){super(),this.title=e.title,this.subtitle=e.subtitle,this.metric_value=e.metricValue,this.comparison_indicator=e.comparisonIndicator;let i=e.seriesConfiguration.lineSeries;this.series_configuration={line_series:{lines_data:{x:i.linesData[0].x,y:i.linesData[0].y,style:{line_width:i.linesData[0].style.lineWidth,line_color:i.linesData[0].style.lineColor}},domain_axis:{tick_values:i.domainAxis.tickValues,custom_formatter:i.domainAxis.customFormatter},measure_axis:{tick_values:i.measureAxis.tickValues,custom_formatter:i.measureAxis.customFormatter}}}}};n(Ba,"DataModelSection");Ba.type="DataModelSection";var F_=Ba;var Fa=class extends a{constructor(e){super(),this.period=e.cardData.periodLabel;let i=e.cardData.sections[0].analyticsKeyMetricsData;this.sections=i.dataModel.sections.map(o=>new F_(o))}};n(Fa,"AnalyticsMainAppKeyMetrics");Fa.type="AnalyticsMainAppKeyMetrics";var Fw=Fa;var Ya=class extends a{constructor(e){super();let i=e.analyticsTableCarouselData.data.tableCards;this.title=e.analyticsTableCarouselData.carouselTitle,this.selected_card_index_key=e.analyticsTableCarouselData.selectedCardIndexKey,this.table_cards=i.map(o=>({title:o.cardData.title,rows:o.cardData.rows.map(r=>({label:r.label,display_value:r.displayValue,display_value_a11y:r.displayValueA11y,bar_ratio:r.barRatio,bar_color:r.barColor,bar_opacity:r.barOpacity}))})),this.use_main_app_specs=e.analyticsTableCarouselData.useMainAppSpecs}};n(Ya,"AnalyticsRoot");Ya.type="AnalyticsRoot";var Yw=Ya;var ja=class extends a{constructor(e){super(),this.title=e.title,this.shorts=e.shortsCarouselData.shorts.map(i=>({description:i.shortsDescription,thumbnail_url:i.thumbnailUrl,endpoint:new g(i.videoEndpoint)}))}};n(ja,"AnalyticsShortsCarouselCard");ja.type="AnalyticsShortsCarouselCard";var jw=ja;var Ua=class extends a{constructor(e){super(),this.title=e.videoTitle,this.metadata={views:e.videoDescription.split("\xB7")[0].trim(),published:e.videoDescription.split("\xB7")[1].trim(),thumbnails:b.fromResponse(e.thumbnailDetails),duration:e.formattedLength,is_short:e.isShort}}};n(Ua,"AnalyticsVideo");Ua.type="AnalyticsVideo";var Y_=Ua;var Wa=class extends a{constructor(e){super(),this.title=e.title,Reflect.has(e,"noDataMessage")&&(this.no_data_message=e.noDataMessage),Reflect.has(e,"videoCarouselData")&&Reflect.has(e.videoCarouselData,"videos")&&(this.videos=e.videoCarouselData.videos.map(i=>new Y_(i)))}};n(Wa,"AnalyticsVodCarouselCard");Wa.type="AnalyticsVodCarouselCard";var Uw=Wa;var Ha=class extends a{constructor(e){super(),this.title=e.buttonLabel,this.use_new_specs=e.useNewSpecs}};n(Ha,"CtaGoToCreatorStudio");Ha.type="CtaGoToCreatorStudio";var Ww=Ha;var Ja=class extends a{constructor(e){super(),this.title=new l(e.title),this.contents=new l(e.contents)}};n(Ja,"StatRow");Ja.type="StatRow";var Hw=Ja;var Ga=class extends a{constructor(e){super(),this.text=l.fromAttributed(e.text),this.suffix=l.fromAttributed(e.suffix)}};n(Ga,"AttributionView");Ga.type="AttributionView";var j_=Ga;var za=class extends a{constructor(e){super(),this.audio_only_availability=e.audioOnlyAvailability}};n(za,"AudioOnlyPlayability");za.type="AudioOnlyPlayability";var U_=za;var $a=class extends a{constructor(e){var i,o;super(),!((o=(i=e==null?void 0:e.content)===null||i===void 0?void 0:i.automixPlaylistVideoRenderer)===null||o===void 0)&&o.navigationEndpoint&&(this.playlist_video={endpoint:new g(e.content.automixPlaylistVideoRenderer.navigationEndpoint)})}};n($a,"AutomixPreviewVideo");$a.type="AutomixPreviewVideo";var Di=$a;var Ka=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.image_processor={border_image_processor:{circular:e.image.processor.borderImageProcessor.circular}},this.avatar_image_size=e.avatarImageSize}};n(Ka,"AvatarView");Ka.type="AvatarView";var W_=Ka;var qa=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.endpoint=new g(e.command)}};n(qa,"BackstageImage");qa.type="BackstageImage";var H_=qa;var Xa=class extends a{constructor(e){var i,o,r,s,u,p,f,m,h;super(),this.text=new l(e.defaultText),this.toggled_text=new l(e.toggledText),this.tooltip=e.defaultTooltip,this.toggled_tooltip=e.toggledTooltip,this.is_toggled=e.isToggled,this.is_disabled=e.isDisabled,this.icon_type=(i=e.defaultIcon)===null||i===void 0?void 0:i.iconType;let x=((s=(r=(o=e==null?void 0:e.defaultText)===null||o===void 0?void 0:o.accessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label)||((p=(u=e==null?void 0:e.accessibilityData)===null||u===void 0?void 0:u.accessibilityData)===null||p===void 0?void 0:p.label)||((f=e==null?void 0:e.accessibility)===null||f===void 0?void 0:f.label);this.icon_type=="LIKE"&&(this.like_count=parseInt(x.replace(/\D/g,"")),this.short_like_count=new l(e.defaultText).toString()),this.endpoint=!((h=(m=e.defaultServiceEndpoint)===null||m===void 0?void 0:m.commandExecutorCommand)===null||h===void 0)&&h.commands?new g(e.defaultServiceEndpoint.commandExecutorCommand.commands.pop()):new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint),Reflect.has(e,"toggleButtonSupportedData")&&Reflect.has(e.toggleButtonSupportedData,"toggleButtonIdData")&&(this.button_id=e.toggleButtonSupportedData.toggleButtonIdData.id),Reflect.has(e,"targetId")&&(this.target_id=e.targetId)}};n(Xa,"ToggleButton");Xa.type="ToggleButton";var Pe=Xa;var Qa=class extends a{constructor(e){var i,o;super(),this.creator_thumbnail=b.fromResponse(e.creatorThumbnail),Reflect.has(e,"heartIcon")&&Reflect.has(e.heartIcon,"iconType")&&(this.heart_icon_type=e.heartIcon.iconType),this.heart_color={basic_color_palette_data:{foreground_title_color:(o=(i=e.heartColor)===null||i===void 0?void 0:i.basicColorPaletteData)===null||o===void 0?void 0:o.foregroundTitleColor}},this.hearted_tooltip=e.heartedTooltip,this.is_hearted=e.isHearted,this.is_enabled=e.isEnabled,this.kennedy_heart_color_string=e.kennedyHeartColorString}};n(Qa,"CreatorHeart");Qa.type="CreatorHeart";var J_=Qa;var Za=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,Pe),this.dislike_button=c.parseItem(e.dislikeButton,Pe),this.reply_button=c.parseItem(e.replyButton,C),this.creator_heart=c.parseItem(e.creatorHeart,J_)}};n(Za,"CommentActionButtons");Za.type="CommentActionButtons";var nr=Za;var eu=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.top_level_buttons=c.parseArray(e.topLevelButtons),Reflect.has(e,"accessibility")&&Reflect.has(e.accessibility,"accessibilityData")&&(this.label=e.accessibility.accessibilityData.label)}get contents(){return this.items}};n(eu,"Menu");eu.type="Menu";var Y=eu;var tu=class extends a{constructor(e){super(),this.id=e.postId,this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),null,e.authorThumbnail),this.content=new l(e.contentText),this.published=new l(e.publishedTimeText),Reflect.has(e,"pollStatus")&&(this.poll_status=e.pollStatus),Reflect.has(e,"voteStatus")&&(this.vote_status=e.voteStatus),Reflect.has(e,"voteCount")&&(this.vote_count=new l(e.voteCount)),Reflect.has(e,"actionMenu")&&(this.menu=c.parseItem(e.actionMenu,Y)),Reflect.has(e,"actionButtons")&&(this.action_buttons=c.parseItem(e.actionButtons,nr)),Reflect.has(e,"voteButton")&&(this.vote_button=c.parseItem(e.voteButton,C)),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),Reflect.has(e,"backstageAttachment")&&(this.attachment=c.parseItem(e.backstageAttachment)),this.surface=e.surface}};n(tu,"BackstagePost");tu.type="BackstagePost";var Li=tu;var iu=class extends a{constructor(e){super(),this.post=c.parseItem(e.post)}};n(iu,"BackstagePostThread");iu.type="BackstagePostThread";var Jw=iu;var ou=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(ou,"BrowseFeedActions");ou.type="BrowseFeedActions";var G_=ou;var nu=class extends a{constructor(e){super(),this.album=new l(e.album),this.thumbnails=b.fromResponse(e.thumbnailDetails)}};n(nu,"BrowserMediaSession");nu.type="BrowserMediaSession";var Gw=nu;var ru=class extends a{constructor(e){super(),this.icon_name=e.iconName,this.title=e.title,this.accessibility_text=e.accessibilityText,this.style=e.style,this.is_full_width=e.isFullWidth,this.button_type=e.type,this.button_size=e.buttonSize,this.on_tap=new g(e.onTap)}};n(ru,"ButtonView");ru.type="ButtonView";var Vo=ru;var rr=class extends a{constructor(e){super(),this.endpoint=new g(e.navigationEndpoint),this.icon=b.fromResponse(e.icon),this.title=new l(e.title)}};n(rr,"HeaderLink");rr.type="HeaderLink";var su=class extends a{constructor(e){var i,o;super(),this.primary=ee(((i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>new rr(r)))||[]),this.secondary=ee(((o=e.secondaryLinks)===null||o===void 0?void 0:o.map(r=>new rr(r)))||[])}};n(su,"ChannelHeaderLinks");su.type="ChannelHeaderLinks";var z_=su;var au=class extends a{constructor(e){super(),Reflect.has(e,"firstLink")&&(this.first_link=l.fromAttributed(e.firstLink)),Reflect.has(e,"more")&&(this.more=l.fromAttributed(e.more))}};n(au,"ChannelHeaderLinksView");au.type="ChannelHeaderLinksView";var $_=au;var uu=class extends a{constructor(e){super(),this.placeholder_text=new l(e.placeholderText),this.max_character_limit=e.maxCharacterLimit}};n(uu,"ClipCreationTextInput");uu.type="ClipCreationTextInput";var K_=uu;var lu=class extends a{constructor(e){var i,o,r,s,u,p;super(),this.length_template=e.lengthTemplate,this.max_length_ms=e.maxLengthMs,this.min_length_ms=e.minLengthMs,this.default_length_ms=e.defaultLengthMs,this.window_size_ms=e.windowSizeMs,this.start_label=(o=(i=e.startAccessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label,this.end_label=(s=(r=e.endAccessibility)===null||r===void 0?void 0:r.accessibilityData)===null||s===void 0?void 0:s.label,this.duration_label=(p=(u=e.durationAccessibility)===null||u===void 0?void 0:u.accessibilityData)===null||p===void 0?void 0:p.label}};n(lu,"ClipCreationScrubber");lu.type="ClipCreationScrubber";var q_=lu;var cu=class extends a{constructor(e){super(),this.title=new l(e.title),this.body=new l(e.body)}};n(cu,"ClipAdState");cu.type="ClipAdState";var X_=cu;var du=class extends a{constructor(e){super(),this.user_avatar=b.fromResponse(e.userAvatar),this.title_input=c.parseItem(e.titleInput,[K_]),this.scrubber=c.parseItem(e.scrubber,[q_]),this.save_button=c.parseItem(e.saveButton,[C]),this.display_name=new l(e.displayName),this.publicity_label=e.publicityLabel,this.cancel_button=c.parseItem(e.cancelButton,[C]),this.ad_state_overlay=c.parseItem(e.adStateOverlay,[X_]),this.external_video_id=e.externalVideoId,this.publicity_label_icon=e.publicityLabelIcon}};n(du,"ClipCreation");du.type="ClipCreation";var Q_=du;var pu=class extends a{constructor(e){super(),this.contents=c.parse(e.contents,!0,[Q_])}};n(pu,"ClipSection");pu.type="ClipSection";var Z_=pu;var fu=class extends a{constructor(e){super(),this.trigger=e.trigger,Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,C)),this.endpoint=new g(e.continuationEndpoint)}};n(fu,"ContinuationItem");fu.type="ContinuationItem";var _e=fu;var mu=class extends a{constructor(e){super(),this.title=new l(e.title),this.visibility_button=c.parseItem(e.visibilityButton,C)}};n(mu,"EngagementPanelTitleHeader");mu.type="EngagementPanelTitleHeader";var ev=mu;var hu=class extends a{constructor(e){super(),this.info_text=new l(e.infoText),this.menu=c.parseItem(e.menu,Y)}};n(hu,"MacroMarkersInfoItem");hu.type="MacroMarkersInfoItem";var tv=hu;var _u=class extends a{constructor(e){super(),this.title=new l(e.title),this.time_description=new l(e.timeDescription),this.thumbnail=b.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap),this.layout=e.layout,this.is_highlighted=!!e.isHighlighted}};n(_u,"MacroMarkersListItem");_u.type="MacroMarkersListItem";var sr=_u;var vu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,[tv,sr]),this.sync_button_label=new l(e.syncButtonLabel)}};n(vu,"MacroMarkersList");vu.type="MacroMarkersList";var iv=vu;var gu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(gu,"ProductList");gu.type="ProductList";var ov=gu;var xu=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),Reflect.has(e,"continuations")&&(Reflect.has(e.continuations[0],"nextContinuationData")?this.continuation=e.continuations[0].nextContinuationData.continuation:Reflect.has(e.continuations[0],"reloadContinuationData")&&(this.continuation=e.continuations[0].reloadContinuationData.continuation)),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"subMenu")&&(this.sub_menu=c.parseItem(e.subMenu))}};n(xu,"SectionList");xu.type="SectionList";var Q=xu;var yu=class extends a{constructor(e){var i;super(),this.show_more_text=new l(e.showMoreText),this.show_less_text=new l(e.showLessText),Reflect.has(e,"attributedDescriptionBodyText")&&(this.attributed_description_body_text=(i=e.attributedDescriptionBodyText)===null||i===void 0?void 0:i.content)}};n(yu,"ExpandableVideoDescriptionBody");yu.type="ExpandableVideoDescriptionBody";var nv=yu;var bu=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.endpoint=new g(e.searchEndpoint),this.query=new l(e.query).toString()}};n(bu,"SearchRefinementCard");bu.type="SearchRefinementCard";var Mo=bu;var wu=class extends a{constructor(e){super(),this.game=c.parseItem(e.game)}};n(wu,"GameCard");wu.type="GameCard";var rv=wu;var Tu=class extends a{constructor(e){super(),this.visible_item_count=e.visibleItemCount,this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Tu,"HorizontalList");Tu.type="HorizontalList";var sv=Tu;var Iu=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header={collapsed_title:new l(e.header.collapsedTitle),collapsed_thumbnail:b.fromResponse(e.header.collapsedThumbnail),collapsed_label:new l(e.header.collapsedLabel),expanded_title:new l(e.header.expandedTitle)}),this.expanded_content=c.parseItem(e.expandedContent,[Bi,sv]),this.expand_button=c.parseItem(e.expandButton,C),this.collapse_button=c.parseItem(e.collapseButton,C)}};n(Iu,"ExpandableMetadata");Iu.type="ExpandableMetadata";var av=Iu;var ku=class extends a{constructor(e){super(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"style")&&(this.style=e.style),Reflect.has(e,"label")&&(this.label=e.label),(Reflect.has(e,"tooltip")||Reflect.has(e,"iconTooltip"))&&(this.tooltip=e.tooltip||e.iconTooltip)}};n(ku,"MetadataBadge");ku.type="MetadataBadge";var ct=ku;var Su=class extends a{constructor(e){super(),this.text=new l(e.text).toString(),this.style=e.style}};n(Su,"ThumbnailOverlayTimeStatus");Su.type="ThumbnailOverlayTimeStatus";var Oo=Su;var Cu=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new l(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new l(e.descriptionSnippet)),Reflect.has(e,"detailedMetadataSnippets")&&(this.snippets=e.detailedMetadataSnippets.map(u=>({text:new l(u.snippetText),hover_text:new l(u.snippetHoverText)}))),this.expandable_metadata=c.parseItem(e.expandableMetadata,av),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parseItem(e.richThumbnail)),this.author=new M(e.ownerText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.badges=c.parseArray(e.badges,ct),this.endpoint=new g(e.navigationEndpoint),this.published=new l(e.publishedTimeText),this.view_count=new l(e.viewCountText),this.short_view_count=new l(e.shortViewCountText),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`))),this.duration={text:e.lengthText?new l(e.lengthText).toString():new l(s).toString(),seconds:Be(e.lengthText?new l(e.lengthText).toString():new l(s).toString())},this.show_action_menu=!!e.showActionMenu,this.is_watched=!!e.isWatched,this.menu=c.parseItem(e.menu,Y),Reflect.has(e,"searchVideoResultEntityKey")&&(this.search_video_result_entity_key=e.searchVideoResultEntityKey)}get description(){var e;return this.snippets?this.snippets.map(i=>i.text.toString()).join(""):((e=this.description_snippet)===null||e===void 0?void 0:e.toString())||""}get is_live(){var e;return this.badges.some(i=>{if(i.style==="BADGE_STYLE_TYPE_LIVE_NOW"||i.label==="LIVE")return!0})||((e=this.thumbnail_overlays.firstOfType(Oo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){return this.upcoming&&this.upcoming>new Date}get is_premiere(){return this.badges.some(e=>e.label==="PREMIERE")}get is_4k(){return this.badges.some(e=>e.label==="4K")}get has_captions(){return this.badges.some(e=>e.label==="CC")}get best_thumbnail(){return this.thumbnails[0]}};n(Cu,"Video");Cu.type="Video";var ar=Cu;var Eu=class extends ar{constructor(e){super(e)}};n(Eu,"VideoCard");Eu.type="VideoCard";var uv=Eu;var Pu=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.style=e.style}};n(Pu,"ContentPreviewImageView");Pu.type="ContentPreviewImageView";var ur=Pu;var Nu=class extends a{constructor(e){var i;super(),!((i=e.image)===null||i===void 0)&&i.sources?this.image=b.fromResponse(e.image):this.image=c.parseItem(e.image,ur),this.image_style=e.imageStyle,this.title=e.title,this.subtitle=e.subtitle,this.secondary_subtitle={content:e.secondarySubtitle.content},this.orientation=e.orientation,this.sizing_rule=e.sizingRule,this.overflow_menu_on_tap=new g(e.overflowMenuOnTap),this.overflow_menu_a11y_label=e.overflowMenuA11yLabel}};n(Nu,"VideoAttributeView");Nu.type="VideoAttributeView";var lr=Nu;var Au=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards,[lr,Mo,sr,rv,uv]),this.header=c.parseItem(e.header),this.previous_button=c.parseItem(e.previousButton,C),this.next_button=c.parseItem(e.nextButton,C)}};n(Au,"HorizontalCardList");Au.type="HorizontalCardList";var Bi=Au;var Ru=class extends a{constructor(e){super(),this.label=new l(e.label),this.value=new l(e.value),this.accessibility_text=e.accessibilityText}};n(Ru,"Factoid");Ru.type="Factoid";var Fi=Ru;var Vu=class extends a{constructor(e){super(),this.factoid=c.parseItem(e.factoid,Fi)}};n(Vu,"UploadTimeFactoid");Vu.type="UploadTimeFactoid";var lv=Vu;var Mu=class extends a{constructor(e){super(),this.view_count_entity_key=e.viewCountEntityKey,this.factoid=c.parseItem(e.factoid,[Fi]),this.view_count_type=e.viewCountType}};n(Mu,"ViewCountFactoid");Mu.type="ViewCountFactoid";var cv=Mu;var Ou=class extends a{constructor(e){super(),this.title=new l(e.title),this.channel=new l(e.channel),this.channel_navigation_endpoint=new g(e.channelNavigationEndpoint),this.channel_thumbnail=b.fromResponse(e.channelThumbnail),this.publish_date=new l(e.publishDate),this.views=new l(e.views),this.factoids=c.parseArray(e.factoid,[Fi,cv,lv])}};n(Ou,"VideoDescriptionHeader");Ou.type="VideoDescriptionHeader";var dv=Ou;var Du=class extends a{constructor(e){super(),this.section_title=new l(e.sectionTitle),this.creator_videos_button=c.parseItem(e.creatorVideosButton,C),this.creator_about_button=c.parseItem(e.creatorAboutButton,C),this.section_subtitle=new l(e.sectionSubtitle),this.channel_avatar=b.fromResponse(e.channelAvatar),this.channel_endpoint=new g(e.channelEndpoint)}};n(Du,"VideoDescriptionInfocardsSection");Du.type="VideoDescriptionInfocardsSection";var pv=Du;var Lu=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"defaultMetadata")&&(this.default_metadata=new l(e.defaultMetadata)),Reflect.has(e,"expandedMetadata")&&(this.expanded_metadata=new l(e.expandedMetadata)),Reflect.has(e,"infoRowExpandStatusKey")&&(this.info_row_expand_status_key=e.infoRowExpandStatusKey)}};n(Lu,"InfoRow");Lu.type="InfoRow";var fv=Lu;var Bu=class extends a{constructor(e){super(),this.id=e.videoId,this.thumbnails=b.fromResponse(e.thumbnail)||null,Reflect.has(e,"richThumbnail")&&(this.rich_thumbnail=c.parse(e.richThumbnail)),this.title=new l(e.title),this.author=new M(e.longBylineText,e.ownerBadges,e.channelThumbnail),this.view_count=new l(e.viewCountText),this.short_view_count=new l(e.shortViewCountText),this.published=new l(e.publishedTimeText),this.badges=c.parseArray(e.badges,ct),this.duration={text:new l(e.lengthText).toString(),seconds:Be(new l(e.lengthText).toString())},this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.endpoint=new g(e.navigationEndpoint),this.menu=c.parseItem(e.menu,Y)}get best_thumbnail(){return this.thumbnails[0]}get is_fundraiser(){return this.badges.some(e=>e.label==="Fundraiser")}get is_live(){return this.badges.some(e=>{if(e.style==="BADGE_STYLE_TYPE_LIVE_NOW"||e.label==="LIVE")return!0})}get is_new(){return this.badges.some(e=>e.label==="New")}get is_premiere(){return this.badges.some(e=>e.style==="PREMIERE")}};n(Bu,"CompactVideo");Bu.type="CompactVideo";var cr=Bu;var Fu=class extends a{constructor(e){super(),this.info_rows=c.parseArray(e.infoRows,fv),this.video_lockup=c.parseItem(e.videoLockup,cr)}};n(Fu,"CarouselLockup");Fu.type="CarouselLockup";var mv=Fu;var Yu=class extends a{constructor(e){super(),this.carousel_lockups=c.parseArray(e.carouselLockups,mv),this.section_title=new l(e.sectionTitle)}};n(Yu,"VideoDescriptionMusicSection");Yu.type="VideoDescriptionMusicSection";var dr=Yu;var ju=class extends a{constructor(e){super(),this.section_title=new l(e.sectionTitle),this.sub_header_text=new l(e.subHeaderText),this.primary_button=c.parseItem(e.primaryButton,C)}};n(ju,"VideoDescriptionTranscriptSection");ju.type="VideoDescriptionTranscriptSection";var Uu=ju;var Wu=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new l(e.title),this.short_byline_text=new l(e.shortBylineText),this.video_count_short_text=new l(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_width=e.thumbnailWidth,this.aspect_ratio=e.aspectRatio,this.max_lines_title=e.maxLinesTitle,this.max_lines_short_byline_text=e.maxLinesShortBylineText,this.overlay_position=e.overlayPosition}};n(Wu,"StructuredDescriptionPlaylistLockup");Wu.type="StructuredDescriptionPlaylistLockup";var hv=Wu;var Hu=class extends a{constructor(e){super(),this.section_title=new l(e.sectionTitle),this.media_lockups=c.parseArray(e.mediaLockups,[hv])}};n(Hu,"VideoDescriptionCourseSection");Hu.type="VideoDescriptionCourseSection";var _v=Hu;var Ju=class extends a{constructor(e){super(),this.title=new l(e.title),this.items=c.parseArray(e.items),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}get contents(){return this.items}};n(Ju,"ReelShelf");Ju.type="ReelShelf";var pr=Ju;var Gu=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[dv,nv,dr,pv,_v,Uu,Uu,Bi,pr])}};n(Gu,"StructuredDescriptionContent");Gu.type="StructuredDescriptionContent";var Do=Gu;var zu=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,ev),this.content=c.parseItem(e.content,[lr,Q,_e,Z_,Do,iv,ov]),this.panel_identifier=e.panelIdentifier,this.identifier=e.identifier?{surface:e.identifier.surface,tag:e.identifier.tag}:void 0,this.target_id=e.targetId,this.visibility=e.visibility}};n(zu,"EngagementPanelSectionList");zu.type="EngagementPanelSectionList";var Yi=zu;var $u=class extends a{constructor(e){super(),this.content=e.content,this.max_lines=e.maxLines,this.more_endpoint=e.moreEndpoint.showEngagementPanelEndpoint?{show_engagement_panel_endpoint:{engagement_panel:c.parseItem(e.moreEndpoint.showEngagementPanelEndpoint.engagementPanel,Yi),engagement_panel_popup_type:e.moreEndpoint.showEngagementPanelEndpoint.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:e.moreEndpoint.showEngagementPanelEndpoint.identifier.surface,tag:e.moreEndpoint.showEngagementPanelEndpoint.identifier.tag}}}:new g(e.moreEndpoint),this.more_icon_type=e.moreIcon.iconType,this.more_label=e.moreLabel,this.target_id=e.targetId}};n($u,"ChannelTagline");$u.type="ChannelTagline";var vv=$u;var Ku=class extends a{constructor(e){super(),this.states=e.states.map(i=>({id:i.stateId,next_id:i.nextStateId,state:c.parse(i.state)})),this.current_state_id=e.currentStateId,this.target_id=e.targetId}};n(Ku,"SubscriptionNotificationToggleButton");Ku.type="SubscriptionNotificationToggleButton";var gv=Ku;var qu=class extends a{constructor(e){var i,o;super(),this.title=new l(e.buttonText),this.subscribed=e.subscribed,this.enabled=e.enabled,this.item_type=e.type,this.channel_id=e.channelId,this.show_preferences=e.showPreferences,this.subscribed_text=new l(e.subscribedButtonText),this.unsubscribed_text=new l(e.unsubscribedButtonText),this.notification_preference_button=c.parseItem(e.notificationPreferenceButton,gv),this.endpoint=new g(((i=e.serviceEndpoints)===null||i===void 0?void 0:i[0])||((o=e.onSubscribeEndpoints)===null||o===void 0?void 0:o[0]))}};n(qu,"SubscribeButton");qu.type="SubscribeButton";var Ge=qu;var Xu=class extends a{constructor(e){super(),this.author=new M({simpleText:e.title,navigationEndpoint:e.navigationEndpoint},e.badges,e.avatar),Reflect.has(e,"banner")&&(this.banner=b.fromResponse(e.banner)),Reflect.has(e,"tv_banner")&&(this.tv_banner=b.fromResponse(e.tvBanner)),Reflect.has(e,"mobile_banner")&&(this.mobile_banner=b.fromResponse(e.mobileBanner)),Reflect.has(e,"subscriberCountText")&&(this.subscribers=new l(e.subscriberCountText)),Reflect.has(e,"videosCountText")&&(this.videos_count=new l(e.videosCountText)),Reflect.has(e,"sponsorButton")&&(this.sponsor_button=c.parseItem(e.sponsorButton,C)),Reflect.has(e,"subscribeButton")&&(this.subscribe_button=c.parseItem(e.subscribeButton,[Ge,C])),Reflect.has(e,"headerLinks")&&(this.header_links=c.parseItem(e.headerLinks,[z_,$_])),Reflect.has(e,"channelHandleText")&&(this.channel_handle=new l(e.channelHandleText)),Reflect.has(e,"channelId")&&(this.channel_id=e.channelId),Reflect.has(e,"tagline")&&(this.tagline=c.parseItem(e.tagline,vv))}};n(Xu,"C4TabbedHeader");Xu.type="C4TabbedHeader";var ji=Xu;var Qu=class extends a{constructor(e){super(),this.label=new l(e.label),this.icon_type=e.icon.iconType,this.style=e.style}};n(Qu,"CallToActionButton");Qu.type="CallToActionButton";var zw=Qu;var Zu=class extends a{constructor(e){super(),this.teaser=c.parseItem(e.teaser),this.content=c.parseItem(e.content),Reflect.has(e,"cardId")&&(this.card_id=e.cardId),Reflect.has(e,"feature")&&(this.feature=e.feature),this.cue_ranges=e.cueRanges.map(i=>({start_card_active_ms:i.startCardActiveMs,end_card_active_ms:i.endCardActiveMs,teaser_duration_ms:i.teaserDurationMs,icon_after_teaser_ms:i.iconAfterTeaserMs}))}};n(Zu,"Card");Zu.type="Card";var $w=Zu;var el=class extends a{constructor(e){super(),this.cards=c.parseArray(e.cards),this.header=new l(e.headerText),this.allow_teaser_dismiss=e.allowTeaserDismiss}};n(el,"CardCollection");el.type="CardCollection";var xv=el;var tl=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(tl,"CarouselHeader");tl.type="CarouselHeader";var yv=tl;var il=class extends a{constructor(e){super(),this.items=c.parseArray(e.carouselItems),this.background_color=e.backgroundColor,this.layout_style=e.layoutStyle,this.pagination_thumbnails=b.fromResponse(e.paginationThumbnails),this.paginator_alignment=e.paginatorAlignment}get contents(){return this.items}};n(il,"CarouselItem");il.type="CarouselItem";var Kw=il;var Ui=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscriber_count=new l(e.subscriberCountText),this.video_count=new l(e.videoCountText),this.long_byline=new l(e.longBylineText),this.short_byline=new l(e.shortBylineText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,[Ge,C]),this.description_snippet=new l(e.descriptionSnippet)}get subscribers(){return L.warnOnce(Ui.type,"Channel#subscribers is deprecated. Please use Channel#subscriber_count instead."),this.subscriber_count}get videos(){return L.warnOnce(Ui.type,"Channel#videos is deprecated. Please use Channel#video_count instead."),this.video_count}};n(Ui,"Channel");Ui.type="Channel";var bv=Ui;var Wi=class extends a{constructor(e){var i,o;super(),this.id=e.channelId,this.name=new l(e.title),this.avatar=b.fromResponse(e.avatar),this.canonical_channel_url=e.canonicalChannelUrl,this.primary_links=(o=(i=e.primaryLinks)===null||i===void 0?void 0:i.map(r=>({endpoint:new g(r.navigationEndpoint),icon:b.fromResponse(r.icon),title:new l(r.title)})))!==null&&o!==void 0?o:[],this.view_count=new l(e.viewCountText),this.joined_date=new l(e.joinedDateText),this.description=new l(e.description),this.email_reveal=new g(e.onBusinessEmailRevealClickCommand),this.can_reveal_email=!e.signInForBusinessEmail,this.country=new l(e.country),this.buttons=c.parseArray(e.actionButtons,C)}get views(){return L.warnOnce(Wi.type,"ChannelAboutFullMetadata#views is deprecated. Please use ChannelAboutFullMetadata#view_count instead."),this.view_count}get joined(){return L.warnOnce(Wi.type,"ChannelAboutFullMetadata#joined is deprecated. Please use ChannelAboutFullMetadata#joined_date instead."),this.joined_date}};n(Wi,"ChannelAboutFullMetadata");Wi.type="ChannelAboutFullMetadata";var ol=Wi;var nl=class extends a{constructor(e){super(),this.channel_title=e.channelTitle,this.avatar=b.fromResponse(e.avatar),this.header=new l(e.header),this.main_text=new l(e.mainText),this.sign_in_button=c.parseItem(e.signInButton,C),this.secondary_text=new l(e.secondaryText)}};n(nl,"ChannelAgeGate");nl.type="ChannelAgeGate";var qw=nl;var rl=class extends a{constructor(e){super(),this.title=new l(e.title),this.items=c.parseArray(e.items)}};n(rl,"ChannelFeaturedContent");rl.type="ChannelFeaturedContent";var Xw=rl;var sl=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.url=e.channelUrl,this.rss_url=e.rssUrl,this.vanity_channel_url=e.vanityChannelUrl,this.external_id=e.externalId,this.is_family_safe=e.isFamilySafe,this.keywords=e.keywords,this.avatar=b.fromResponse(e.avatar),this.music_artist_name=typeof e.musicArtistName=="string"&&e.musicArtistName.length>0?e.musicArtistName:void 0,this.available_countries=e.availableCountryCodes,this.android_deep_link=e.androidDeepLink,this.android_appindexing_link=e.androidAppindexingLink,this.ios_appindexing_link=e.iosAppindexingLink}};n(sl,"ChannelMetadata");sl.type="ChannelMetadata";var wv=sl;var al=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(al,"ChannelMobileHeader");al.type="ChannelMobileHeader";var Qw=al;var ul=class extends a{constructor(e){super(),this.avatar=b.fromResponse(e.avatar),this.endpoint=new g(e.avatarEndpoint),this.name=e.name,this.links=e.links.map(i=>new l(i))}};n(ul,"ChannelOptions");ul.type="ChannelOptions";var Tv=ul;var ll=class extends a{constructor(e){super(),this.illustration=b.fromResponse(e.illustration),this.description=new l(e.description)}};n(ll,"ChannelOwnerEmptyState");ll.type="ChannelOwnerEmptyState";var Zw=ll;var cl=class extends a{constructor(e){super(),this.content_type_sub_menu_items=e.contentTypeSubMenuItems.map(i=>({endpoint:new g(i.navigationEndpoint||i.endpoint),selected:i.selected,title:i.title})),this.sort_setting=c.parseItem(e.sortSetting)}};n(cl,"ChannelSubMenu");cl.type="ChannelSubMenu";var dl=cl;var pl=class extends a{constructor(e){var i,o;super(),this.thumbnails=b.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.label=(o=(i=e.accessibility)===null||i===void 0?void 0:i.accessibilityData)===null||o===void 0?void 0:o.label}};n(pl,"ChannelThumbnailWithLink");pl.type="ChannelThumbnailWithLink";var eT=pl;var Hi=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.title),this.description=new l(e.description),this.view_count=new l(e.viewCountText),this.published_time=new l(e.publishedTimeText)}get views(){return L.warnOnce(Hi.type,"ChannelVideoPlayer#views is deprecated. Please use ChannelVideoPlayer#view_count instead."),this.view_count}get published(){return L.warnOnce(Hi.type,"ChannelVideoPlayer#published is deprecated. Please use ChannelVideoPlayer#published_time instead."),this.published_time}};n(Hi,"ChannelVideoPlayer");Hi.type="ChannelVideoPlayer";var tT=Hi;var fl=class extends a{constructor(e){super(),this.title=new l(e.title),this.time_range_start_millis=e.timeRangeStartMillis,this.thumbnail=b.fromResponse(e.thumbnail)}};n(fl,"Chapter");fl.type="Chapter";var Iv=fl;var ml=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.title),this.duration={text:e.lengthText.simpleText,seconds:Be(e.lengthText.simpleText)},this.endpoint=new g(e.navigationEndpoint)}};n(ml,"ChildVideo");ml.type="ChildVideo";var iT=ml;var hl=class extends a{constructor(e){super(),this.text=e.text,this.display_type=e.displayType,this.endpoint=new g(e.tapCommand),this.chip_entity_key=e.chipEntityKey}};n(hl,"ChipView");hl.type="ChipView";var kv=hl;var _l=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,kv)}};n(_l,"ChipBarView");_l.type="ChipBarView";var oT=_l;var vl=class extends a{constructor(e){super(),this.is_selected=e.isSelected,Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint)),this.text=new l(e.text).toString()}};n(vl,"ChipCloudChip");vl.type="ChipCloudChip";var xe=vl;var gl=class extends a{constructor(e){super(),this.chips=c.parseArray(e.chips,xe),this.next_button=c.parseItem(e.nextButton,C),this.previous_button=c.parseItem(e.previousButton,C),this.horizontal_scrollable=e.horizontalScrollable}};n(gl,"ChipCloud");gl.type="ChipCloud";var gt=gl;var xl=class extends a{constructor(e){super(),this.channel_avatar=b.fromResponse(e.channelAvatar),this.custom_text=new l(e.customText),this.channel_name=new l(e.channelName),this.subscriber_count=new l(e.subscriberCountText),this.endpoint=new g(e.endpoint)}};n(xl,"CollaboratorInfoCardContent");xl.type="CollaboratorInfoCardContent";var nT=xl;var yl=class extends a{constructor(e){super(),this.left=b.fromResponse(e.leftThumbnail),this.top_right=b.fromResponse(e.topRightThumbnail),this.bottom_right=b.fromResponse(e.bottomRightThumbnail),this.endpoint=new g(e.navigationEndpoint)}};n(yl,"CollageHeroImage");yl.type="CollageHeroImage";var rT=yl;var bl=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=l.fromAttributed(e.text),this.style=e.style}};n(bl,"ThumbnailHoverOverlayView");bl.type="ThumbnailHoverOverlayView";var Sv=bl;var wl=class extends a{constructor(e){super(),this.icon_name=e.icon.sources[0].clientResource.imageName,this.text=e.text,this.badge_style=e.badgeStyle,this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(wl,"ThumbnailBadgeView");wl.type="ThumbnailBadgeView";var Cv=wl;var Tl=class extends a{constructor(e){super(),this.badges=c.parseArray(e.thumbnailBadges,Cv),this.position=e.position}};n(Tl,"ThumbnailOverlayBadgeView");Tl.type="ThumbnailOverlayBadgeView";var Ev=Tl;var Il=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.overlays=c.parseArray(e.overlays,[Ev,Sv]),this.background_color={light_theme:e.backgroundColor.lightTheme,dark_theme:e.backgroundColor.darkTheme}}};n(Il,"ThumbnailView");Il.type="ThumbnailView";var Pv=Il;var kl=class extends a{constructor(e){super(),this.primary_thumbnail=c.parseItem(e.primaryThumbnail,Pv),this.stack_color={light_theme:e.stackColor.lightTheme,dark_theme:e.stackColor.darkTheme}}};n(kl,"CollectionThumbnailView");kl.type="CollectionThumbnailView";var Nv=kl;var Sl=class extends a{constructor(e){super(),this.endpoint=new g(e)}};n(Sl,"Command");Sl.type="Command";var sT=Sl;var Av,Cl=class extends a{constructor(e){super(),Av.set(this,void 0),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.tooltip=e.iconTooltip,this.tooltip==="Verified"&&(this.style="BADGE_STYLE_TYPE_VERIFIED")&&(e.style="BADGE_STYLE_TYPE_VERIFIED"),k(this,Av,e,"f")}get orig_badge(){return d(this,Av,"f")}};n(Cl,"AuthorCommentBadge");Av=new WeakMap;Cl.type="AuthorCommentBadge";var Rv=Cl;var El=class extends a{constructor(e){super(),this.reply_button=c.parseItem(e.replyButton,C),this.cancel_button=c.parseItem(e.cancelButton,C),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.placeholder=new l(e.placeholderText),this.error_message=new l(e.errorMessage)}};n(El,"CommentReplyDialog");El.type="CommentReplyDialog";var fr=El;var Pl=class extends a{constructor(e){var i,o;super(),this.text=new l(e.chipText),this.color_pallette={background_color:(i=e.chipColorPalette)===null||i===void 0?void 0:i.backgroundColor,foreground_title_color:(o=e.chipColorPalette)===null||o===void 0?void 0:o.foregroundTitleColor},Reflect.has(e,"chipIcon")&&Reflect.has(e.chipIcon,"iconType")&&(this.icon_type=e.chipIcon.iconType)}};n(Pl,"PdgCommentChip");Pl.type="PdgCommentChip";var Vv=Pl;var Nl=class extends a{constructor(e){super(),this.custom_badge=b.fromResponse(e.customBadge),this.tooltip=e.tooltip}};n(Nl,"SponsorCommentBadge");Nl.type="SponsorCommentBadge";var Mv=Nl;var St={};D(St,{decodeVisitorData:()=>nb,encodeChannelAnalyticsParams:()=>rb,encodeCommentActionParams:()=>Lo,encodeCommentParams:()=>cb,encodeCommentsSectionParams:()=>lb,encodeCustomThumbnailPayload:()=>fb,encodeHashtag:()=>mb,encodeMessageParams:()=>ub,encodeMusicSearchFilters:()=>ab,encodeNotificationPref:()=>db,encodeReelSequence:()=>hb,encodeSearchFilters:()=>sb,encodeShortsParam:()=>fE,encodeVideoMetadataPayload:()=>pb,encodeVisitorData:()=>ob});var N;(function(t){t[t.Varint=0]="Varint",t[t.Fixed64=1]="Fixed64",t[t.LengthDelimited=2]="LengthDelimited",t[t.StartGroup=3]="StartGroup",t[t.EndGroup=4]="EndGroup",t[t.Fixed32=5]="Fixed32"})(N||(N={}));var U=class extends Uint32Array{constructor(e=0,i=0){super([e,i])}toString(e=!0){let[i,o]=this;if(i===0&&o===0)return"0";if(e&&o>2147483647)return"-"+Dv(qy(this),Ov).toString(!1);let r=[],s=new U(i,o);for(;WC(s,jC);){let[u,p]=UC(s);r.push(p),s=u}return r.reverse().join("")}static parse(e){let i=parseInt(e,10),o=i<0;if(Number.isNaN(i))return new U(0);if(e.length<10)return i<0?Dv(qy(new U(-i)),Ov):new U(i);let r=new U,s=Ov;for(let u of e.split("").reverse())parseInt(u)&&(r=Dv(r,aT(new U(parseInt(u)),s))),s=aT(s,new U(10));return o?Dv(qy(r),Ov):r}};n(U,"Long");var jC=new U(0),Ov=new U(1);function Lv(t){let[e,i]=t;return[e&65535,e>>>16,i&65535,i>>>16]}n(Lv,"makeChunk");function Dv(t,e){let[i,o,r,s]=Lv(t),[u,p,f,m]=Lv(e),h=0,x=0,w=0,T=0;return T+=i+u,w+=T>>>16,T&=65535,w+=o+p,x+=w>>>16,w&=65535,x+=r+f,h+=x>>>16,x&=65535,h+=s+m,h&=65535,new U(w<<16|T,h<<16|x)}n(Dv,"add");function aT(t,e){let[i,o,r,s]=Lv(t),[u,p,f,m]=Lv(e),h=0,x=0,w=0,T=0;return T+=i*u,w+=T>>>16,T&=65535,w+=i*p+o*u,x+=w>>>16,w&=65535,x+=i*f+r*u+o*p,h+=x>>>16,x&=65535,h+=i*m+o*f+r*p+s*u,h&=65535,new U(w<<16|T,h<<16|x)}n(aT,"mul");function UC(t){let[e,i]=t;return[new U((i%10*(4294967295+1)+e)/10|0,i/10|0),(i%10*(4294967295+1)+e)%10]}n(UC,"divByTen");function WC(t,e){let[i,o]=t,[r,s]=e;return o!==s?o-s:i-r}n(WC,"compare");function qy(t){let[e,i]=t;return new U(~e,~i)}n(qy,"negate");function mr(t){let e=[],r=typeof t=="number"?new U(t):t;for(;r[0]||r[1];){let[s,u]=r,p=s&127,f=u>>>7,m=s>>>7|(u&127)<<32-7;r=new U(m,f);let h=r[0]||r[1]?p|128:p;e.push(h)}return e.length<1?new Uint8Array(1):Uint8Array.from(e)}n(mr,"encode");function hr(t){let e=new U(0),i=0;for(;;){let o=t.getUint8(i);if(e=HC(e,JC(new U(o&127),i*7)),++i,!(o>>>7))return[i,e]}}n(hr,"decode");function HC(t,e){return new U(t[0]|e[0],t[1]|e[1])}n(HC,"or");function JC(t,e){return e===0?t:e>=32?new U(0,t[0]<<e-32):new U(t[0]<<e,t[1]<<e|t[0]>>>32-e)}n(JC,"leftshift");function A(t){let e=[];return t.forEach(([i,o])=>{switch(e.push(mr(i<<3|o.type)),o.type){case N.Varint:e.push(mr(o.value));break;case N.Fixed64:{let r=new Uint8Array(8),s=new DataView(r.buffer);s.setUint32(0,o.value[0],!0),s.setUint32(4,o.value[1],!0),e.push(r);break}case N.LengthDelimited:e.push(mr(o.value.byteLength)),e.push(o.value);break;case N.Fixed32:{let r=new Uint8Array(4);new DataView(r.buffer).setUint32(0,o.value,!0),e.push(r);break}}}),Xy(e)}n(A,"serialize");function Xy(t){let e=t.reduce((o,r)=>o+r.byteLength,0),i=new Uint8Array(e);return t.reduce((o,r)=>(i.set(r,o),o+r.byteLength),0),i}n(Xy,"concat");function Qy(t){if(t instanceof U){let e=new U(t[0]<<1,t[1]<<1|t[0]>>>31),i=t[1]>>>31?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return(t*2^t>>31)>>>0}n(Qy,"encode");function Zy(t){if(t instanceof U){let e=new U(t[0]>>>1|t[1]<<31,t[1]>>>1),i=t[0]&1?new U(4294967295,4294967295):new U;return new U(e[0]^i[0],e[1]^i[1])}return t>>>1^-(t&1)}n(Zy,"decode");var eb={int32:t=>t[0]|0,int64:t=>t.toString(!0),uint32:t=>t[0]>>>0,uint64:t=>t.toString(!1),sint32:t=>Zy(t[0]),sint64:t=>Zy(t).toString(!0),bool:t=>t[0]!==0},tb={int32:t=>new U(t),int64:t=>U.parse(t),uint32:t=>new U(t),uint64:t=>U.parse(t),sint32:t=>Qy(new U(t)),sint64:t=>Qy(U.parse(t)),bool:t=>new U(+t)},GC=Object.fromEntries(Object.entries(eb).map(([t,e])=>[t,i=>{if(i.type===N.Varint)return e(i.value)}])),zC=Object.fromEntries(Object.entries(tb).map(([t,e])=>[t,i=>({type:N.Varint,value:e(i)})])),J=Object.assign(Object.assign({},GC),{double:t=>t.type!==N.Fixed64?void 0:new DataView(t.value.buffer).getFloat64(0,!0),float:t=>t.type!==N.Fixed32?void 0:new DataView(new Uint32Array([t.value]).buffer).getFloat32(0,!0),fixed32:t=>{if(t.type===N.Fixed32)return t.value>>>0},fixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!1)},sfixed32:t=>{if(t.type===N.Fixed32)return t.value|0},sfixed64:t=>{if(t.type===N.Fixed64)return t.value.toString(!0)},string:t=>t.type!==N.LengthDelimited?void 0:new TextDecoder().decode(t.value),bytes:t=>{if(t.type===N.LengthDelimited)return t.value}}),E=Object.assign(Object.assign({},zC),{double:t=>{let e=new U;return new DataView(e.buffer).setFloat64(0,t,!0),{type:N.Fixed64,value:e}},float:t=>{let e=new Uint32Array(1),i=new DataView(e.buffer);return i.setFloat32(0,t,!0),{type:N.Fixed32,value:i.getUint32(0,!0)}},fixed32:t=>({type:N.Fixed32,value:t>>>0}),fixed64:t=>({type:N.Fixed64,value:U.parse(t)}),sfixed32:t=>({type:N.Fixed32,value:t|0}),sfixed64:t=>({type:N.Fixed64,value:U.parse(t)}),string:t=>{let e=new TextEncoder;return{type:N.LengthDelimited,value:e.encode(t)}},bytes:t=>({type:N.LengthDelimited,value:t})}),$C=Object.fromEntries(Object.keys(eb).map(t=>[t,function*(e){for(let i of e){let o=J[t](i);if(o!=null)yield o;else for(let r of QC(i))yield eb[t](r)}}])),GF=Object.assign(Object.assign({},$C),{*double(t){for(let e of t){let i=J.double(e);i!=null?yield i:yield*qC(e)}},*float(t){for(let e of t){let i=J.float(e);i!=null?yield i:yield*XC(e)}},*fixed32(t){for(let e of t){let i=J.fixed32(e);if(i!=null)yield i;else for(let o of uT(e))yield o>>>0}},*fixed64(t){for(let e of t){let i=J.fixed64(e);if(i!=null)yield i;else for(let o of lT(e))yield o.toString(!1)}},*sfixed32(t){for(let e of t){let i=J.sfixed32(e);if(i!=null)yield i;else for(let o of uT(e))yield o|0}},*sfixed64(t){for(let e of t){let i=J.sfixed64(e);if(i!=null)yield i;else for(let o of lT(e))yield o.toString(!0)}}}),KC=Object.fromEntries(Object.keys(tb).map(t=>[t,function(e){return{type:N.LengthDelimited,value:Xy(e.map(i=>{let o=tb[t](i);return mr(o)}))}}]));function _r(t,e){return n(function(o){let r=new Uint8Array(o.length*t),s=new DataView(r.buffer);for(let u=0;u<o.length;++u)e(s,u*t,o[u]);return{type:N.LengthDelimited,value:r}},"pack")}n(_r,"getFixedPackFn");var zF=Object.assign(Object.assign({},KC),{double:_r(8,(t,e,i)=>{t.setFloat64(e,i,!0)}),float:_r(4,(t,e,i)=>{t.setFloat32(e,i,!0)}),fixed32:_r(4,(t,e,i)=>{t.setUint32(e,i,!0)}),fixed64:_r(8,(t,e,i)=>{let o=U.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)}),sfixed32:_r(4,(t,e,i)=>{t.setInt32(e,i,!0)}),sfixed64:_r(8,(t,e,i)=>{let o=U.parse(i);t.setUint32(e,o[0],!0),t.setUint32(e+4,o[1],!0)})});function*qC(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat64(i,!0);i+=4,yield r}}n(qC,"unpackDouble");function*XC(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getFloat32(i,!0);i+=4,yield r}}n(XC,"unpackFloat");function*QC(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=e.byteOffset;for(;i<e.length;){let r=hr(new DataView(e.buffer,o+i));i+=r[0],yield r[1]}}n(QC,"unpackVarint");function*uT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4,yield r}}n(uT,"unpackFixed32");function*lT(t){if(t.type!==N.LengthDelimited)return;let{value:e}=t,i=0,o=new DataView(e.buffer,e.byteOffset);for(;i<e.length;){let r=o.getUint32(i,!0);i+=4;let s=o.getUint32(i,!0);i+=4,yield new U(r,s)}}n(lT,"unpackFixed64");function G(t){let e=0,i=t.byteOffset,o=[],r=new DataView(t.buffer,i);for(;e<t.length;){let s=hr(new DataView(t.buffer,i+e)),u=s[1][0];e+=s[0];let p=u&7,f=u>>>3;switch(p){default:throw new Error(`Unknown wire type ${p}`);case N.Varint:{let[x,w]=hr(new DataView(t.buffer,i+e));o.push([f,{type:p,value:w}]),e+=x;break}case N.Fixed64:let m=r.getUint32(e,!0),h=r.getUint32(e+=4,!0);e+=4,o.push([f,{type:p,value:new U(m,h)}]);break;case N.LengthDelimited:{let[x,w]=hr(new DataView(t.buffer,i+e));o.push([f,{type:p,value:t.subarray(e+=x,e+=w[0])}]);break}case N.StartGroup:case N.EndGroup:o.push([f,{type:p}]);break;case N.Fixed32:o.push([f,{type:p,value:r.getUint32(e,!0)}]),e+=4;break}}return o}n(G,"deserialize");function ZC(){return{id:"",timestamp:0}}n(ZC,"getDefaultValue");function cT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.string(i)])}if(t.timestamp!==void 0){let i=t.timestamp;e.push([5,E.int32(i)])}return A(e)}n(cT,"encodeBinary");function dT(t){let e=ZC(),i=G(t),o=new Map(i);e:{let r=o.get(1);if(r===void 0)break e;let s=J.string(r);if(s===void 0)break e;e.id=s}e:{let r=o.get(5);if(r===void 0)break e;let s=J.int32(r);if(s===void 0)break e;e.timestamp=s}return e}n(dT,"decodeBinary");function pT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1001,E.string(i)])}return A(e)}n(pT,"encodeBinary");function fT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([32,{type:N.LengthDelimited,value:pT(i)}])}return A(e)}n(fT,"encodeBinary");function mT(t){let e=[];if(t.uploadDate!==void 0){let i=t.uploadDate;e.push([1,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([2,E.int32(i)])}if(t.duration!==void 0){let i=t.duration;e.push([3,E.int32(i)])}if(t.featuresHd!==void 0){let i=t.featuresHd;e.push([4,E.int32(i)])}if(t.featuresSubtitles!==void 0){let i=t.featuresSubtitles;e.push([5,E.int32(i)])}if(t.featuresCreativeCommons!==void 0){let i=t.featuresCreativeCommons;e.push([6,E.int32(i)])}if(t.features3d!==void 0){let i=t.features3d;e.push([7,E.int32(i)])}if(t.featuresLive!==void 0){let i=t.featuresLive;e.push([8,E.int32(i)])}if(t.featuresPurchased!==void 0){let i=t.featuresPurchased;e.push([9,E.int32(i)])}if(t.features4k!==void 0){let i=t.features4k;e.push([14,E.int32(i)])}if(t.features360!==void 0){let i=t.features360;e.push([15,E.int32(i)])}if(t.featuresLocation!==void 0){let i=t.featuresLocation;e.push([23,E.int32(i)])}if(t.featuresHdr!==void 0){let i=t.featuresHdr;e.push([25,E.int32(i)])}if(t.featuresVr180!==void 0){let i=t.featuresVr180;e.push([26,E.int32(i)])}return A(e)}n(mT,"encodeBinary");function hT(t){let e=[];if(t.sortBy!==void 0){let i=t.sortBy;e.push([1,E.int32(i)])}if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:mT(i)}])}if(t.noFilter!==void 0){let i=t.noFilter;e.push([19,E.int32(i)])}return A(e)}n(hT,"encodeBinary");function _T(t){let e=[];if(t.song!==void 0){let i=t.song;e.push([1,E.int32(i)])}if(t.video!==void 0){let i=t.video;e.push([2,E.int32(i)])}if(t.album!==void 0){let i=t.album;e.push([3,E.int32(i)])}if(t.artist!==void 0){let i=t.artist;e.push([4,E.int32(i)])}if(t.playlist!==void 0){let i=t.playlist;e.push([5,E.int32(i)])}return A(e)}n(_T,"encodeBinary");function vT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([17,{type:N.LengthDelimited,value:_T(i)}])}return A(e)}n(vT,"encodeBinary");function gT(t){let e=[];if(t.filters!==void 0){let i=t.filters;e.push([2,{type:N.LengthDelimited,value:vT(i)}])}return A(e)}n(gT,"encodeBinary");function xT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return A(e)}n(xT,"encodeBinary");function yT(t){let e=[];if(t.ids!==void 0){let i=t.ids;e.push([5,{type:N.LengthDelimited,value:xT(i)}])}return A(e)}n(yT,"encodeBinary");function bT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([1,{type:N.LengthDelimited,value:yT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([2,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([3,E.int32(i)])}return A(e)}n(bT,"encodeBinary");function wT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}return A(e)}n(wT,"encodeBinary");function TT(t){let e=[];if(t.unkParam!==void 0){let i=t.unkParam;e.push([1,E.int32(i)])}return A(e)}n(TT,"encodeBinary");function IT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.unkopts!==void 0){let i=t.unkopts;e.push([4,{type:N.LengthDelimited,value:TT(i)}])}if(t.channelId!==void 0){let i=t.channelId;e.push([5,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([6,E.string(i)])}if(t.unkParam1!==void 0){let i=t.unkParam1;e.push([8,E.int32(i)])}if(t.unkParam2!==void 0){let i=t.unkParam2;e.push([9,E.int32(i)])}return A(e)}n(IT,"encodeBinary");function kT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([4,E.string(i)])}if(t.sortBy!==void 0){let i=t.sortBy;e.push([6,E.int32(i)])}if(t.type!==void 0){let i=t.type;e.push([15,E.int32(i)])}return A(e)}n(kT,"encodeBinary");function ST(t){let e=[];if(t.unkToken!==void 0){let i=t.unkToken;e.push([1,E.string(i)])}if(t.repliesOpts!==void 0){let i=t.repliesOpts;e.push([3,{type:N.LengthDelimited,value:IT(i)}])}if(t.opts!==void 0){let i=t.opts;e.push([4,{type:N.LengthDelimited,value:kT(i)}])}if(t.page!==void 0){let i=t.page;e.push([5,E.int32(i)])}if(t.target!==void 0){let i=t.target;e.push([8,E.string(i)])}return A(e)}n(ST,"encodeBinary");function CT(t){let e=[];if(t.ctx!==void 0){let i=t.ctx;e.push([2,{type:N.LengthDelimited,value:wT(i)}])}if(t.unkParam!==void 0){let i=t.unkParam;e.push([3,E.int32(i)])}if(t.params!==void 0){let i=t.params;e.push([6,{type:N.LengthDelimited,value:ST(i)}])}return A(e)}n(CT,"encodeBinary");function ET(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return A(e)}n(ET,"encodeBinary");function PT(t){let e=[];if(t.videoId!==void 0){let i=t.videoId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:ET(i)}])}if(t.number!==void 0){let i=t.number;e.push([10,E.int32(i)])}return A(e)}n(PT,"encodeBinary");function NT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return A(e)}n(NT,"encodeBinary");function AT(t){let e=[];if(t.comment!==void 0){let i=t.comment;e.push([1,{type:N.LengthDelimited,value:NT(i)}])}return A(e)}n(AT,"encodeBinary");function RT(t){let e=[];if(t.commentId!==void 0){let i=t.commentId;e.push([2,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([3,{type:N.LengthDelimited,value:AT(i)}])}if(t.targetLanguage!==void 0){let i=t.targetLanguage;e.push([4,E.string(i)])}return A(e)}n(RT,"encodeBinary");function VT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.unkNum!==void 0){let i=t.unkNum;e.push([2,E.int32(i)])}if(t.commentId!==void 0){let i=t.commentId;e.push([3,E.string(i)])}if(t.videoId!==void 0){let i=t.videoId;e.push([5,E.string(i)])}if(t.channelId!==void 0){let i=t.channelId;e.push([23,E.string(i)])}if(t.translateCommentParams!==void 0){let i=t.translateCommentParams;e.push([31,{type:N.LengthDelimited,value:RT(i)}])}return A(e)}n(VT,"encodeBinary");function MT(t){let e=[];if(t.index!==void 0){let i=t.index;e.push([1,E.int32(i)])}return A(e)}n(MT,"encodeBinary");function OT(t){let e=[];if(t.channelId!==void 0){let i=t.channelId;e.push([1,E.string(i)])}if(t.prefId!==void 0){let i=t.prefId;e.push([2,{type:N.LengthDelimited,value:MT(i)}])}if(t.number0!==void 0){let i=t.number0;e.push([3,E.int32(i)])}if(t.number1!==void 0){let i=t.number1;e.push([4,E.int32(i)])}return A(e)}n(OT,"encodeBinary");function DT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([16,E.int32(i)])}if(t.clientVersion!==void 0){let i=t.clientVersion;e.push([17,E.string(i)])}if(t.clientName!==void 0){let i=t.clientName;e.push([18,E.string(i)])}return A(e)}n(DT,"encodeBinary");function LT(t){let e=[];if(t.client!==void 0){let i=t.client;e.push([1,{type:N.LengthDelimited,value:DT(i)}])}return A(e)}n(LT,"encodeBinary");function BT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return A(e)}n(BT,"encodeBinary");function FT(t){let e=[];if(t.text!==void 0){let i=t.text;e.push([1,E.string(i)])}return A(e)}n(FT,"encodeBinary");function YT(t){let e=[];for(let i of t.list)e.push([1,E.string(i)]);return A(e)}n(YT,"encodeBinary");function jT(t){let e=[];if(t.id!==void 0){let i=t.id;e.push([1,E.int32(i)])}return A(e)}n(jT,"encodeBinary");function UT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.string(i)])}return A(e)}n(UT,"encodeBinary");function WT(t){let e=[];if(t.imageData!==void 0){let i=t.imageData;e.push([1,E.bytes(i)])}return A(e)}n(WT,"encodeBinary");function HT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}if(t.thumbnail!==void 0){let i=t.thumbnail;e.push([3,{type:N.LengthDelimited,value:WT(i)}])}return A(e)}n(HT,"encodeBinary");function JT(t){let e=[];if(t.type!==void 0){let i=t.type;e.push([1,E.int32(i)])}return A(e)}n(JT,"encodeBinary");function GT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return A(e)}n(GT,"encodeBinary");function zT(t){let e=[];if(t.unkparam!==void 0){let i=t.unkparam;e.push([1,E.int32(i)])}if(t.choice!==void 0){let i=t.choice;e.push([2,E.int32(i)])}return A(e)}n(zT,"encodeBinary");function ib(t){let e=[];if(t.context!==void 0){let i=t.context;e.push([1,{type:N.LengthDelimited,value:LT(i)}])}if(t.target!==void 0){let i=t.target;e.push([2,E.string(i)])}if(t.title!==void 0){let i=t.title;e.push([3,{type:N.LengthDelimited,value:BT(i)}])}if(t.description!==void 0){let i=t.description;e.push([4,{type:N.LengthDelimited,value:FT(i)}])}if(t.tags!==void 0){let i=t.tags;e.push([6,{type:N.LengthDelimited,value:YT(i)}])}if(t.category!==void 0){let i=t.category;e.push([7,{type:N.LengthDelimited,value:jT(i)}])}if(t.license!==void 0){let i=t.license;e.push([8,{type:N.LengthDelimited,value:UT(i)}])}if(t.videoThumbnail!==void 0){let i=t.videoThumbnail;e.push([20,{type:N.LengthDelimited,value:HT(i)}])}if(t.privacy!==void 0){let i=t.privacy;e.push([38,{type:N.LengthDelimited,value:JT(i)}])}if(t.madeForKids!==void 0){let i=t.madeForKids;e.push([68,{type:N.LengthDelimited,value:GT(i)}])}if(t.ageRestricted!==void 0){let i=t.ageRestricted;e.push([69,{type:N.LengthDelimited,value:zT(i)}])}return A(e)}n(ib,"encodeBinary");function $T(t){let e=[];if(t.hashtag!==void 0){let i=t.hashtag;e.push([1,E.string(i)])}if(t.type!==void 0){let i=t.type;e.push([3,E.int32(i)])}return A(e)}n($T,"encodeBinary");function KT(t){let e=[];if(t.params!==void 0){let i=t.params;e.push([93,{type:N.LengthDelimited,value:$T(i)}])}return A(e)}n(KT,"encodeBinary");function qT(t){let e=[];if(t.number!==void 0){let i=t.number;e.push([3,E.int32(i)])}return A(e)}n(qT,"encodeBinary");function XT(t){let e=[];if(t.shortId!==void 0){let i=t.shortId;e.push([1,E.string(i)])}if(t.params!==void 0){let i=t.params;e.push([5,{type:N.LengthDelimited,value:qT(i)}])}if(t.feature2!==void 0){let i=t.feature2;e.push([10,E.int32(i)])}if(t.feature3!==void 0){let i=t.feature3;e.push([13,E.int32(i)])}return A(e)}n(XT,"encodeBinary");function QT(t){let e=[];if(t.p1!==void 0){let i=t.p1;e.push([1,E.int32(i)])}return A(e)}n(QT,"encodeBinary");function ZT(t){let e=[];if(t.f1!==void 0){let i=t.f1;e.push([1,{type:N.LengthDelimited,value:QT(i)}])}if(t.p59!==void 0){let i=t.p59;e.push([59,E.int32(i)])}return A(e)}n(ZT,"encodeBinary");function ob(t,e){let i=cT({id:t,timestamp:e});return encodeURIComponent(dt(i).replace(/\+/g,"-").replace(/\//g,"_"))}n(ob,"encodeVisitorData");function nb(t){return dT(_b(decodeURIComponent(t).replace(/-/g,"+").replace(/_/g,"/")))}n(nb,"decodeVisitorData");function rb(t){let e=fT({params:{channelId:t}});return encodeURIComponent(dt(e))}n(rb,"encodeChannelAnalyticsParams");function sb(t){let e={all:void 0,hour:1,today:2,week:3,month:4,year:5},i={all:void 0,video:1,channel:2,playlist:3,movie:4},o={all:void 0,short:1,long:2,medium:3},r={relevance:void 0,rating:1,upload_date:2,view_count:3},s={hd:"featuresHd",subtitles:"featuresSubtitles",creative_commons:"featuresCreativeCommons","3d":"features3D",live:"featuresLive",purchased:"featuresPurchased","4k":"features4K",360:"features360",location:"featuresLocation",hdr:"featuresHdr",vr180:"featuresVr180"},u={};if(t?u.filters={}:u.noFilter=0,u.filters&&(t.upload_date&&(u.filters.uploadDate=e[t.upload_date]),t.type&&(u.filters.type=i[t.type]),t.duration&&(u.filters.duration=o[t.duration]),t.sort_by&&t.sort_by!=="relevance"&&(u.sortBy=r[t.sort_by]),t.features))for(let f of t.features)u.filters[s[f]]=1;let p=hT(u);return encodeURIComponent(dt(p))}n(sb,"encodeSearchFilters");function ab(t){var e;let i={filters:{type:{}}};t.type&&t.type!=="all"&&((e=i.filters)===null||e===void 0?void 0:e.type)&&(i.filters.type[t.type]=1);let o=gT(i);return encodeURIComponent(dt(o))}n(ab,"encodeMusicSearchFilters");function ub(t,e){let i=bT({params:{ids:{channelId:t,videoId:e}},number0:1,number1:4});return btoa(encodeURIComponent(dt(i)))}n(ub,"encodeMessageParams");function lb(t,e={}){let o=CT({ctx:{videoId:t},unkParam:6,params:{opts:{videoId:t,sortBy:{TOP_COMMENTS:0,NEWEST_FIRST:1}[e.sort_by||"TOP_COMMENTS"],type:e.type||2},target:"comments-section"}});return encodeURIComponent(dt(o))}n(lb,"encodeCommentsSectionParams");function cb(t){let e=PT({videoId:t,params:{index:0},number:7});return encodeURIComponent(dt(e))}n(cb,"encodeCommentParams");function Lo(t,e={}){let i={type:t,commentId:e.comment_id||" ",videoId:e.video_id||" ",channelId:" ",unkNum:2};if(e.hasOwnProperty("text")){if(typeof e.target_language!="string")throw new Error("target_language must be a string");e.comment_id&&delete i.unkNum,i.translateCommentParams={params:{comment:{text:e.text}},commentId:e.comment_id||" ",targetLanguage:e.target_language}}let o=VT(i);return encodeURIComponent(dt(o))}n(Lo,"encodeCommentActionParams");function db(t,e){let i=OT({channelId:t,prefId:{index:e},number0:0,number1:4});return encodeURIComponent(dt(i))}n(db,"encodeNotificationPref");function pb(t,e){let i={context:{client:{unkparam:14,clientName:ue.ANDROID.NAME,clientVersion:ue.YTSTUDIO_ANDROID.VERSION}},target:t};if(Reflect.has(e,"title")&&(i.title={text:e.title||""}),Reflect.has(e,"description")&&(i.description={text:e.description||""}),Reflect.has(e,"license")&&(i.license={type:e.license||""}),Reflect.has(e,"tags")&&(i.tags={list:e.tags||[]}),Reflect.has(e,"category")&&(i.category={id:e.category||0}),Reflect.has(e,"privacy"))switch(e.privacy){case"PUBLIC":i.privacy={type:1};break;case"UNLISTED":i.privacy={type:2};break;case"PRIVATE":i.privacy={type:3};break;default:throw new Error("Invalid visibility option")}return Reflect.has(e,"made_for_kids")&&(i.madeForKids={unkparam:1,choice:e.made_for_kids?1:2}),Reflect.has(e,"age_restricted")&&(i.ageRestricted={unkparam:1,choice:e.age_restricted?1:2}),ib(i)}n(pb,"encodeVideoMetadataPayload");function fb(t,e){let i={context:{client:{unkparam:14,clientName:ue.ANDROID.NAME,clientVersion:ue.YTSTUDIO_ANDROID.VERSION}},target:t,videoThumbnail:{type:3,thumbnail:{imageData:e}}};return ib(i)}n(fb,"encodeCustomThumbnailPayload");function mb(t){let e=KT({params:{hashtag:t,type:1}});return encodeURIComponent(dt(e))}n(mb,"encodeHashtag");function hb(t){let e=XT({shortId:t,params:{number:5},feature2:25,feature3:0});return encodeURIComponent(dt(e))}n(hb,"encodeReelSequence");function fE(){let t=ZT({f1:{p1:1},p59:1});return encodeURIComponent(dt(t))}n(fE,"encodeShortsParam");var Yt,Al=class extends a{constructor(e){var i,o,r,s,u,p,f;super(),Yt.set(this,void 0),this.content=new l(e.contentText),this.published=new l(e.publishedTimeText),this.author_is_channel_owner=e.authorIsChannelOwner,this.current_user_reply_thumbnail=b.fromResponse(e.currentUserReplyThumbnail),this.sponsor_comment_badge=c.parseItem(e.sponsorCommentBadge,Mv),this.paid_comment_chip=c.parseItem(e.paidCommentChipRenderer,Vv),this.author_badge=c.parseItem(e.authorCommentBadge,Rv),this.author=new M(Object.assign(Object.assign({},e.authorText),{navigationEndpoint:e.authorEndpoint}),this.author_badge?[{metadataBadgeRenderer:(i=this.author_badge)===null||i===void 0?void 0:i.orig_badge}]:null,e.authorThumbnail),this.action_menu=c.parseItem(e.actionMenu,Y),this.action_buttons=c.parseItem(e.actionButtons,nr),this.comment_id=e.commentId,this.vote_status=e.voteStatus,this.vote_count=e.voteCount?new l(e.voteCount).toString():"0",this.reply_count=e.replyCount||0,this.is_liked=!!(!((r=(o=this.action_buttons)===null||o===void 0?void 0:o.like_button)===null||r===void 0)&&r.is_toggled),this.is_disliked=!!(!((u=(s=this.action_buttons)===null||s===void 0?void 0:s.dislike_button)===null||u===void 0)&&u.is_toggled),this.is_hearted=!!(!((f=(p=this.action_buttons)===null||p===void 0?void 0:p.creator_heart)===null||f===void 0)&&f.is_hearted),this.is_pinned=!!e.pinnedCommentBadge,this.is_member=!!e.sponsorCommentBadge}like(){return y(this,void 0,void 0,function*(){var e;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.like_button;if(!i)throw new v("Like button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already liked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Yt,"f"),{parse:!1})})}dislike(){return y(this,void 0,void 0,function*(){var e;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");let i=(e=this.action_buttons)===null||e===void 0?void 0:e.dislike_button;if(!i)throw new v("Dislike button was not found.",{comment_id:this.comment_id});if(i.is_toggled)throw new v("This comment is already disliked",{comment_id:this.comment_id});return yield i.endpoint.call(d(this,Yt,"f"),{parse:!1})})}reply(e){return y(this,void 0,void 0,function*(){var i,o,r;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");if(!(!((i=this.action_buttons)===null||i===void 0)&&i.reply_button))throw new v("Cannot reply to another reply. Try mentioning the user instead.",{comment_id:this.comment_id});let s=(o=this.action_buttons)===null||o===void 0?void 0:o.reply_button;if(!(!((r=s.endpoint)===null||r===void 0)&&r.dialog))throw new v("Reply button endpoint did not have a dialog.");let p=s.endpoint.dialog.as(fr).reply_button;if(!p)throw new v("Reply button was not found in the dialog.",{comment_id:this.comment_id});if(!p.endpoint)throw new v("Reply button endpoint was not found.",{comment_id:this.comment_id});return yield p.endpoint.call(d(this,Yt,"f"),{commentText:e})})}translate(e){return y(this,void 0,void 0,function*(){var i,o,r,s,u,p;if(!d(this,Yt,"f"))throw new v("An active caller must be provide to perform this operation.");let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e,comment_id:this.comment_id},h=Lo(22,m),x=yield d(this,Yt,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),w=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(u=(s=(r=w==null?void 0:w[0])===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commentEntityPayload)===null||u===void 0?void 0:u.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:T})})}setActions(e){k(this,Yt,e,"f")}};n(Al,"Comment");Yt=new WeakMap;Al.type="Comment";var vr=Al;var Rl=class extends a{constructor(e){super(),this.id=e.id,this.categories=c.parseArray(e.categories),this.category_buttons=c.parseArray(e.categoryButtons),this.search_placeholder=new l(e.searchPlaceholderText),this.search_no_results=new l(e.searchNoResultsText),this.pick_skin_tone=new l(e.pickSkinToneText),this.clear_search_label=e.clearSearchLabel,this.skin_tone_generic_label=e.skinToneGenericLabel,this.skin_tone_light_label=e.skinToneLightLabel,this.skin_tone_medium_light_label=e.skinToneMediumLightLabel,this.skin_tone_medium_label=e.skinToneMediumLabel,this.skin_tone_medium_dark_label=e.skinToneMediumDarkLabel,this.skin_tone_dark_label=e.skinToneDarkLabel}};n(Rl,"EmojiPicker");Rl.type="EmojiPicker";var Bv=Rl;var Vl=class extends a{constructor(e){super(),this.editable_text=new l(e.editableText),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.submit_button=c.parseItem(e.submitButton,C),this.cancel_button=c.parseItem(e.cancelButton,C),this.placeholder=new l(e.placeholderText),this.emoji_button=c.parseItem(e.emojiButton,C),this.emoji_picker=c.parseItem(e.emojiPicker,Bv)}};n(Vl,"CommentDialog");Vl.type="CommentDialog";var eI=Vl;var Ml=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents),this.view_replies=c.parseItem(e.viewReplies,C),this.hide_replies=c.parseItem(e.hideReplies,C),this.view_replies_creator_thumbnail=b.fromResponse(e.viewRepliesCreatorThumbnail),this.has_channel_owner_replied=!!e.viewRepliesCreatorThumbnail}};n(Ml,"CommentReplies");Ml.type="CommentReplies";var Fv=Ml;var Ol=class extends a{constructor(e){super(),this.simplebox_avatar=b.fromResponse(e.simpleboxAvatar),this.simplebox_placeholder=new l(e.simpleboxPlaceholder)}};n(Ol,"CommentsSimplebox");Ol.type="CommentsSimplebox";var Yv=Ol;var Dl=class extends a{constructor(e){super(),Reflect.has(e,"teaserAvatar")&&(this.teaser_avatar=b.fromResponse(e.teaserAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new l(e.teaserContent))}};n(Dl,"CommentsEntryPointTeaser");Dl.type="CommentsEntryPointTeaser";var jv=Dl;var Ll=class extends a{constructor(e){super(),Reflect.has(e,"headerText")&&(this.header=new l(e.headerText)),Reflect.has(e,"commentCount")&&(this.comment_count=new l(e.commentCount)),(Reflect.has(e,"teaserAvatar")||Reflect.has(e,"simpleboxAvatar"))&&(this.teaser_avatar=b.fromResponse(e.teaserAvatar||e.simpleboxAvatar)),Reflect.has(e,"teaserContent")&&(this.teaser_content=new l(e.teaserContent)),Reflect.has(e,"contentRenderer")&&(this.content_renderer=c.parseItem(e.contentRenderer,[jv,Yv])),Reflect.has(e,"simpleboxPlaceholder")&&(this.simplebox_placeholder=new l(e.simpleboxPlaceholder))}};n(Ll,"CommentsEntryPointHeader");Ll.type="CommentsEntryPointHeader";var Uv=Ll;var Bl=class extends a{constructor(e){super(),this.title=new l(e.titleText),this.count=new l(e.countText),this.comments_count=new l(e.commentsCount),this.create_renderer=c.parseItem(e.createRenderer),this.sort_menu=c.parseItem(e.sortMenu,Ft),Reflect.has(e,"customEmojis")&&(this.custom_emojis=e.customEmojis.map(i=>({emoji_id:i.emojiId,shortcuts:i.shortcuts,search_terms:i.searchTerms,image:b.fromResponse(i.image),is_custom_emoji:i.isCustomEmoji})))}};n(Bl,"CommentsHeader");Bl.type="CommentsHeader";var Ji=Bl;var Fl=class extends a{constructor(e){super(),this.submit_button=c.parseItem(e.submitButton,C),this.cancel_button=c.parseItem(e.cancelButton,C),this.author_thumbnail=b.fromResponse(e.authorThumbnail),this.placeholder=new l(e.placeholderText),this.avatar_size=e.avatarSize}};n(Fl,"CommentSimplebox");Fl.type="CommentSimplebox";var Wv=Fl;var ot,Yl=class extends a{constructor(e){super(),ot.set(this,void 0),this.comment_id=e.commentId,this.is_pinned=!!e.pinnedText,this.keys={comment:e.commentKey,comment_surface:e.commentSurfaceKey,toolbar_state:e.toolbarStateKey,toolbar_surface:e.toolbarSurfaceKey,shared:e.sharedKey}}applyMutations(e,i,o){e&&(this.content=l.fromAttributed(e.properties.content),this.published_time=e.properties.publishedTime,this.author_is_channel_owner=!!e.author.isCreator,this.like_count=e.toolbar.likeCountNotliked?e.toolbar.likeCountNotliked:"0",this.reply_count=e.toolbar.replyCount?e.toolbar.replyCount:"0",this.is_member=!!e.author.sponsorBadgeUrl,Reflect.has(e.author,"sponsorBadgeUrl")&&(this.member_badge={url:e.author.sponsorBadgeUrl,a11y:e.author.A11y}),this.author=new M({simpleText:e.author.displayName,navigationEndpoint:e.avatar.endpoint},e.author,e.avatar.image,e.author.channelId)),i&&(this.is_hearted=i.heartState==="TOOLBAR_HEART_STATE_HEARTED",this.is_liked=i.likeState==="TOOLBAR_LIKE_STATE_LIKED",this.is_disliked=i.likeState==="TOOLBAR_LIKE_STATE_DISLIKED"),o&&!Reflect.has(o,"prepareAccountCommand")&&(this.like_command=new g(o.likeCommand),this.dislike_command=new g(o.dislikeCommand),this.unlike_command=new g(o.unlikeCommand),this.undislike_command=new g(o.undislikeCommand),this.reply_command=new g(o.replyCommand))}like(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.like_command)throw new v("Like command not found.");if(this.is_liked)throw new v("This comment is already liked.",{comment_id:this.comment_id});return this.like_command.call(d(this,ot,"f"))})}dislike(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.dislike_command)throw new v("Dislike command not found.");if(this.is_disliked)throw new v("This comment is already disliked.",{comment_id:this.comment_id});return this.dislike_command.call(d(this,ot,"f"))})}unlike(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.unlike_command)throw new v("Unlike command not found.");if(!this.is_liked)throw new v("This comment is not liked.",{comment_id:this.comment_id});return this.unlike_command.call(d(this,ot,"f"))})}undislike(){return y(this,void 0,void 0,function*(){if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.undislike_command)throw new v("Undislike command not found.");if(!this.is_disliked)throw new v("This comment is not disliked.",{comment_id:this.comment_id});return this.undislike_command.call(d(this,ot,"f"))})}reply(e){return y(this,void 0,void 0,function*(){var i;if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.reply_command)throw new v("Reply command not found.");let o=(i=this.reply_command.dialog)===null||i===void 0?void 0:i.as(fr);if(!o)throw new v("Reply dialog not found.");let r=o.reply_button;if(!r)throw new v("Reply button not found in the dialog.");if(!r.endpoint)throw new v("Reply button endpoint not found.");return r.endpoint.call(d(this,ot,"f"),{commentText:e})})}translate(e){return y(this,void 0,void 0,function*(){var i,o,r,s,u,p;if(!d(this,ot,"f"))throw new v("Actions instance not set for this comment.");if(!this.content)throw new v("Comment content not found.",{comment_id:this.comment_id});let m={text:this.content.toString().replace(/[^\p{L}\p{N}\p{P}\p{Z}]/gu,""),target_language:e},h=Lo(22,m),x=yield d(this,ot,"f").execute("comment/perform_comment_action",{action:h,client:"ANDROID"}),w=(o=(i=x.data.frameworkUpdates)===null||i===void 0?void 0:i.entityBatchUpdate)===null||o===void 0?void 0:o.mutations,T=(p=(u=(s=(r=w==null?void 0:w[0])===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commentEntityPayload)===null||u===void 0?void 0:u.translatedContent)===null||p===void 0?void 0:p.content;return Object.assign(Object.assign({},x),{content:T})})}setActions(e){k(this,ot,e,"f")}};n(Yl,"CommentView");ot=new WeakMap;Yl.type="CommentView";var Gi=Yl;var yi,Bo,jl=class extends a{constructor(e){super(),yi.set(this,void 0),Bo.set(this,void 0),Reflect.has(e,"commentViewModel")?this.comment=c.parseItem(e.commentViewModel,Gi):this.comment=c.parseItem(e.comment,vr),this.comment_replies_data=c.parseItem(e.replies,Fv),this.is_moderated_elq_comment=e.isModeratedElqComment,this.has_replies=!!this.comment_replies_data}getReplies(){return y(this,void 0,void 0,function*(){var e;if(!d(this,yi,"f"))throw new v("Actions instance not set for this thread.");if(!this.comment_replies_data)throw new v("This comment has no replies.",this);let i=(e=this.comment_replies_data.contents)===null||e===void 0?void 0:e.firstOfType(_e);if(!i)throw new v("Replies continuation not found.");let o=yield i.endpoint.call(d(this,yi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=ee(o.on_response_received_endpoints_memo.getType(vr,Gi).map(r=>(r.setActions(d(this,yi,"f")),r))),k(this,Bo,o==null?void 0:o.on_response_received_endpoints_memo.getType(_e).first(),"f"),this})}getContinuation(){return y(this,void 0,void 0,function*(){var e;if(!this.replies)throw new v("Cannot retrieve continuation because this thread's replies have not been loaded.");if(!d(this,Bo,"f"))throw new v("Continuation not found.");if(!d(this,yi,"f"))throw new v("Actions instance not set for this thread.");let i=(e=d(this,Bo,"f").button)===null||e===void 0?void 0:e.as(C);if(!i)throw new v('"Load more" button not found.');let o=yield i.endpoint.call(d(this,yi,"f"),{parse:!0});if(!o.on_response_received_endpoints_memo)throw new v("Unexpected response.",o);return this.replies=ee(o.on_response_received_endpoints_memo.getType(vr,Gi).map(r=>(r.setActions(d(this,yi,"f")),r))),k(this,Bo,o.on_response_received_endpoints_memo.getType(_e).first(),"f"),this})}get has_continuation(){if(!this.replies)throw new v("Cannot determine if there is a continuation because this thread's replies have not been loaded.");return!!d(this,Bo,"f")}setActions(e){k(this,yi,e,"f")}};n(jl,"CommentThread");yi=new WeakMap,Bo=new WeakMap;jl.type="CommentThread";var Hv=jl;var Ul=class extends a{constructor(e){super(),this.title=new l(e.title),this.channel_id=e.channelId,this.thumbnail=b.fromResponse(e.thumbnail),this.display_name=new l(e.displayName),this.video_count=new l(e.videoCountText),this.subscriber_count=new l(e.subscriberCountText),this.endpoint=new g(e.navigationEndpoint),this.tv_banner=b.fromResponse(e.tvBanner),this.menu=c.parseItem(e.menu,Y)}};n(Ul,"CompactChannel");Ul.type="CompactChannel";var tI=Ul;var Wl=class extends a{constructor(e){super(),this.title=new l(e.title).toString(),this.endpoint=new g(e.navigationEndpoint),this.style=e.style}};n(Wl,"CompactLink");Wl.type="CompactLink";var gr=Wl;var Hl=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Hl,"PlaylistCustomThumbnail");Hl.type="PlaylistCustomThumbnail";var xr=Hl;var Jl=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Jl,"PlaylistVideoThumbnail");Jl.type="PlaylistVideoThumbnail";var yr=Jl;var Gl=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new l(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new l(e.shortBylineText):new M(e.longBylineText,e.ownerBadges,null),this.thumbnails=b.fromResponse(e.thumbnail||{thumbnails:e.thumbnails.map(o=>o.thumbnails).flat(1)}),this.video_count=new l(e.thumbnailText),this.video_count_short=new l(e.videoCountShortText),this.first_videos=c.parseArray(e.videos),this.share_url=e.shareUrl||null,this.menu=c.parseItem(e.menu),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),Reflect.has(e,"thumbnailRenderer")&&(this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer,[yr,xr])||void 0),Reflect.has(e,"viewPlaylistText")&&(this.view_playlist=new l(e.viewPlaylistText))}};n(Gl,"Playlist");Gl.type="Playlist";var ti=Gl;var zl=class extends ti{constructor(e){super(e)}};n(zl,"CompactMix");zl.type="CompactMix";var iI=zl;var $l=class extends a{constructor(e){var i;super();let o=((i=e.thumbnailOverlays.find(s=>s.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new l(e.title),this.top_metadata_items=new l(e.topMetadataItems),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText);let r=e.lengthText?new l(e.lengthText).toString():new l(o).toString();this.duration={text:r,seconds:Be(r)},this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.menu=c.parseItem(e.menu,Y)}};n($l,"CompactMovie");$l.type="CompactMovie";var oI=$l;var Kl=class extends ti{constructor(e){super(e)}};n(Kl,"CompactPlaylist");Kl.type="CompactPlaylist";var nI=Kl;var ql=class extends a{constructor(e){super(),this.title=new l(e.title),this.description=new l(e.description),this.video_count=new l(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.thumbnail=b.fromResponse(e.thumbnail)}};n(ql,"CompactStation");ql.type="CompactStation";var rI=ql;var Xl=class extends a{constructor(e){super(),this.title=new l(e.title),this.confirm_button=c.parseItem(e.confirmButton,C),this.cancel_button=c.parseItem(e.cancelButton,C),this.dialog_messages=e.dialogMessages.map(i=>new l(i))}};n(Xl,"ConfirmDialog");Xl.type="ConfirmDialog";var sI=Xl;var Ql=class extends a{constructor(e){super(),this.metadata_rows=e.metadataRows.map(i=>{var o;return{metadata_parts:(o=i.metadataParts)===null||o===void 0?void 0:o.map(r=>({text:l.fromAttributed(r.text)}))}}),this.delimiter=e.delimiter}};n(Ql,"ContentMetadataView");Ql.type="ContentMetadataView";var br=Ql;var Zl=class extends a{constructor(e){super(),this.text=new l(e.text)}};n(Zl,"Message");Zl.type="Message";var We=Zl;var ec=class extends a{constructor(e){super(),this.availability_message=c.parseItem(e.availabilityMessage,We)}};n(ec,"ConversationBar");ec.type="ConversationBar";var aI=ec;var tc=class extends a{constructor(e){super(),this.copy_button=c.parseItem(e.copyButton,C),this.short_url=e.shortUrl,this.style=e.style}};n(tc,"CopyLink");tc.type="CopyLink";var Jv=tc;var ic=class extends a{constructor(e){var i,o;super(),this.avatar=c.parseItem(e.avatar,W_),this.a11y_label=e.a11yLabel,!((o=(i=e.rendererContext)===null||i===void 0?void 0:i.commandContext)===null||o===void 0)&&o.onTap&&(this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap))}};n(ic,"DecoratedAvatarView");ic.type="DecoratedAvatarView";var Gv=ic;var oc=class extends a{constructor(e){super(),this.time_range_start_millis=e.timeRangeStartMillis,this.marker_duration_millis=e.markerDurationMillis,this.heat_marker_intensity_score_normalized=e.heatMarkerIntensityScoreNormalized}};n(oc,"HeatMarker");oc.type="HeatMarker";var zv=oc;var nc=class extends a{constructor(e){super(),this.max_height_dp=e.maxHeightDp,this.min_height_dp=e.minHeightDp,this.show_hide_animation_duration_millis=e.showHideAnimationDurationMillis,this.heat_markers=c.parseArray(e.heatMarkers,zv),this.heat_markers_decorations=c.parseArray(e.heatMarkersDecorations)}};n(nc,"Heatmap");nc.type="Heatmap";var $v=nc;var rc=class extends a{constructor(e){super(),this.marker_key=e.key,this.value={},Reflect.has(e,"value")&&(Reflect.has(e.value,"heatmap")&&(this.value.heatmap=c.parseItem(e.value.heatmap,$v)),Reflect.has(e.value,"chapters")&&(this.value.chapters=c.parseArray(e.value.chapters,Iv)))}};n(rc,"Marker");rc.type="Marker";var sc=class extends a{constructor(e){var i;super(),this.markers_map=ee(((i=e.markersMap)===null||i===void 0?void 0:i.map(o=>new rc(o)))||[])}};n(sc,"MultiMarkersPlayerBar");sc.type="MultiMarkersPlayerBar";var Kv=sc;var ac=class extends a{constructor(e){super(),this.player_bar=c.parseItem(e.playerBar,Kv),this.player_bar_action_button=c.parseItem(e.playerBarActionButton,C)}};n(ac,"DecoratedPlayerBar");ac.type="DecoratedPlayerBar";var qv=ac;var uc=class extends a{constructor(e){super(),this.title=new l(e.title),this.description=new l(e.description),this.endpoint=new g(e.navigationEndpoint),this.large_form_factor_background_thumbnail=c.parseItem(e.largeFormFactorBackgroundThumbnail),this.small_form_factor_background_thumbnail=c.parseItem(e.smallFormFactorBackgroundThumbnail),this.scrim_color_values=e.scrimColorValues,this.min_panel_display_duration_ms=e.minPanelDisplayDurationMs,this.min_video_play_duration_ms=e.minVideoPlayDurationMs,this.scrim_duration=e.scrimDuration,this.metadata_order=e.metadataOrder,this.panel_layout=e.panelLayout}};n(uc,"DefaultPromoPanel");uc.type="DefaultPromoPanel";var uI=uc;var lc=class extends a{constructor(e){var i,o,r,s,u,p;if(super(),this.description=l.fromAttributed(e.description),this.max_lines=parseInt(e.maxLines),this.truncation_text=l.fromAttributed(e.truncationText),this.always_show_truncation_text=!!e.alwaysShowTruncationText,!((r=(o=(i=e.rendererContext.commandContext)===null||i===void 0?void 0:i.onTap)===null||o===void 0?void 0:o.innertubeCommand)===null||r===void 0)&&r.showEngagementPanelEndpoint){let f=(p=(u=(s=e.rendererContext.commandContext)===null||s===void 0?void 0:s.onTap)===null||u===void 0?void 0:u.innertubeCommand)===null||p===void 0?void 0:p.showEngagementPanelEndpoint;this.more_endpoint={show_engagement_panel_endpoint:{engagement_panel:c.parseItem(f.engagementPanel,Yi),engagement_panel_popup_type:f.engagementPanelPresentationConfigs.engagementPanelPopupPresentationConfig.popupType,identifier:{surface:f.identifier.surface,tag:f.identifier.tag}}}}}};n(lc,"DescriptionPreviewView");lc.type="DescriptionPreviewView";var Xv=lc;var cc=class extends a{constructor(e){super(),this.text=new l(e.didYouMean).toString(),this.corrected_query=new l(e.correctedQuery),this.endpoint=new g(e.navigationEndpoint||e.correctedQueryEndpoint)}};n(cc,"DidYouMean");cc.type="DidYouMean";var Qv=cc;var dc=class extends a{constructor(e){super(),this.default_button=c.parseItem(e.defaultButtonViewModel,Vo),this.toggled_button=c.parseItem(e.toggledButtonViewModel,Vo),this.identifier=e.identifier,this.is_toggling_disabled=e.isTogglingDisabled}};n(dc,"ToggleButtonView");dc.type="ToggleButtonView";var zi=dc;var pc=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,zi),this.dislike_entity_key=e.dislikeEntityKey}};n(pc,"DislikeButtonView");pc.type="DislikeButtonView";var Zv=pc;var fc=class extends a{constructor(e){super(),this.style=e.style,this.size=e.size,this.endpoint=new g(e.command),this.target_id=e.targetId}};n(fc,"DownloadButton");fc.type="DownloadButton";var lI=fc;var mc=class extends a{constructor(e){super(),this.text=l.fromAttributed(e.text),this.max_lines=parseInt(e.maxLines)}};n(mc,"DynamicTextView");mc.type="DynamicTextView";var e0=mc;var Fo=class extends a{constructor(e){var i;super(),Reflect.has(e,"type")&&Reflect.has(e.type,"textType")&&(this.text=(i=e.type.textType.text)===null||i===void 0?void 0:i.content),this.properties=e.properties,Reflect.has(e,"childElements")&&(this.child_elements=e.childElements.map(o=>new Fo(o)))}};n(Fo,"ChildElement");Fo.type="ChildElement";var t0=Fo;var Yo=class extends a{constructor(e){var i;if(super(),Reflect.has(e,"elementRenderer"))return c.parseItem(e,Yo);let o=e.newElement.type.componentType;this.model=c.parseItem(o==null?void 0:o.model),Reflect.has(e,"newElement")&&Reflect.has(e.newElement,"childElements")&&(this.child_elements=ee(((i=e.newElement.childElements)===null||i===void 0?void 0:i.map(r=>new t0(r)))||[]))}};n(Yo,"Element");Yo.type="Element";var wr=Yo;var hc=class extends a{constructor(e){super(),this.title=new l(e.title),this.first_option=c.parseItem(e.firstOption),this.menu=c.parseItem(e.menu,Y)}};n(hc,"EmergencyOnebox");hc.type="EmergencyOnebox";var cI=hc;var _c=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new l(e.title),this.emoji_ids=e.emojiIds,this.image_loading_lazy=!!e.imageLoadingLazy,this.category_type=e.categoryType}};n(_c,"EmojiPickerCategory");_c.type="EmojiPickerCategory";var dI=_c;var vc=class extends a{constructor(e){var i;super(),this.category_id=e.categoryId,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType),this.tooltip=e.tooltip}};n(vc,"EmojiPickerCategoryButton");vc.type="EmojiPickerCategoryButton";var pI=vc;var gc=class extends a{constructor(e){super(),this.category_id=e.categoryId,this.title=new l(e.title),this.upsell=new l(e.upsell),this.emoji_tooltip=e.emojiTooltip,this.endpoint=new g(e.command),this.emoji_ids=e.emojiIds}};n(gc,"EmojiPickerUpsellCategory");gc.type="EmojiPickerUpsellCategory";var fI=gc;var xc=class extends a{constructor(e){super(),this.elements=c.parseArray(e.elements),this.start_ms=e.startMs}};n(xc,"Endscreen");xc.type="Endscreen";var i0=xc;var yc=class extends a{constructor(e){super(),this.style=e.style,this.title=new l(e.title),this.endpoint=new g(e.endpoint),Reflect.has(e,"image")&&(this.image=b.fromResponse(e.image)),Reflect.has(e,"icon")&&(this.icon=b.fromResponse(e.icon)),Reflect.has(e,"metadata")&&(this.metadata=new l(e.metadata)),Reflect.has(e,"callToAction")&&(this.call_to_action=new l(e.callToAction)),Reflect.has(e,"hovercardButton")&&(this.hovercard_button=c.parseItem(e.hovercardButton)),Reflect.has(e,"isSubscribe")&&(this.is_subscribe=!!e.isSubscribe),Reflect.has(e,"playlistLength")&&(this.playlist_length=new l(e.playlistLength)),Reflect.has(e,"thumbnailOverlays")&&(this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)),this.left=parseFloat(e.left),this.width=parseFloat(e.width),this.top=parseFloat(e.top),this.aspect_ratio=parseFloat(e.aspectRatio),this.start_ms=parseFloat(e.startMs),this.end_ms=parseFloat(e.endMs),this.id=e.id}};n(yc,"EndscreenElement");yc.type="EndscreenElement";var mI=yc;var bc=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new l(e.title),this.author=new l(e.longBylineText),this.endpoint=new g(e.navigationEndpoint),this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new l(e.videoCountText)}};n(bc,"EndScreenPlaylist");bc.type="EndScreenPlaylist";var o0=bc;var wc=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.shortBylineText,e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.short_view_count=new l(e.shortViewCountText),this.badges=c.parseArray(e.badges),this.duration={text:new l(e.lengthText).toString(),seconds:e.lengthInSeconds}}};n(wc,"EndScreenVideo");wc.type="EndScreenVideo";var n0=wc;var Tc=class extends a{constructor(e){super(),this.title=e.title,this.endpoint=new g(e.endpoint),this.selected=e.selected,this.content=c.parseItem(e.content)}};n(Tc,"ExpandableTab");Tc.type="ExpandableTab";var Tr=Tc;var Ic=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Ic,"ExpandedShelfContents");Ic.type="ExpandedShelfContents";var hI=Ic;var kc=class extends a{constructor(e){super(),this.dialog_message=new l(e.dialogMessage),this.confirm_label=new l(e.confirmLabel)}};n(kc,"FancyDismissibleDialog");kc.type="FancyDismissibleDialog";var _I=kc;var Sc=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents,xe)}};n(Sc,"FeedFilterChipBar");Sc.type="FeedFilterChipBar";var bi=Sc;var Cc=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.endpoint=new g(e.impressionEndpoint),this.apply_modernized_style=e.applyModernizedStyle,this.trim_style=e.trimStyle,this.background_style=e.backgroundStyle}};n(Cc,"FeedNudge");Cc.type="FeedNudge";var vI=Cc;var Ec=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Ec,"FeedTabbedHeader");Ec.type="FeedTabbedHeader";var r0=Ec;var Pc=class extends a{constructor(e){super(),this.actions_rows=e.actionsRows.map(i=>({actions:c.parseArray(i.actions,[Vo,zi])})),this.style=e.style}};n(Pc,"FlexibleActionsView");Pc.type="FlexibleActionsView";var s0=Pc;var Nc=class extends a{constructor(e){super(),this.title=new l(e.title),this.box_art=b.fromResponse(e.boxArt),this.box_art_overlay_text=new l(e.boxArtOverlayText),this.endpoint=new g(e.endpoint),this.is_official_box_art=!!e.isOfficialBoxArt}};n(Nc,"GameDetails");Nc.type="GameDetails";var gI=Nc;var Ac=class extends a{constructor(e){var i,o,r;super(),this.items=c.parseArray(e.items),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"isCollapsible")&&(this.is_collapsible=e.isCollapsible),Reflect.has(e,"visibleRowCount")&&(this.visible_row_count=e.visibleRowCount),Reflect.has(e,"targetId")&&(this.target_id=e.targetId),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}get contents(){return this.items}};n(Ac,"Grid");Ac.type="Grid";var jo=Ac;var Rc=class extends a{constructor(e){super(),this.id=e.channelId,this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.ownerBadges,e.thumbnail),this.subscribers=new l(e.subscriberCountText),this.video_count=new l(e.videoCountText),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton)}};n(Rc,"GridChannel");Rc.type="GridChannel";var a0=Rc;var Vc=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Vc,"GridHeader");Vc.type="GridHeader";var xI=Vc;var Mc=class extends a{constructor(e){var i,o;super(),this.id=e.playlistId,this.title=new l(e.title),this.author=!((i=e.shortBylineText)===null||i===void 0)&&i.simpleText?new l(e.shortBylineText):!((o=e.longBylineText)===null||o===void 0)&&o.simpleText?new l(e.longBylineText):null,this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new l(e.videoCountText),this.video_count_short=new l(e.videoCountShortText),this.endpoint=new g(e.navigationEndpoint),this.secondary_endpoint=new g(e.secondaryNavigationEndpoint),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Mc,"GridMix");Mc.type="GridMix";var yI=Mc;var Oc=class extends a{constructor(e){var i;super();let o=(i=e.thumbnailOverlays.find(r=>r.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new l(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.duration=e.lengthText?new l(e.lengthText):o!=null&&o.text?new l(o.text):null,this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges,ct),this.metadata=new l(e.metadata),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays)}};n(Oc,"GridMovie");Oc.type="GridMovie";var bI=Oc;var Dc=class extends a{constructor(e){var i;super(),this.id=e.playlistId,this.title=new l(e.title),Reflect.has(e,"shortBylineText")&&(this.author=new M(e.shortBylineText,e.ownerBadges)),this.badges=c.parseArray(e.ownerBadges),this.endpoint=new g(e.navigationEndpoint),this.view_playlist=new l(e.viewPlaylistText),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.sidebar_thumbnails=[].concat(...((i=e.sidebarThumbnails)===null||i===void 0?void 0:i.map(o=>b.fromResponse(o)))||[])||null,this.video_count=new l(e.thumbnailText),this.video_count_short=new l(e.videoCountShortText)}};n(Dc,"GridPlaylist");Dc.type="GridPlaylist";var u0=Dc;var Lc=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(Lc,"ShowCustomThumbnail");Lc.type="ShowCustomThumbnail";var l0=Lc;var Bc=class extends a{constructor(e){super(),Reflect.has(e,"text")&&(this.text=new l(e.text)),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Bc,"ThumbnailOverlayBottomPanel");Bc.type="ThumbnailOverlayBottomPanel";var c0=Bc;var Fc=class extends a{constructor(e){super(),this.title=new l(e.title),this.thumbnail_renderer=le(e.thumbnailRenderer,l0),this.endpoint=new g(e.navigationEndpoint),this.long_byline_text=new l(e.longBylineText),this.thumbnail_overlays=ze(e.thumbnailOverlays,c0),this.author=new M(e.shortBylineText,void 0)}};n(Fc,"GridShow");Fc.type="GridShow";var wI=Fc;var Yc=class extends a{constructor(e){var i,o;super();let r=(i=e.thumbnailOverlays.find(s=>s.hasOwnProperty("thumbnailOverlayTimeStatusRenderer")))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer;this.id=e.videoId,this.title=new l(e.title),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.rich_thumbnail=c.parseItem(e.richThumbnail),this.published=new l(e.publishedTimeText),this.duration=e.lengthText?new l(e.lengthText):r!=null&&r.text?new l(r.text):null,this.author=e.shortBylineText&&new M(e.shortBylineText,e.ownerBadges),this.views=new l(e.viewCountText),this.short_view_count=new l(e.shortViewCountText),this.endpoint=new g(e.navigationEndpoint),this.menu=c.parseItem(e.menu,Y),Reflect.has(e,"buttons")&&(this.buttons=c.parseArray(e.buttons)),Reflect.has(e,"upcomingEventData")&&(this.upcoming=new Date(Number(`${e.upcomingEventData.startTime}000`)),this.upcoming_text=new l(e.upcomingEventData.upcomingEventText),this.is_reminder_set=!!(!((o=e.upcomingEventData)===null||o===void 0)&&o.isReminderSet))}get is_upcoming(){return Boolean(this.upcoming&&this.upcoming>new Date)}};n(Yc,"GridVideo");Yc.type="GridVideo";var d0=Yc;var jc=class extends a{constructor(e){super(),this.title=new l(e.formattedTitle),this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"thumbnail")&&(this.thumbnails=b.fromResponse(e.thumbnail)),Reflect.has(e,"badges")&&(this.badges=e.badges),this.is_primary=!!e.isPrimary}};n(jc,"GuideEntry");jc.type="GuideEntry";var Uo=jc;var Uc=class extends a{constructor(e){super(),this.expander_item=le(e.expanderItem,Uo),this.collapser_item=le(e.collapserItem,Uo),this.expandable_items=ze(e.expandableItems)}};n(Uc,"GuideCollapsibleEntry");Uc.type="GuideCollapsibleEntry";var TI=Uc;var Wc=class extends a{constructor(e){super(),this.header_entry=le(e.headerEntry),this.expander_icon=e.expanderIcon.iconType,this.collapser_icon=e.collapserIcon.iconType,this.section_items=ze(e.sectionItems)}};n(Wc,"GuideCollapsibleSectionEntry");Wc.type="GuideCollapsibleSectionEntry";var II=Wc;var Hc=class extends Uo{constructor(e){super(e.entryRenderer.guideEntryRenderer),this.always_show=!!e.alwaysShow}};n(Hc,"GuideDownloadsEntry");Hc.type="GuideDownloadsEntry";var kI=Hc;var Jc=class extends a{constructor(e){super(),Reflect.has(e,"formattedTitle")&&(this.title=new l(e.formattedTitle)),this.items=ze(e.items)}};n(Jc,"GuideSection");Jc.type="GuideSection";var Ir=Jc;var Gc=class extends Ir{};n(Gc,"GuideSubscriptionsSection");Gc.type="GuideSubscriptionsSection";var p0=Gc;var zc=class extends a{constructor(e){super(),this.hashtag=new l(e.hashtag),this.hashtag_info=new l(e.hashtagInfoText)}};n(zc,"HashtagHeader");zc.type="HashtagHeader";var f0=zc;var $c=class extends a{constructor(e){super(),this.hashtag=new l(e.hashtag),this.hashtag_info_text=new l(e.hashtagInfoText),this.hashtag_thumbnail=b.fromResponse(e.hashtagThumbnail),this.endpoint=new g(e.onTapCommand),this.hashtag_background_color=e.hashtagBackgroundColor,this.hashtag_video_count=new l(e.hashtagVideoCount),this.hashtag_channel_count=new l(e.hashtagChannelCount)}};n($c,"HashtagTile");$c.type="HashtagTile";var SI=$c;var Kc=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.on_tap_endpoint=new g(e.onTap)}};n(Kc,"HeroPlaylistThumbnail");Kc.type="HeroPlaylistThumbnail";var CI=Kc;var qc=class extends a{constructor(e){super(),e.thumbnail&&(this.thumbnail={image:b.fromResponse(e.thumbnail.image),endpoint:new g(e.thumbnail.onTap),on_long_press_endpoint:new g(e.thumbnail.onLongPress),content_mode:e.thumbnail.contentMode,crop_options:e.thumbnail.cropOptions}),this.background_image={image:b.fromResponse(e.backgroundImage.image),gradient_image:b.fromResponse(e.backgroundImage.gradientImage)},this.strapline=e.strapline,this.title=e.title,this.description=e.description,this.cta={icon_name:e.cta.iconName,title:e.cta.title,endpoint:new g(e.cta.onTap),accessibility_text:e.cta.accessibilityText,state:e.cta.state},this.text_on_tap_endpoint=new g(e.textOnTap)}};n(qc,"Panel");qc.type="Panel";var Xc=class extends a{constructor(e){super(),this.panels=ee(e.highlightsCarousel.panels.map(i=>new qc(i)))}};n(Xc,"HighlightsCarousel");Xc.type="HighlightsCarousel";var Qc=Xc;var Zc=class extends a{constructor(e){super(),this.suggestion=new l(e.suggestion),this.endpoint=new g(e.navigationEndpoint),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"serviceEndpoint")&&(this.service_endpoint=new g(e.serviceEndpoint))}};n(Zc,"SearchSuggestion");Zc.type="SearchSuggestion";var m0=Zc;var ed=class extends m0{constructor(e){super(e)}};n(ed,"HistorySuggestion");ed.type="HistorySuggestion";var EI=ed;var td=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.previous_button=c.parseItem(e.previousButton,C),this.next_button=c.parseItem(e.nextButton,C)}get contents(){return this.items}};n(td,"HorizontalMovieList");td.type="HorizontalMovieList";var PI=td;var id=class extends a{constructor(e){var i;super(),this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType,Reflect.has(e,"tooltip")&&(this.tooltip=new l(e.tooltip).toString()),this.endpoint=new g(e.navigationEndpoint)}};n(id,"IconLink");id.type="IconLink";var h0=id;var od=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.style=e.style}};n(od,"ImageBannerView");od.type="ImageBannerView";var _0=od;var nd=class extends a{constructor(e){super(),this.including_results_for=new l(e.includingResultsFor),this.corrected_query=new l(e.correctedQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.search_only_for=Reflect.has(e,"searchOnlyFor")?new l(e.searchOnlyFor):void 0,this.original_query=Reflect.has(e,"originalQuery")?new l(e.originalQuery):void 0,this.original_query_endpoint=Reflect.has(e,"originalQueryEndpoint")?new g(e.originalQueryEndpoint):void 0}};n(nd,"IncludingResultsFor");nd.type="IncludingResultsFor";var NI=nd;var rd=class extends a{constructor(e){super(),this.title=new l(e.title),this.source=new l(e.source),this.attributed_paragraphs=e.attributedParagraphs.map(i=>l.fromAttributed(i)),this.thumbnail=b.fromResponse(e.thumbnail),this.source_endpoint=new g(e.sourceEndpoint),this.truncate_paragraphs=!!e.truncateParagraphs,this.background=e.background,Reflect.has(e,"inlineLinkIcon")&&Reflect.has(e.inlineLinkIcon,"iconType")&&(this.inline_link_icon_type=e.inlineLinkIcon.iconType)}};n(rd,"InfoPanelContent");rd.type="InfoPanelContent";var v0=rd;var sd=class extends a{constructor(e){var i;super(),this.title=new l(e.title),this.menu=c.parseItem(e.menu,Y),this.content=c.parseItem(e.content,v0),e.headerEndpoint&&(this.header_endpoint=new g(e.headerEndpoint)),this.background=e.background,this.title_style=e.titleStyle,Reflect.has(e,"icon")&&(this.icon_type=(i=e.icon)===null||i===void 0?void 0:i.iconType)}};n(sd,"InfoPanelContainer");sd.type="InfoPanelContainer";var g0=sd;var ad=class extends a{constructor(e){super(),this.header_type=e.type,this.title=new l(e.title),this.description=new l(e.description),this.metadata=new l(e.metadata),this.badges=c.parseArray(e.badges,ct),this.box_art=b.fromResponse(e.boxArt),this.banner=b.fromResponse(e.banner),this.buttons=c.parseArray(e.buttons,[Ge,C]),this.auto_generated=new l(e.autoGenerated)}};n(ad,"InteractiveTabbedHeader");ad.type="InteractiveTabbedHeader";var x0=ad;var ud=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(ud,"ItemSectionHeader");ud.type="ItemSectionHeader";var kr=ud;var ld=class extends a{constructor(e){super(),this.title=new l(e.title),this.selected=!!e.selected,this.endpoint=new g(e.endpoint)}};n(ld,"ItemSectionTab");ld.type="Tab";var y0=ld;var cd=class extends a{constructor(e){super(),this.title=new l(e.title),this.tabs=c.parseArray(e.tabs,y0),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(cd,"ItemSectionTabbedHeader");cd.type="ItemSectionTabbedHeader";var Sr=cd;var dd=class extends a{constructor(e){super(),this.filter_menu=c.parseItem(e.filterMenu,Wo.SortFilterSubMenu)}};n(dd,"SortFilterHeader");dd.type="SortFilterHeader";var b0=dd;var pd=class extends a{constructor(e){var i,o,r;super(),this.header=c.parseItem(e.header,[Ji,kr,Sr,b0]),this.contents=c.parseArray(e.contents),(e.targetId||e.sectionIdentifier)&&(this.target_id=e.targetId||e.sectionIdentifier),e.continuations&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(pd,"ItemSection");pd.type="ItemSection";var ye=pd;var fd=class extends a{constructor(e){super(),this.target={video_id:e.target.videoId},this.like_status=e.likeStatus,this.likes_allowed=e.likesAllowed,Reflect.has(e,"serviceEndpoints")&&(this.endpoints=e.serviceEndpoints.map(i=>new g(i)))}};n(fd,"LikeButton");fd.type="LikeButton";var w0=fd;var md=class extends a{constructor(e){super(),this.toggle_button=c.parseItem(e.toggleButtonViewModel,zi),this.like_status_entity_key=e.likeStatusEntityKey,this.like_status_entity={key:e.likeStatusEntity.key,like_status:e.likeStatusEntity.likeStatus}}};n(md,"LikeButtonView");md.type="LikeButtonView";var T0=md;var hd=class extends a{constructor(e){var i,o;super(),this.header=c.parseItem(e.header),this.initial_display_state=e.initialDisplayState,this.continuation=(o=(i=e.continuations[0])===null||i===void 0?void 0:i.reloadContinuationData)===null||o===void 0?void 0:o.continuation,this.client_messages={reconnect_message:new l(e.clientMessages.reconnectMessage),unable_to_reconnect_message:new l(e.clientMessages.unableToReconnectMessage),fatal_error:new l(e.clientMessages.fatalError),reconnected_message:new l(e.clientMessages.reconnectedMessage),generic_error:new l(e.clientMessages.genericError)},this.is_replay=!!e.isReplay}};n(hd,"LiveChat");hd.type="LiveChat";var I0=hd;var _d=class extends a{constructor(e){super(),this.text=new l(e.text),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.context_menu_button=c.parseItem(e.contextMenuButton,C)}};n(_d,"LiveChatBannerHeader");_d.type="LiveChatBannerHeader";var k0=_d;var vd=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,k0),this.contents=c.parseItem(e.contents),this.action_id=e.actionId,this.viewer_is_creator=e.viewerIsCreator,this.target_id=e.targetId,this.is_stackable=e.isStackable,this.background_type=e.backgroundType}};n(vd,"LiveChatBanner");vd.type="LiveChatBanner";var S0=vd;var gd=class extends a{constructor(e){super(),this.banner=c.parseItem(e.bannerRenderer,S0)}};n(gd,"AddBannerToLiveChatCommand");gd.type="AddBannerToLiveChatCommand";var AI=gd;var xd=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),Reflect.has(e,"clientId")&&(this.client_id=e.clientId)}};n(xd,"AddChatItemAction");xd.type="AddChatItemAction";var C0=xd;var yd=class extends a{constructor(e){super(),this.item=c.parseItem(e.item),this.duration_sec=e.durationSec}};n(yd,"AddLiveChatTickerItemAction");yd.type="AddLiveChatTickerItemAction";var RI=yd;var bd=class extends a{constructor(e){super(),this.client_assigned_id=e.clientAssignedId}};n(bd,"DimChatItemAction");bd.type="DimChatItemAction";var VI=bd;var wd=class extends a{constructor(e){super(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.moderation_buttons=c.parseArray(e.moderationButtons,C),this.auto_moderated_item=c.parseItem(e.autoModeratedItem),this.header_text=new l(e.headerText),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(wd,"LiveChatAutoModMessage");wd.type="LiveChatAutoModMessage";var MI=wd;var Td=class extends a{constructor(e){super(),this.poll_question=new l(e.pollQuestion),this.author_photo=b.fromResponse(e.authorPhoto),this.choices=e.pollChoices.map(i=>({option_id:i.pollOptionId,text:new l(i.text).toString()})),this.collapsed_state_entity_key=e.collapsedStateEntityKey,this.live_chat_poll_state_entity_key=e.liveChatPollStateEntityKey,this.context_menu_button=c.parseItem(e.contextMenuButton,C)}};n(Td,"LiveChatBannerPoll");Td.type="LiveChatBannerPoll";var OI=Td;var Id=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.header_subtext=new l(e.headerSubtext),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Id,"LiveChatMembershipItem");Id.type="LiveChatMembershipItem";var DI=Id;var kd=class extends a{constructor(e){super(),this.message=new l(e.message),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.header_background_color=e.headerBackgroundColor,this.header_text_color=e.headerTextColor,this.body_background_color=e.bodyBackgroundColor,this.body_text_color=e.bodyTextColor,this.purchase_amount=new l(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.timestamp_text=new l(e.timestampText).toString(),this.id=e.id}};n(kd,"LiveChatPaidMessage");kd.type="LiveChatPaidMessage";var LI=kd;var Sd=class extends a{constructor(e){super(),this.id=e.id,this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.money_chip_background_color=e.moneyChipBackgroundColor,this.money_chip_text_color=e.moneyChipTextColor,this.background_color=e.backgroundColor,this.author_name_text_color=e.authorNameTextColor,this.sticker=b.fromResponse(e.sticker),this.purchase_amount=new l(e.purchaseAmountText).toString(),this.menu_endpoint=new g(e.contextMenuEndpoint),this.context_menu=this.menu_endpoint,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Sd,"LiveChatPaidSticker");Sd.type="LiveChatPaidSticker";var BI=Sd;var Cd=class extends a{constructor(e){super(),this.id=e.id,this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3)}};n(Cd,"LiveChatPlaceholderItem");Cd.type="LiveChatPlaceholderItem";var FI=Cd;var Ed=class extends a{constructor(e){super(),this.title=e.title,this.accessibility_title=e.accessibilityTitle,this.thumbnail=b.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.from_vendor_text=e.fromVendorText,this.information_button=c.parseItem(e.informationButton),this.endpoint=new g(e.onClickCommand),this.creator_message=e.creatorMessage,this.creator_name=e.creatorName,this.author_photo=b.fromResponse(e.authorPhoto),this.information_dialog=c.parseItem(e.informationDialog),this.is_verified=e.isVerified,this.creator_custom_message=new l(e.creatorCustomMessage)}};n(Ed,"LiveChatProductItem");Ed.type="LiveChatProductItem";var YI=Ed;var Pd=class extends a{constructor(e){super(),this.message=new l(e.message),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType)}};n(Pd,"LiveChatRestrictedParticipation");Pd.type="LiveChatRestrictedParticipation";var jI=Pd;var Ho=class extends a{constructor(e){super(),this.message=new l(e.message),this.inline_action_buttons=c.parseArray(e.inlineActionButtons,C),this.timestamp=Math.floor(parseInt(e.timestampUsec)/1e3),this.id=e.id}};n(Ho,"LiveChatMessageBase");Ho.type="LiveChatMessageBase";var Nd=class extends Ho{constructor(e){super(e),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.menu_endpoint=new g(e.contextMenuEndpoint)}};n(Nd,"LiveChatTextMessage");Nd.type="LiveChatTextMessage";var UI=Nd;var Ad=class extends a{constructor(e){var i,o;super(),this.author=new M(e.authorName,e.authorBadges,e.authorPhoto,e.authorExternalChannelId),this.amount=new l(e.amount),this.duration_sec=e.durationSec,this.full_duration_sec=e.fullDurationSec,this.show_item=c.parseItem((o=(i=e.showItemEndpoint)===null||i===void 0?void 0:i.showLiveChatItemEndpoint)===null||o===void 0?void 0:o.renderer),this.show_item_endpoint=new g(e.showItemEndpoint),this.id=e.id}};n(Ad,"LiveChatTickerPaidMessageItem");Ad.type="LiveChatTickerPaidMessageItem";var E0=Ad;var Rd=class extends E0{};n(Rd,"LiveChatTickerPaidStickerItem");Rd.type="LiveChatTickerPaidStickerItem";var WI=Rd;var Vd=class extends a{constructor(e){super(),this.id=e.id,this.detail=new l(e.detailText),this.author=new M(e.authorName,e.authorBadges,e.sponsorPhoto,e.authorExternalChannelId),this.duration_sec=e.durationSec}};n(Vd,"LiveChatTickerSponsorItem");Vd.type="LiveChatTickerSponsorItem";var HI=Vd;var Md=class extends Ho{constructor(e){super(e),Reflect.has(e,"icon")&&Reflect.has(e.icon,"iconType")&&(this.icon_type=e.icon.iconType),this.action_button=c.parseItem(e.actionButton)}};n(Md,"LiveChatViewerEngagementMessage");Md.type="LiveChatViewerEngagementMessage";var JI=Md;var Od=class extends a{constructor(e){super(),this.poll_question=new l(e.pollQuestion),this.thumbnails=b.fromResponse(e.thumbnail),this.metadata=new l(e.metadataText),this.live_chat_poll_type=e.liveChatPollType,this.context_menu_button=c.parseItem(e.contextMenuButton,C)}};n(Od,"PollHeader");Od.type="PollHeader";var GI=Od;var Dd=class extends a{constructor(e){super(),this.id=e.id,this.contents=c.parse(e.contents),this.target_id=e.targetId}};n(Dd,"LiveChatActionPanel");Dd.type="LiveChatActionPanel";var P0=Dd;var Ld=class extends a{constructor(e){super(),this.deleted_state_message=new l(e.deletedStateMessage),this.target_item_id=e.targetItemId}};n(Ld,"MarkChatItemAsDeletedAction");Ld.type="MarkChatItemAsDeletedAction";var zI=Ld;var Bd=class extends a{constructor(e){super(),this.deleted_state_message=new l(e.deletedStateMessage),this.external_channel_id=e.externalChannelId}};n(Bd,"MarkChatItemsByAuthorAsDeletedAction");Bd.type="MarkChatItemsByAuthorAsDeletedAction";var $I=Bd;var Fd=class extends a{constructor(e){super(),this.target_action_id=e.targetActionId}};n(Fd,"RemoveBannerForLiveChatCommand");Fd.type="RemoveBannerForLiveChatCommand";var KI=Fd;var Yd=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId}};n(Yd,"RemoveChatItemAction");Yd.type="RemoveChatItemAction";var qI=Yd;var jd=class extends a{constructor(e){super(),this.external_channel_id=e.externalChannelId}};n(jd,"RemoveChatItemByAuthorAction");jd.type="RemoveChatItemByAuthorAction";var XI=jd;var Ud=class extends a{constructor(e){super(),this.target_item_id=e.targetItemId,this.replacement_item=c.parseItem(e.replacementItem)}};n(Ud,"ReplaceChatItemAction");Ud.type="ReplaceChatItemAction";var QI=Ud;var Wd=class extends a{constructor(e){var i;super(),this.actions=c.parseArray((i=e.actions)===null||i===void 0?void 0:i.map(o=>(delete o.clickTrackingParams,o))),this.video_offset_time_msec=e.videoOffsetTimeMsec}};n(Wd,"ReplayChatItemAction");Wd.type="ReplayChatItemAction";var ZI=Wd;var Hd=class extends a{constructor(e){super(),this.panel_to_show=c.parseItem(e.panelToShow,P0)}};n(Hd,"ShowLiveChatActionPanelAction");Hd.type="ShowLiveChatActionPanelAction";var ek=Hd;var Jd=class extends a{constructor(e){super(),this.dialog=c.parseItem(e.dialog)}};n(Jd,"ShowLiveChatDialogAction");Jd.type="ShowLiveChatDialogAction";var tk=Jd;var Gd=class extends a{constructor(e){super(),this.tooltip=c.parseItem(e.tooltip)}};n(Gd,"ShowLiveChatTooltipCommand");Gd.type="ShowLiveChatTooltipCommand";var ik=Gd;var zd=class extends a{constructor(e){super(),this.date_text=new l(e.dateText).toString()}};n(zd,"UpdateDateTextAction");zd.type="UpdateDateTextAction";var N0=zd;var $d=class extends a{constructor(e){super(),this.description=new l(e.description)}};n($d,"UpdateDescriptionAction");$d.type="UpdateDescriptionAction";var A0=$d;var Kd=class extends a{constructor(e){super(),this.poll_to_update=c.parseItem(e.pollToUpdate)}};n(Kd,"UpdateLiveChatPollAction");Kd.type="UpdateLiveChatPollAction";var ok=Kd;var qd=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(qd,"UpdateTitleAction");qd.type="UpdateTitleAction";var R0=qd;var Xd=class extends a{constructor(e){super(),this.default_text=new l(e.defaultText).toString(),this.toggled_text=new l(e.toggledText).toString(),this.button_id=e.buttonId}};n(Xd,"UpdateToggleButtonTextAction");Xd.type="UpdateToggleButtonTextAction";var V0=Xd;var Qd=class extends a{constructor(e){super();let i=e.viewCount.videoViewCountRenderer;this.view_count=new l(i.viewCount),this.extra_short_view_count=new l(i.extraShortViewCount),this.original_view_count=parseInt(i.originalViewCount),this.unlabeled_view_count_value=new l(i.unlabeledViewCountValue),this.is_live=i.isLive}};n(Qd,"UpdateViewershipAction");Qd.type="UpdateViewershipAction";var M0=Qd;var Zd=class extends ct{constructor(e){super(e),this.custom_thumbnail=b.fromResponse(e.customThumbnail)}};n(Zd,"LiveChatAuthorBadge");Zd.type="LiveChatAuthorBadge";var nk=Zd;var ep=class extends a{constructor(e){super(),this.confirm_button=c.parseItem(e.confirmButton,C),this.dialog_messages=e.dialogMessages.map(i=>new l(i))}};n(ep,"LiveChatDialog");ep.type="LiveChatDialog";var rk=ep;var tp=class extends a{constructor(e){super(),this.overflow_menu=c.parseItem(e.overflowMenu,Y),this.collapse_button=c.parseItem(e.collapseButton,C),this.view_selector=c.parseItem(e.viewSelector,Ft)}};n(tp,"LiveChatHeader");tp.type="LiveChatHeader";var O0=tp;var ip=class extends a{constructor(e){super(),this.max_items_to_display=e.maxItemsToDisplay,this.more_comments_below_button=c.parseItem(e.moreCommentsBelowButton,C)}};n(ip,"LiveChatItemList");ip.type="LiveChatItemList";var D0=ip;var op=class extends a{constructor(e){super(),this.author_name=new l(e.authorName),this.author_photo=b.fromResponse(e.authorPhoto),this.send_button=c.parseItem(e.sendButton,C),this.target_id=e.targetId}};n(op,"LiveChatMessageInput");op.type="LiveChatMessageInput";var sk=op;var np=class extends a{constructor(e){super(),this.name=new l(e.authorName),this.photo=b.fromResponse(e.authorPhoto),this.badges=c.parseArray(e.authorBadges)}};n(np,"LiveChatParticipant");np.type="LiveChatParticipant";var L0=np;var rp=class extends a{constructor(e){super(),this.title=new l(e.title),this.participants=c.parseArray(e.participants,L0)}};n(rp,"LiveChatParticipantsList");rp.type="LiveChatParticipantsList";var B0=rp;var sp=class extends a{constructor(e){super(),this.title=l.fromAttributed(e.title),this.metadata=c.parseItem(e.metadata,br)}};n(sp,"LockupMetadataView");sp.type="LockupMetadataView";var F0=sp;var ap=class extends a{constructor(e){super(),this.content_image=c.parseItem(e.contentImage,Nv),this.metadata=c.parseItem(e.metadata,F0),this.content_id=e.contentId,this.content_type=e.contentType.replace("LOCKUP_CONTENT_TYPE_",""),this.on_tap_endpoint=new g(e.rendererContext.commandContext.onTap)}};n(ap,"LockupView");ap.type="LockupView";var Y0=ap;var up=class extends C{constructor(e){super(e)}};n(up,"MenuNavigationItem");up.type="MenuNavigationItem";var j0=up;var lp=class extends C{constructor(e){super(e)}};n(lp,"MenuServiceItem");lp.type="MenuServiceItem";var $i=lp;var cp=class extends a{constructor(e){super(),this.items=c.parseArray(e.items,[j0,$i])}};n(cp,"MenuPopup");cp.type="MenuPopup";var ak=cp;var dp=class extends a{constructor(e){super(),this.has_separator=!!e.hasSeparator,this.endpoint=new g(e.navigationEndpoint||e.serviceEndpoint)}};n(dp,"MenuServiceItemDownload");dp.type="MenuServiceItemDownload";var uk=dp;var pp=class extends a{constructor(e){super(),this.header=c.parse(e.header),this.sections=c.parse(e.sections),this.style=e.style}};n(pp,"MultiPageMenu");pp.type="MultiPageMenu";var lk=pp;var fp=class extends a{constructor(e){super(),this.items=c.parse(e.items)}get contents(){return this.items}};n(fp,"MultiPageMenuNotificationSection");fp.type="MultiPageMenuNotificationSection";var ck=fp;var mp=class extends a{constructor(e){super()}};n(mp,"MusicMenuItemDivider");mp.type="MusicMenuItemDivider";var U0=mp;var hp=class extends a{constructor(e){super(),this.title=new l(e.title).toString(),this.form_item_entity_key=e.formItemEntityKey,Reflect.has(e,"selectedIcon")&&(this.selected_icon_type=e.selectedIcon.iconType),Reflect.has(e,"selectedCommand")&&(this.endpoint=new g(e.selectedCommand)),this.selected=!!this.endpoint}};n(hp,"MusicMultiSelectMenuItem");hp.type="MusicMultiSelectMenuItem";var jt=hp;var _p=class extends a{constructor(e){var i;super(),Reflect.has(e,"title")&&Reflect.has(e.title,"musicMenuTitleRenderer")&&(this.title=new l((i=e.title.musicMenuTitleRenderer)===null||i===void 0?void 0:i.primaryText)),this.options=c.parseArray(e.options,[jt,U0])}};n(_p,"MusicMultiSelectMenu");_p.type="MusicMultiSelectMenu";var W0=_p;var vp=class extends a{constructor(e){super(),this.title=new l(e.title),this.buttons=c.parse(e.buttons)}};n(vp,"SimpleMenuHeader");vp.type="SimpleMenuHeader";var H0=vp;var gp=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description,this.thumbnails=b.fromResponse(e.thumbnail),this.price=e.price,this.vendor_name=e.vendorName,this.button_text=e.buttonText,this.button_accessibility_text=e.buttonAccessibilityText,this.from_vendor_text=e.fromVendorText,this.additional_fees_text=e.additionalFeesText,this.region_format=e.regionFormat,this.endpoint=new g(e.buttonCommand)}};n(gp,"MerchandiseItem");gp.type="MerchandiseItem";var dk=gp;var xp=class extends a{constructor(e){super(),this.title=e.title,this.menu=c.parseItem(e.actionButton),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(xp,"MerchandiseShelf");xp.type="MerchandiseShelf";var J0=xp;var yp=class extends a{constructor(e){super(),this.title=new l(e.title),this.contents=e.contents.map(i=>new l(i))}};n(yp,"MetadataRow");yp.type="MetadataRow";var pk=yp;var bp=class extends a{constructor(e){super(),this.rows=c.parseArray(e.rows),this.collapsed_item_count=e.collapsedItemCount}};n(bp,"MetadataRowContainer");bp.type="MetadataRowContainer";var G0=bp;var wp=class extends a{constructor(e){super(),this.content=new l(e.content),this.has_divider_line=e.hasDividerLine}};n(wp,"MetadataRowHeader");wp.type="MetadataRowHeader";var fk=wp;var Tp=class extends a{constructor(e){super(),this.section_list=c.parseItem(e)}};n(Tp,"MetadataScreen");Tp.type="MetadataScreen";var mk=Tp;var Ip=class extends a{constructor(e){super(),this.url_canonical=e.urlCanonical,this.title=e.title,this.description=e.description,this.thumbnail=b.fromResponse(e.thumbnail),this.site_name=e.siteName,this.app_name=e.appName,this.android_package=e.androidPackage,this.ios_app_store_id=e.iosAppStoreId,this.ios_app_arguments=e.iosAppArguments,this.og_type=e.ogType,this.url_applinks_web=e.urlApplinksWeb,this.url_applinks_ios=e.urlApplinksIos,this.url_applinks_android=e.urlApplinksAndroid,this.url_twitter_ios=e.urlTwitterIos,this.url_twitter_android=e.urlTwitterAndroid,this.twitter_card_type=e.twitterCardType,this.twitter_site_handle=e.twitterSiteHandle,this.schema_dot_org_type=e.schemaDotOrgType,this.noindex=e.noindex,this.is_unlisted=e.unlisted,this.is_family_safe=e.familySafe,this.tags=e.tags,this.available_countries=e.availableCountries}};n(Ip,"MicroformatData");Ip.type="MicroformatData";var ii=Ip;var kp=class extends ti{constructor(e){super(e)}};n(kp,"Mix");kp.type="Mix";var hk=kp;var Sp=class extends a{constructor(e){super(),this.title=new l(e.title),this.content=new l(e.content),this.button=c.parseItem(e.button,C)}};n(Sp,"ModalWithTitleAndButton");Sp.type="ModalWithTitleAndButton";var _k=Sp;var Cp=class extends a{constructor(e){var i,o,r;super();let s=((i=e.thumbnailOverlays.find(u=>u.thumbnailOverlayTimeStatusRenderer))===null||i===void 0?void 0:i.thumbnailOverlayTimeStatusRenderer.text)||"N/A";this.id=e.videoId,this.title=new l(e.title),Reflect.has(e,"descriptionSnippet")&&(this.description_snippet=new l(e.descriptionSnippet)),this.top_metadata_items=new l(e.topMetadataItems),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.longBylineText,e.ownerBadges,(r=(o=e.channelThumbnailSupportedRenderers)===null||o===void 0?void 0:o.channelThumbnailWithLinkRenderer)===null||r===void 0?void 0:r.thumbnail),this.duration={text:e.lengthText?new l(e.lengthText).toString():new l(s).toString(),seconds:Be(e.lengthText?new l(e.lengthText).toString():new l(s).toString())},this.endpoint=new g(e.navigationEndpoint),this.badges=c.parseArray(e.badges),this.use_vertical_poster=e.useVerticalPoster,this.show_action_menu=e.showActionMenu,this.menu=c.parseItem(e.menu,Y)}};n(Cp,"Movie");Cp.type="Movie";var vk=Cp;var Ep=class extends a{constructor(e){var i;return super(),(i=e.movingThumbnailDetails)===null||i===void 0?void 0:i.thumbnails.map(o=>new b(o)).sort((o,r)=>r.width-o.width)}};n(Ep,"MovingThumbnail");Ep.type="MovingThumbnail";var gk=Ep;var Pp=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(Pp,"MusicCardShelfHeaderBasic");Pp.type="MusicCardShelfHeaderBasic";var z0=Pp;var Np=class extends a{constructor(e){super(),this.icon_type=e.icon.iconType,this.label=e.accessibilityData.accessibilityData.label}};n(Np,"MusicInlineBadge");Np.type="MusicInlineBadge";var Cr=Np;var Ap=class extends a{constructor(e){var i,o;super(),this.endpoint=new g(e.playNavigationEndpoint),this.play_icon_type=e.playIcon.iconType,this.pause_icon_type=e.pauseIcon.iconType,Reflect.has(e,"accessibilityPlayData")&&(this.play_label=(i=e.accessibilityPlayData.accessibilityData)===null||i===void 0?void 0:i.label),Reflect.has(e,"accessibilityPauseData")&&(this.pause_label=(o=e.accessibilityPauseData.accessibilityData)===null||o===void 0?void 0:o.label),this.icon_color=e.iconColor}};n(Ap,"MusicPlayButton");Ap.type="MusicPlayButton";var Er=Ap;var Rp=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,Er),this.content_position=e.contentPosition,this.display_style=e.displayStyle}};n(Rp,"MusicItemThumbnailOverlay");Rp.type="MusicItemThumbnailOverlay";var oi=Rp;var Vp=class extends a{constructor(e){super(),this.contents=b.fromResponse(e.thumbnail)}};n(Vp,"MusicThumbnail");Vp.type="MusicThumbnail";var nt=Vp;var Mp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,nt),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.buttons=c.parseArray(e.buttons,C),this.menu=c.parseItem(e.menu,Y),this.on_tap=new g(e.onTap),this.header=c.parseItem(e.header,z0),Reflect.has(e,"endIcon")&&Reflect.has(e.endIcon,"iconType")&&(this.end_icon_type=e.endIcon.iconType),this.subtitle_badges=c.parseArray(e.subtitleBadges,Cr),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,oi),Reflect.has(e,"contents")&&(this.contents=c.parseArray(e.contents))}};n(Mp,"MusicCardShelf");Mp.type="MusicCardShelf";var $0=Mp;var Op=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"strapline")&&(this.strapline=new l(e.strapline)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,nt)),Reflect.has(e,"moreContentButton")&&(this.more_content=c.parseItem(e.moreContentButton,C)),Reflect.has(e,"endIcons")&&(this.end_icons=c.parseArray(e.endIcons,h0))}};n(Op,"MusicCarouselShelfBasicHeader");Op.type="MusicCarouselShelfBasicHeader";var K0=Op;var Dp=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,nt),this.overlay=c.parseItem(e.overlay,oi),this.on_tap=new g(e.onTap),this.menu=c.parseItem(e.menu,Y),this.subtitle=new l(e.subtitle),this.title=new l(e.title),Reflect.has(e,"secondTitle")&&(this.second_title=new l(e.secondTitle)),Reflect.has(e,"description")&&(this.description=new l(e.description)),Reflect.has(e,"displayStyle")&&(this.display_style=e.displayStyle)}};n(Dp,"MusicMultiRowListItem");Dp.type="MusicMultiRowListItem";var q0=Dp;var Lp=class extends a{constructor(e){super(),this.button_text=new l(e.buttonText).toString(),this.endpoint=new g(e.clickCommand)}};n(Lp,"MusicNavigationButton");Lp.type="MusicNavigationButton";var Pr=Lp;var Bp=class extends a{constructor(e){super(),this.title=new l(e.text),this.display_priority=e.displayPriority}};n(Bp,"MusicResponsiveListItemFixedColumn");Bp.type="musicResponsiveListItemFlexColumnRenderer";var X0=Bp;var Fp=class extends a{constructor(e){super(),this.title=new l(e.text),this.display_priority=e.displayPriority}};n(Fp,"MusicResponsiveListItemFlexColumn");Fp.type="MusicResponsiveListItemFlexColumn";var Q0=Fp;var xt,Nr,vb,bk,xk,yk,wk,Tk,Ik,kk,Sk,Ck,Yp=class extends a{constructor(e){var i,o,r,s,u,p;super(),xt.add(this),Nr.set(this,void 0),this.flex_columns=c.parseArray(e.flexColumns,Q0),this.fixed_columns=c.parseArray(e.fixedColumns,X0),k(this,Nr,{video_id:((i=e==null?void 0:e.playlistItemData)===null||i===void 0?void 0:i.videoId)||null,playlist_set_video_id:((o=e==null?void 0:e.playlistItemData)===null||o===void 0?void 0:o.playlistSetVideoId)||null},"f"),Reflect.has(e,"navigationEndpoint")&&(this.endpoint=new g(e.navigationEndpoint));let f=(p=(u=(s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseEndpointContextSupportedConfigs)===null||u===void 0?void 0:u.browseEndpointContextMusicConfig)===null||p===void 0?void 0:p.pageType;switch(f||this.flex_columns.find(h=>{var x,w,T,I;return((I=(T=(w=(x=h.title.endpoint)===null||x===void 0?void 0:x.payload)===null||w===void 0?void 0:w.browseEndpointContextSupportedConfigs)===null||T===void 0?void 0:T.browseEndpointContextMusicConfig)===null||I===void 0?void 0:I.pageType)==="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"})&&(f="MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE"),f){case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album",d(this,xt,"m",Sk).call(this);break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist",d(this,xt,"m",Ck).call(this);break;case"MUSIC_PAGE_TYPE_ARTIST":case"MUSIC_PAGE_TYPE_USER_CHANNEL":this.item_type="artist",d(this,xt,"m",wk).call(this);break;case"MUSIC_PAGE_TYPE_LIBRARY_ARTIST":this.item_type="library_artist",d(this,xt,"m",Tk).call(this);break;case"MUSIC_PAGE_TYPE_NON_MUSIC_AUDIO_TRACK_PAGE":this.item_type="non_music_track",d(this,xt,"m",Ik).call(this);break;case"MUSIC_PAGE_TYPE_PODCAST_SHOW_DETAIL_PAGE":this.item_type="podcast_show",d(this,xt,"m",kk).call(this);break;default:this.flex_columns[1]?d(this,xt,"m",bk).call(this):d(this,xt,"m",vb).call(this)}Reflect.has(e,"index")&&(this.index=new l(e.index)),Reflect.has(e,"thumbnail")&&(this.thumbnail=c.parseItem(e.thumbnail,nt)),Reflect.has(e,"badges")&&(this.badges=c.parseArray(e.badges)),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu,Y)),Reflect.has(e,"overlay")&&(this.overlay=c.parseItem(e.overlay,oi))}get thumbnails(){var e;return((e=this.thumbnail)===null||e===void 0?void 0:e.contents)||[]}};n(Yp,"MusicResponsiveListItem");Nr=new WeakMap,xt=new WeakSet,vb=n(function(){this.title=this.flex_columns.first().title.toString(),this.endpoint?this.item_type="endpoint":this.item_type="unknown"},"_MusicResponsiveListItem_parseOther"),bk=n(function(){var e,i,o,r,s,u,p;switch((p=(u=(s=(r=(o=(i=(e=this.flex_columns.at(0))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.watchEndpointMusicSupportedConfigs)===null||u===void 0?void 0:u.watchEndpointMusicConfig)===null||p===void 0?void 0:p.musicVideoType){case"MUSIC_VIDEO_TYPE_UGC":case"MUSIC_VIDEO_TYPE_OMV":this.item_type="video",d(this,xt,"m",yk).call(this);break;case"MUSIC_VIDEO_TYPE_ATV":this.item_type="song",d(this,xt,"m",xk).call(this);break;default:d(this,xt,"m",vb).call(this)}},"_MusicResponsiveListItem_parseVideoOrSong"),xk=n(function(){var e,i,o,r,s,u,p,f,m,h,x,w,T,I,S;this.id=d(this,Nr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString();let P=((s=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(W=>/^\d+$/.test(W.text.replace(/:/g,""))))===null||s===void 0?void 0:s.text)||((p=(u=this.fixed_columns.first())===null||u===void 0?void 0:u.title)===null||p===void 0?void 0:p.toString());P&&(this.duration={text:P,seconds:Be(P)});let R=((m=(f=this.flex_columns.at(1))===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(W=>rt(W)&&W.endpoint&&W.endpoint.payload.browseId.startsWith("MPR")))||((x=(h=this.flex_columns.at(2))===null||h===void 0?void 0:h.title.runs)===null||x===void 0?void 0:x.find(W=>rt(W)&&W.endpoint&&W.endpoint.payload.browseId.startsWith("MPR")));R&&rt(R)&&(this.album={id:(T=(w=R.endpoint)===null||w===void 0?void 0:w.payload)===null||T===void 0?void 0:T.browseId,name:R.text,endpoint:R.endpoint});let $=(S=(I=this.flex_columns.at(1))===null||I===void 0?void 0:I.title.runs)===null||S===void 0?void 0:S.filter(W=>rt(W)&&W.endpoint&&W.endpoint.payload.browseId.startsWith("UC"));$&&(this.artists=$.map(W=>{var ge,H;return{name:W.text,channel_id:rt(W)?(H=(ge=W.endpoint)===null||ge===void 0?void 0:ge.payload)===null||H===void 0?void 0:H.browseId:void 0,endpoint:rt(W)?W.endpoint:void 0}}))},"_MusicResponsiveListItem_parseSong"),yk=n(function(){var e,i,o,r,s,u,p,f,m,h;this.id=d(this,Nr,"f").video_id,this.title=this.flex_columns.first().title.toString(),this.views=(o=(i=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title.runs)===null||i===void 0?void 0:i.find(T=>T.text.match(/(.*?) views/)))===null||o===void 0?void 0:o.toString();let x=(s=(r=this.flex_columns.at(1))===null||r===void 0?void 0:r.title.runs)===null||s===void 0?void 0:s.filter(T=>rt(T)&&T.endpoint&&T.endpoint.payload.browseId.startsWith("UC"));x&&(this.authors=x.map(T=>{var I,S;return{name:T.text,channel_id:rt(T)?(S=(I=T.endpoint)===null||I===void 0?void 0:I.payload)===null||S===void 0?void 0:S.browseId:void 0,endpoint:rt(T)?T.endpoint:void 0}}));let w=((p=(u=this.flex_columns[1].title.runs)===null||u===void 0?void 0:u.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||p===void 0?void 0:p.text)||((h=(m=(f=this.fixed_columns.first())===null||f===void 0?void 0:f.title.runs)===null||m===void 0?void 0:m.find(T=>/^\d+$/.test(T.text.replace(/:/g,""))))===null||h===void 0?void 0:h.text);w&&(this.duration={text:w,seconds:Be(w)})},"_MusicResponsiveListItem_parseVideo"),wk=n(function(){var e,i,o,r,s,u;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.name=this.flex_columns.first().title.toString(),this.subtitle=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title,this.subscribers=((u=(s=(r=this.subtitle)===null||r===void 0?void 0:r.runs)===null||s===void 0?void 0:s.find(p=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(p.text)))===null||u===void 0?void 0:u.text)||""},"_MusicResponsiveListItem_parseArtist"),Tk=n(function(){var e,i,o,r;this.name=this.flex_columns.first().title.toString(),this.subtitle=(e=this.flex_columns.at(1))===null||e===void 0?void 0:e.title,this.song_count=((r=(o=(i=this.subtitle)===null||i===void 0?void 0:i.runs)===null||o===void 0?void 0:o.find(s=>/^\d+(,\d+)? songs?$/i.test(s.text)))===null||r===void 0?void 0:r.text)||""},"_MusicResponsiveListItem_parseLibraryArtist"),Ik=n(function(){var e,i;this.id=d(this,Nr,"f").video_id||((i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.videoId),this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parseNonMusicTrack"),kk=n(function(){var e,i;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString()},"_MusicResponsiveListItem_parsePodcastShow"),Sk=n(function(){var e,i,o,r,s,u,p,f,m;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let h=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>rt(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));h&&rt(h)&&(this.author={name:h.text,channel_id:(u=(s=h.endpoint)===null||s===void 0?void 0:s.payload)===null||u===void 0?void 0:u.browseId,endpoint:h.endpoint}),this.year=(m=(f=(p=this.flex_columns.at(1))===null||p===void 0?void 0:p.title.runs)===null||f===void 0?void 0:f.find(x=>/^[12][0-9]{3}$/.test(x.text)))===null||m===void 0?void 0:m.text},"_MusicResponsiveListItem_parseAlbum"),Ck=n(function(){var e,i,o,r,s,u,p,f;this.id=(i=(e=this.endpoint)===null||e===void 0?void 0:e.payload)===null||i===void 0?void 0:i.browseId,this.title=this.flex_columns.first().title.toString();let m=(r=(o=this.flex_columns.at(1))===null||o===void 0?void 0:o.title.runs)===null||r===void 0?void 0:r.find(x=>x.text.match(/\d+ (song|songs)/));this.item_count=m?m.text:void 0;let h=(u=(s=this.flex_columns.at(1))===null||s===void 0?void 0:s.title.runs)===null||u===void 0?void 0:u.find(x=>rt(x)&&x.endpoint&&x.endpoint.payload.browseId.startsWith("UC"));h&&rt(h)&&(this.author={name:h.text,channel_id:(f=(p=h.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId,endpoint:h.endpoint})},"_MusicResponsiveListItem_parsePlaylist");Yp.type="MusicResponsiveListItem";var Ki=Yp;var jp=class extends a{constructor(e){var i,o,r,s,u,p,f,m,h,x,w,T,I,S,P,R,$,W,ge,H,pe,Se;switch(super(),this.title=new l(e.title),this.endpoint=new g(e.navigationEndpoint),this.id=((o=(i=this.endpoint)===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.browseId)||((s=(r=this.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.videoId),this.subtitle=new l(e.subtitle),this.badges=c.parse(e.subtitleBadges),(m=(f=(p=(u=this.endpoint)===null||u===void 0?void 0:u.payload)===null||p===void 0?void 0:p.browseEndpointContextSupportedConfigs)===null||f===void 0?void 0:f.browseEndpointContextMusicConfig)===null||m===void 0?void 0:m.pageType){case"MUSIC_PAGE_TYPE_ARTIST":this.item_type="artist";break;case"MUSIC_PAGE_TYPE_PLAYLIST":this.item_type="playlist";break;case"MUSIC_PAGE_TYPE_ALBUM":this.item_type="album";break;default:((x=(h=this.endpoint)===null||h===void 0?void 0:h.metadata)===null||x===void 0?void 0:x.api_url)==="/next"?this.item_type="endpoint":!((w=this.subtitle.runs)===null||w===void 0)&&w[0]?this.subtitle.runs[0].text!=="Song"?this.item_type="video":this.item_type="song":this.endpoint?this.item_type="endpoint":this.item_type="unknown";break}if(this.item_type=="artist")this.subscribers=((I=(T=this.subtitle.runs)===null||T===void 0?void 0:T.find(q=>/^(\d*\.)?\d+[M|K]? subscribers?$/i.test(q.text)))===null||I===void 0?void 0:I.text)||"";else if(this.item_type=="playlist"){let q=(S=this.subtitle.runs)===null||S===void 0?void 0:S.find(K=>K.text.match(/\d+ songs|song/));this.item_count=q?q.text:null}else if(this.item_type=="album"){let q=(P=this.subtitle.runs)===null||P===void 0?void 0:P.filter(K=>{var Z,ae;return(ae=(Z=K.endpoint)===null||Z===void 0?void 0:Z.payload)===null||ae===void 0?void 0:ae.browseId.startsWith("UC")});q&&(this.artists=q.map(K=>{var Z,ae;return{name:K.text,channel_id:(ae=(Z=K.endpoint)===null||Z===void 0?void 0:Z.payload)===null||ae===void 0?void 0:ae.browseId,endpoint:K.endpoint}})),this.year=(R=this.subtitle.runs)===null||R===void 0?void 0:R.slice(-1)[0].text,isNaN(Number(this.year))&&delete this.year}else if(this.item_type=="video"){this.views=((W=($=this===null||this===void 0?void 0:this.subtitle.runs)===null||$===void 0?void 0:$.find(K=>K==null?void 0:K.text.match(/(.*?) views/)))===null||W===void 0?void 0:W.text)||"N/A";let q=(ge=this.subtitle.runs)===null||ge===void 0?void 0:ge.find(K=>{var Z,ae,De;return(De=(ae=(Z=K.endpoint)===null||Z===void 0?void 0:Z.payload)===null||ae===void 0?void 0:ae.browseId)===null||De===void 0?void 0:De.startsWith("UC")});q&&(this.author={name:q==null?void 0:q.text,channel_id:(pe=(H=q==null?void 0:q.endpoint)===null||H===void 0?void 0:H.payload)===null||pe===void 0?void 0:pe.browseId,endpoint:q==null?void 0:q.endpoint})}else if(this.item_type=="song"){let q=(Se=this.subtitle.runs)===null||Se===void 0?void 0:Se.filter(K=>{var Z,ae;return(ae=(Z=K.endpoint)===null||Z===void 0?void 0:Z.payload)===null||ae===void 0?void 0:ae.browseId.startsWith("UC")});q&&(this.artists=q.map(K=>{var Z,ae;return{name:K==null?void 0:K.text,channel_id:(ae=(Z=K==null?void 0:K.endpoint)===null||Z===void 0?void 0:Z.payload)===null||ae===void 0?void 0:ae.browseId,endpoint:K==null?void 0:K.endpoint}}))}this.thumbnail=b.fromResponse(e.thumbnailRenderer.musicThumbnailRenderer.thumbnail),this.thumbnail_overlay=c.parseItem(e.thumbnailOverlay,oi),this.menu=c.parseItem(e.menu,Y)}};n(jp,"MusicTwoRowItem");jp.type="MusicTwoRowItem";var Ar=jp;var Up=class extends a{constructor(e){super(),this.header=c.parseItem(e.header,K0),this.contents=c.parseArray(e.contents,[Ar,Ki,q0,Pr]),Reflect.has(e,"numItemsPerColumn")&&(this.num_items_per_column=parseInt(e.numItemsPerColumn))}};n(Up,"MusicCarouselShelf");Up.type="MusicCarouselShelf";var Fe=Up;var Wp=class extends a{constructor(e){super(),this.description=new l(e.description),Reflect.has(e,"maxCollapsedLines")&&(this.max_collapsed_lines=e.maxCollapsedLines),Reflect.has(e,"maxExpandedLines")&&(this.max_expanded_lines=e.maxExpandedLines),this.footer=new l(e.footer)}};n(Wp,"MusicDescriptionShelf");Wp.type="MusicDescriptionShelf";var qi=Wp;var Hp=class extends a{constructor(e){var i,o,r,s,u,p,f,m,h;super(),this.title=new l(e.title),this.description=new l(e.description),this.subtitle=new l(e.subtitle),this.second_subtitle=new l(e.secondSubtitle),this.year=((o=(i=this.subtitle.runs)===null||i===void 0?void 0:i.find(w=>/^[12][0-9]{3}$/.test(w.text)))===null||o===void 0?void 0:o.text)||"",this.song_count=((s=(r=this.second_subtitle.runs)===null||r===void 0?void 0:r[0])===null||s===void 0?void 0:s.text)||"",this.total_duration=((p=(u=this.second_subtitle.runs)===null||u===void 0?void 0:u[2])===null||p===void 0?void 0:p.text)||"",this.thumbnails=b.fromResponse(e.thumbnail.croppedSquareThumbnailRenderer.thumbnail),this.badges=c.parseArray(e.subtitleBadges);let x=(f=this.subtitle.runs)===null||f===void 0?void 0:f.find(w=>{var T,I;return(I=(T=w==null?void 0:w.endpoint)===null||T===void 0?void 0:T.payload)===null||I===void 0?void 0:I.browseId.startsWith("UC")});x&&(this.author={name:x.text,channel_id:(h=(m=x.endpoint)===null||m===void 0?void 0:m.payload)===null||h===void 0?void 0:h.browseId,endpoint:x.endpoint}),this.menu=c.parseItem(e.menu)}};n(Hp,"MusicDetailHeader");Hp.type="MusicDetailHeader";var Jo=Hp;var Jp=class extends a{constructor(e){super(),this.playlist_id=e.playlistId,this.supported_download_states=e.supportedDownloadStates}};n(Jp,"MusicDownloadStateBadge");Jp.type="MusicDownloadStateBadge";var Ek=Jp;var Gp=class extends a{constructor(e){super(),this.header=c.parseItem(e.header)}};n(Gp,"MusicEditablePlaylistDetailHeader");Gp.type="MusicEditablePlaylistDetailHeader";var Z0=Gp;var zp=class extends a{constructor(e){super(),this.element=Reflect.has(e,"elementRenderer")?c.parseItem(e,wr):null}};n(zp,"MusicElementHeader");zp.type="MusicElementHeader";var $p=zp;var Kp=class extends a{constructor(e){super(),Reflect.has(e,"header")&&(this.header=c.parseItem(e.header)),Reflect.has(e,"title")&&(this.title=new l(e.title))}};n(Kp,"MusicHeader");Kp.type="MusicHeader";var Xi=Kp;var qp=class extends a{constructor(e){super(),this.title=new l(e.title),this.description=new l(e.description),this.thumbnail=c.parseItem(e.thumbnail,nt)}};n(qp,"MusicImmersiveHeader");qp.type="MusicImmersiveHeader";var eg=qp;var Xp=class{constructor(e){this.icon_name=e.iconName,this.endpoint=new g(e.onTap),this.a11y_text=e.a11yText,this.style=e.style}};n(Xp,"ActionButton");Xp.type="ActionButton";var Qp=class{constructor(e){this.image=b.fromResponse(e.image.image),this.content_mode=e.image.contentMode,this.crop_options=e.image.cropOptions,this.image_aspect_ratio=e.imageAspectRatio,this.caption=e.caption,this.action_buttons=e.actionButtons.map(i=>new Xp(i))}};n(Qp,"Panel");Qp.type="Panel";var Zp=class extends a{constructor(e){super(),this.header=e.shelf.header,this.panels=e.shelf.panels.map(i=>new Qp(i))}};n(Zp,"MusicLargeCardItemCarousel");Zp.type="MusicLargeCardItemCarousel";var Pk=Zp;var ef=class extends a{constructor(e){var i,o,r;super(),this.playlist_id=e.playlistId,this.contents=c.parseArray(e.contents,Ki),this.collapsed_item_count=e.collapsedItemCount,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||null}};n(ef,"MusicPlaylistShelf");ef.type="MusicPlaylistShelf";var Go=ef;var tf=class extends a{constructor(e){var i,o,r,s,u;super(),this.title=new l(e.title),this.thumbnail=b.fromResponse(e.thumbnail),this.endpoint=new g(e.navigationEndpoint),this.selected=e.selected,this.video_id=e.videoId,this.duration={text:new l(e.lengthText).toString(),seconds:Be(new l(e.lengthText).toString())};let p=(i=new l(e.longBylineText).runs)===null||i===void 0?void 0:i.find(m=>{var h,x,w;return(w=(x=(h=m.endpoint)===null||h===void 0?void 0:h.payload)===null||x===void 0?void 0:x.browseId)===null||w===void 0?void 0:w.startsWith("MPR")}),f=(o=new l(e.longBylineText).runs)===null||o===void 0?void 0:o.filter(m=>{var h,x,w;return(w=(x=(h=m.endpoint)===null||h===void 0?void 0:h.payload)===null||x===void 0?void 0:x.browseId)===null||w===void 0?void 0:w.startsWith("UC")});this.author=new l(e.shortBylineText).toString(),p&&(this.album={id:(s=(r=p.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.browseId,name:p.text,year:(u=new l(e.longBylineText).runs)===null||u===void 0?void 0:u.slice(-1)[0].text,endpoint:p.endpoint}),f&&(this.artists=f.map(m=>{var h,x;return{name:m.text,channel_id:(x=(h=m.endpoint)===null||h===void 0?void 0:h.payload)===null||x===void 0?void 0:x.browseId,endpoint:m.endpoint}})),this.badges=c.parseArray(e.badges),this.menu=c.parseItem(e.menu),this.set_video_id=e.playlistSetVideoId}};n(tf,"PlaylistPanelVideo");tf.type="PlaylistPanelVideo";var wi=tf;var of=class extends a{constructor(e){super(),this.primary=c.parseItem(e.primaryRenderer,wi),Reflect.has(e,"counterpart")&&(this.counterpart=ee(e.counterpart.map(i=>c.parseItem(i.counterpartRenderer,wi))||[]))}};n(of,"PlaylistPanelVideoWrapper");of.type="PlaylistPanelVideoWrapper";var tg=of;var nf=class extends a{constructor(e){var i,o,r,s,u,p;super(),this.title=e.title,this.title_text=new l(e.titleText),this.contents=c.parseArray(e.contents,[tg,wi,Di]),this.playlist_id=e.playlistId,this.is_infinite=e.isInfinite,this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextRadioContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(u=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.nextContinuationData)===null||p===void 0?void 0:p.continuation),this.is_editable=e.isEditable,this.preview_description=e.previewDescription,this.num_items_to_show=e.numItemsToShow}};n(nf,"PlaylistPanel");nf.type="PlaylistPanel";var ni=nf;var rf=class extends a{constructor(e){super(),this.content=c.parseItem(e.content,ni)}};n(rf,"MusicQueue");rf.type="MusicQueue";var Rr=rf;var sf=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,nt),this.buttons=c.parseArray(e.buttons,[Pe,Er,Y]),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.strapline_text_one=new l(e.straplineTextOne),this.strapline_thumbnail=c.parseItem(e.straplineThumbnail,nt),this.second_subtitle=new l(e.secondSubtitle),Reflect.has(e,"subtitleBadge")&&(this.subtitle_badge=c.parseArray(e.subtitleBadge,Cr)),Reflect.has(e,"description")&&(this.description=c.parseItem(e.description,qi))}};n(sf,"MusicResponsiveHeader");sf.type="MusicResponsiveHeader";var Nk=sf;var af=class extends a{constructor(e){var i,o,r,s;super(),this.title=new l(e.title),this.contents=c.parseArray(e.contents,Ki),Reflect.has(e,"bottomEndpoint")&&(this.endpoint=new g(e.bottomEndpoint)),Reflect.has(e,"continuations")&&(this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)),Reflect.has(e,"bottomText")&&(this.bottom_text=new l(e.bottomText)),Reflect.has(e,"bottomButton")&&(this.bottom_button=c.parseItem(e.bottomButton,C)),Reflect.has(e,"subheaders")&&(this.subheaders=c.parseArray(e.subheaders))}};n(af,"MusicShelf");af.type="MusicShelf";var we=af;var uf=class extends a{constructor(e){super(),Reflect.has(e,"startItems")&&(this.start_items=c.parseArray(e.startItems)),Reflect.has(e,"endItems")&&(this.end_items=c.parseArray(e.endItems))}};n(uf,"MusicSideAlignedItem");uf.type="MusicSideAlignedItem";var ig=uf;var lf=class extends a{constructor(e){super(),this.title=new l(e.title).toString(),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),this.menu=c.parseItem(e.menu,W0)}};n(lf,"MusicSortFilterButton");lf.type="MusicSortFilterButton";var cf=lf;var df=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail)}};n(df,"MusicTastebuilderShelfThumbnail");df.type="MusicTastebuilderShelfThumbnail";var og=df;var pf=class extends a{constructor(e){super(),this.thumbnail=c.parseItem(e.thumbnail,og),this.primary_text=new l(e.primaryText),this.secondary_text=new l(e.secondaryText),this.action_button=c.parseItem(e.actionButton,C),this.is_visible=e.isVisible}};n(pf,"MusicTasteBuilderShelf");pf.type="MusicTasteBuilderShelf";var ng=pf;var ff=class extends a{constructor(e){var i,o;super(),this.title=new l(e.title),this.thumbnail=e.thumbnail?b.fromResponse((i=e.thumbnail.musicThumbnailRenderer)===null||i===void 0?void 0:i.thumbnail):[],this.menu=c.parseItem(e.menu,Y),this.foreground_thumbnail=e.foregroundThumbnail?b.fromResponse((o=e.foregroundThumbnail.musicThumbnailRenderer)===null||o===void 0?void 0:o.thumbnail):[]}};n(ff,"MusicVisualHeader");ff.type="MusicVisualHeader";var rg=ff;var mf=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.video_thumbnails=b.fromResponse(e.videoThumbnail),this.short_message=new l(e.shortMessage),this.sent_time=new l(e.sentTimeText),this.notification_id=e.notificationId,this.endpoint=new g(e.navigationEndpoint),this.record_click_endpoint=new g(e.recordClickEndpoint),this.menu=c.parseItem(e.contextualMenu),this.read=e.read}};n(mf,"Notification");mf.type="Notification";var sg=mf;var hf=class extends a{constructor(e){super(),this.title=c.parseItem(e.title,e0),this.image=c.parseItem(e.image,[ur,Gv]),this.metadata=c.parseItem(e.metadata,br),this.actions=c.parseItem(e.actions,s0),this.description=c.parseItem(e.description,Xv),this.attributation=c.parseItem(e.attributation,j_),this.banner=c.parseItem(e.banner,_0)}};n(hf,"PageHeaderView");hf.type="PageHeaderView";var ag=hf;var _f=class extends a{constructor(e){super(),this.page_title=e.pageTitle,this.content=c.parseItem(e.content,ag)}};n(_f,"PageHeader");_f.type="PageHeader";var ri=_f;var vf=class extends a{constructor(e){super(),this.header_text=new l(e.headerText).toString(),this.body_text=new l(e.bodyText).toString(),this.page_title=new l(e.pageTitle).toString(),this.header_icon_type=e.headerIcon.iconType}};n(vf,"PageIntroduction");vf.type="PageIntroduction";var ug=vf;var gf=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.endpoint=new g(e.onClickCommand),this.content_description=new l(e.contentDescription),this.target_id=e.targetId,this.sound_attribution_title=new l(e.soundAttributionTitle),this.waveform_animation_style=e.waveformAnimationStyle,this.background_animation_style=e.backgroundAnimationStyle}};n(gf,"PivotButton");gf.type="PivotButton";var lg=gf;var xf=class extends a{constructor(e){super(),Reflect.has(e,"featuredChannel")&&(this.featured_channel={start_time_ms:e.featuredChannel.startTimeMs,end_time_ms:e.featuredChannel.endTimeMs,watermark:b.fromResponse(e.featuredChannel.watermark),channel_name:e.featuredChannel.channelName,endpoint:new g(e.featuredChannel.navigationEndpoint),subscribe_button:c.parseItem(e.featuredChannel.subscribeButton)}),this.allow_swipe_dismiss=e.allowSwipeDismiss,this.annotation_id=e.annotationId}};n(xf,"PlayerAnnotationsExpanded");xf.type="PlayerAnnotationsExpanded";var cg=xf;var yf=class extends a{constructor(e){super(),Reflect.has(e,"captionTracks")&&(this.caption_tracks=e.captionTracks.map(i=>({base_url:i.baseUrl,name:new l(i.name),vss_id:i.vssId,language_code:i.languageCode,kind:i.kind,is_translatable:i.isTranslatable}))),Reflect.has(e,"audioTracks")&&(this.audio_tracks=e.audioTracks.map(i=>({audio_track_id:i.audioTrackId,captions_initial_state:i.captionsInitialState,default_caption_track_index:i.defaultCaptionTrackIndex,has_default_track:i.hasDefaultTrack,visibility:i.visibility,caption_track_indices:i.captionTrackIndices}))),Reflect.has(e,"defaultAudioTrackIndex")&&(this.default_audio_track_index=e.defaultAudioTrackIndex),Reflect.has(e,"translationLanguages")&&(this.translation_languages=e.translationLanguages.map(i=>({language_code:i.languageCode,language_name:new l(i.languageName)})))}};n(yf,"PlayerCaptionsTracklist");yf.type="PlayerCaptionsTracklist";var dg=yf;var bf=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.enable_listen_first=e.enableListenFirst}};n(bf,"PlayerOverflow");bf.type="PlayerOverflow";var pg=bf;var wf=class extends a{constructor(e){super(),this.overflow=c.parseItem(e.overflow,pg)}};n(wf,"PlayerControlsOverlay");wf.type="PlayerControlsOverlay";var Ak=wf;var Tf=class extends a{constructor(e){super(),this.subreason=new l(e.subreason),this.reason=new l(e.reason),this.proceed_button=c.parseItem(e.proceedButton,C),this.thumbnails=b.fromResponse(e.thumbnail),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(Tf,"PlayerErrorMessage");Tf.type="PlayerErrorMessage";var Rk=Tf;var If=class extends a{constructor(e){super(),this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_description=e.offerDescription,this.offer_id=e.offerId}};n(If,"PlayerLegacyDesktopYpcOffer");If.type="PlayerLegacyDesktopYpcOffer";var Vk=If;var kf=class extends a{constructor(e){super(),this.video_message=e.fullVideoMessage,this.player_response=e.unserializedPlayerResponse}};n(kf,"YpcTrailer");kf.type="YpcTrailer";var fg=kf;var Sf=class extends a{constructor(e){super(),this.video_id=e.trailerVideoId,this.title=e.itemTitle,this.thumbnail=e.itemThumbnail,this.offer_headline=e.offerHeadline,this.offer_description=e.offerDescription,this.offer_id=e.offerId,this.offer_button_text=e.offerButtonText,this.video_message=e.fullVideoMessage,this.trailer=c.parseItem(e.ypcTrailer,fg)}};n(Sf,"PlayerLegacyDesktopYpcTrailer");Sf.type="PlayerLegacyDesktopYpcTrailer";var Cf=Sf;var Ef=class extends a{constructor(e){super();let[i,o,r,s,u]=e.spec.split("#");this.board={type:"live",template_url:i,thumbnail_width:parseInt(o,10),thumbnail_height:parseInt(r,10),columns:parseInt(s,10),rows:parseInt(u,10)}}};n(Ef,"PlayerLiveStoryboardSpec");Ef.type="PlayerLiveStoryboardSpec";var mg=Ef;var Pf=class extends a{constructor(e){var i,o;super(),this.title=new l(e.title),this.description=new l(e.description),this.thumbnails=b.fromResponse(e.thumbnail),Reflect.has(e,"embed")&&(this.embed={iframe_url:e.embed.iframeUrl,flash_url:e.embed.flashUrl,flash_secure_url:e.embed.flashSecureUrl,width:e.embed.width,height:e.embed.height}),this.length_seconds=parseInt(e.lengthSeconds),this.channel={id:e.externalChannelId,name:e.ownerChannelName,url:e.ownerProfileUrl},this.is_family_safe=!!e.isFamilySafe,this.is_unlisted=!!e.isUnlisted,this.has_ypc_metadata=!!e.hasYpcMetadata,this.view_count=parseInt(e.viewCount),this.category=e.category,this.publish_date=e.publishDate,this.upload_date=e.uploadDate,this.available_countries=e.availableCountries,this.start_timestamp=!((i=e.liveBroadcastDetails)===null||i===void 0)&&i.startTimestamp?new Date(e.liveBroadcastDetails.startTimestamp):null,this.end_timestamp=!((o=e.liveBroadcastDetails)===null||o===void 0)&&o.endTimestamp?new Date(e.liveBroadcastDetails.endTimestamp):null}};n(Pf,"PlayerMicroformat");Pf.type="PlayerMicroformat";var Ct=Pf;var Nf=class extends a{constructor(e){super(),this.title=new l(e.title),this.video_id=e.videoId,this.video_title=new l(e.videoTitle),this.short_view_count=new l(e.shortViewCountText),this.prefer_immediate_redirect=e.preferImmediateRedirect,this.count_down_secs_for_fullscreen=e.countDownSecsForFullscreen,this.published=new l(e.publishedTimeText),this.background=b.fromResponse(e.background),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.author=new M(e.byline),this.cancel_button=c.parseItem(e.cancelButton,C),this.next_button=c.parseItem(e.nextButton,C),this.close_button=c.parseItem(e.closeButton,C)}};n(Nf,"PlayerOverlayAutoplay");Nf.type="PlayerOverlayAutoplay";var hg=Nf;var Af=class extends a{constructor(e){super(),this.results=c.parseArray(e.results,[n0,o0]),this.title=new l(e.title).toString()}};n(Af,"WatchNextEndScreen");Af.type="WatchNextEndScreen";var _g=Af;var Rf=class extends a{constructor(e){super(),this.end_screen=c.parseItem(e.endScreen,_g),this.autoplay=c.parseItem(e.autoplay,hg),this.share_button=c.parseItem(e.shareButton,C),this.add_to_menu=c.parseItem(e.addToMenu,Y),this.fullscreen_engagement=c.parseItem(e.fullscreenEngagement),this.actions=c.parseArray(e.actions),this.browser_media_session=c.parseItem(e.browserMediaSession),this.decorated_player_bar=c.parseItem(e.decoratedPlayerBarRenderer,qv)}};n(Rf,"PlayerOverlay");Rf.type="PlayerOverlay";var Qi=Rf;var Vf=class extends a{constructor(e){super(),this.id=e.playlistId,this.title=new l(e.title),this.subtitle=e.subtitle?new l(e.subtitle):null,this.stats=e.stats.map(i=>new l(i)),this.brief_stats=e.briefStats.map(i=>new l(i)),this.author=e.ownerText||e.ownerEndpoint?new M(Object.assign(Object.assign({},e.ownerText),{navigationEndpoint:e.ownerEndpoint}),e.ownerBadges,null):null,this.description=new l(e.descriptionText),this.num_videos=new l(e.numVideosText),this.view_count=new l(e.viewCountText),this.can_share=e.shareData.canShare,this.can_delete=e.editableDetails.canDelete,this.is_editable=e.isEditable,this.privacy=e.privacy,this.save_button=c.parseItem(e.saveButton),this.shuffle_play_button=c.parseItem(e.shufflePlayButton),this.menu=c.parseItem(e.moreActionsMenu),this.banner=c.parseItem(e.playlistHeaderBanner)}};n(Vf,"PlaylistHeader");Vf.type="PlaylistHeader";var vg=Vf;var Mf=class extends a{constructor(e){super(),this.title=new l(e.playlistTitle),this.thumbnails=b.fromResponse(e.thumbnail),this.video_count=new l(e.playlistVideoCount),this.channel_name=new l(e.channelName),this.endpoint=new g(e.action)}};n(Mf,"PlaylistInfoCardContent");Mf.type="PlaylistInfoCardContent";var Mk=Mf;var Of=class extends a{constructor(e){super(),this.title=e.title,this.description=e.description||null}};n(Of,"PlaylistMetadata");Of.type="PlaylistMetadata";var gg=Of;var Df=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Df,"PlaylistSidebar");Df.type="PlaylistSidebar";var Ok=Df;var Lf=class extends a{constructor(e){super(),this.stats=e.stats.map(i=>new l(i)),this.thumbnail_renderer=c.parseItem(e.thumbnailRenderer),this.title=new l(e.title),this.menu=c.parseItem(e.menu),this.endpoint=new g(e.navigationEndpoint),this.description=new l(e.description)}};n(Lf,"PlaylistSidebarPrimaryInfo");Lf.type="PlaylistSidebarPrimaryInfo";var xg=Lf;var Bf=class extends a{constructor(e){super(),this.owner=c.parseItem(e.videoOwner),this.button=c.parseItem(e.button)}};n(Bf,"PlaylistSidebarSecondaryInfo");Bf.type="PlaylistSidebarSecondaryInfo";var yg=Bf;var Ff=class extends a{constructor(e){super(),this.id=e.videoId,this.index=new l(e.index),this.title=new l(e.title),this.author=new M(e.shortBylineText),this.thumbnails=b.fromResponse(e.thumbnail),this.thumbnail_overlays=c.parseArray(e.thumbnailOverlays),this.set_video_id=e==null?void 0:e.setVideoId,this.endpoint=new g(e.navigationEndpoint),this.is_playable=e.isPlayable,this.menu=c.parseItem(e.menu,Y),this.video_info=new l(e.videoInfo),this.accessibility_label=e.title.accessibility.accessibilityData.label,Reflect.has(e,"style")&&(this.style=e.style);let i=e.upcomingEventData&&Number(`${e.upcomingEventData.startTime}000`);i&&(this.upcoming=new Date(i)),this.duration={text:new l(e.lengthText).toString(),seconds:parseInt(e.lengthSeconds)}}get is_live(){var e;return((e=this.thumbnail_overlays.firstOfType(Oo))===null||e===void 0?void 0:e.style)==="LIVE"}get is_upcoming(){var e;return((e=this.thumbnail_overlays.firstOfType(Oo))===null||e===void 0?void 0:e.style)==="UPCOMING"}};n(Ff,"PlaylistVideo");Ff.type="PlaylistVideo";var Vr=Ff;var Yf=class extends a{constructor(e){super(),this.id=e.playlistId,this.is_editable=e.isEditable,this.can_reorder=e.canReorder,this.videos=c.parseArray(e.contents)}};n(Yf,"PlaylistVideoList");Yf.type="PlaylistVideoList";var Dk=Yf;var jf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new l(i.text),select_endpoint:i.selectServiceEndpoint?new g(i.selectServiceEndpoint):null,deselect_endpoint:i.deselectServiceEndpoint?new g(i.deselectServiceEndpoint):null,vote_ratio_if_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_selected:new l(i.votePercentageIfSelected),vote_ratio_if_not_selected:(i==null?void 0:i.voteRatioIfSelected)||null,vote_percentage_if_not_selected:new l(i.votePercentageIfSelected),image:i.image?b.fromResponse(i.image):null})),Reflect.has(e,"type")&&(this.poll_type=e.type),Reflect.has(e,"totalVotes")&&(this.total_votes=new l(e.totalVotes)),Reflect.has(e,"liveChatPollId")&&(this.live_chat_poll_id=e.liveChatPollId)}};n(jf,"Poll");jf.type="Poll";var Lk=jf;var Uf=class extends Li{constructor(e){super(e)}};n(Uf,"Post");Uf.type="Post";var bg=Uf;var Wf=class extends a{constructor(e){super(),this.images=c.parseArray(e.images,H_)}};n(Wf,"PostMultiImage");Wf.type="PostMultiImage";var Bk=Wf;var Hf=class extends a{constructor(e){super(),this.title=new l(e.title),this.suppress_padding_disclaimer=!!e.suppressPaddingDisclaimer}};n(Hf,"ProductListHeader");Hf.type="ProductListHeader";var Fk=Hf;var Jf=class extends a{constructor(e){super(),this.title=new l(e.title),this.accessibility_title=e.accessibilityTitle,this.thumbnail=b.fromResponse(e.thumbnail),this.price=e.price,this.endpoint=new g(e.onClickCommand),this.merchant_name=e.merchantName,this.stay_in_app=!!e.stayInApp,this.view_button=c.parseItem(e.viewButton,C)}};n(Jf,"ProductListItem");Jf.type="ProductListItem";var Yk=Jf;var Gf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(Gf,"ProfileColumn");Gf.type="ProfileColumn";var jk=Gf;var zf=class extends a{constructor(e){super(),this.items=c.parseArray(e.items)}get contents(){return this.items}};n(zf,"ProfileColumnStats");zf.type="ProfileColumnStats";var Uk=zf;var $f=class extends a{constructor(e){super(),this.label=new l(e.label),this.value=new l(e.value)}};n($f,"ProfileColumnStatsEntry");$f.type="ProfileColumnStatsEntry";var Wk=$f;var Kf=class extends a{constructor(e){super(),this.title=new l(e.title),this.thumbnails=b.fromResponse(e.thumbnail)}};n(Kf,"ProfileColumnUserInfo");Kf.type="ProfileColumnUserInfo";var Hk=Kf;var qf=class extends a{constructor(e){super(),this.choices=e.choices.map(i=>({text:new l(i.text),is_correct:i.isCorrect})),this.total_votes=new l(e.totalVotes)}};n(qf,"Quiz");qf.type="Quiz";var Jk=qf;var Xf=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.avatars=e.avatars.map(i=>new b(i)),this.button=c.parseItem(e.button,C),this.surface=e.surface}};n(Xf,"RecognitionShelf");Xf.type="RecognitionShelf";var Gk=Xf;var Qf=class extends a{constructor(e){super(),this.id=e.videoId,this.title=new l(e.headline),this.thumbnails=b.fromResponse(e.thumbnail),this.views=new l(e.viewCountText),this.endpoint=new g(e.navigationEndpoint),this.accessibility_label=e.accessibility.accessibilityData.label}};n(Qf,"ReelItem");Qf.type="ReelItem";var Mr=Qf;var Zf=class extends a{constructor(e){super(),this.reel_title_text=new l(e.reelTitleText),this.timestamp_text=new l(e.timestampText),this.channel_title_text=new l(e.channelTitleText),this.channel_thumbnail=b.fromResponse(e.channelThumbnail),this.author=new M(e.channelNavigationEndpoint,void 0)}};n(Zf,"ReelPlayerHeader");Zf.type="ReelPlayerHeader";var wg=Zf;var em=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,w0),this.reel_player_header_supported_renderers=c.parseItem(e.reelPlayerHeaderSupportedRenderers,wg),this.menu=c.parseItem(e.menu,Y),this.next_item_button=c.parseItem(e.nextItemButton,C),this.prev_item_button=c.parseItem(e.prevItemButton,C),this.subscribe_button_renderer=c.parseItem(e.subscribeButtonRenderer,C),this.style=e.style,this.view_comments_button=c.parseItem(e.viewCommentsButton,C),this.share_button=c.parseItem(e.shareButton,C),this.pivot_button=c.parseItem(e.pivotButton,lg),this.info_panel=c.parseItem(e.infoPanel,g0)}};n(em,"ReelPlayerOverlay");em.type="ReelPlayerOverlay";var zk=em;var tm=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(tm,"RelatedChipCloud");tm.type="RelatedChipCloud";var Tg=tm;var im=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.contents=c.parseArray(e.contents)}};n(im,"RichGrid");im.type="RichGrid";var Zi=im;var om=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(om,"RichItem");om.type="RichItem";var $k=om;var nm=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),Reflect.has(e,"titleStyle")&&(this.title_style=e.titleStyle.style),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType)}};n(nm,"RichListHeader");nm.type="RichListHeader";var Kk=nm;var rm=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.call_to_action=new l(e.callToAction),Reflect.has(e,"callToActionIcon")&&(this.icon_type=e.callToActionIcon.iconType),this.endpoint=new g(e.endpoint)}};n(rm,"RichMetadata");rm.type="RichMetadata";var sm=rm;var am=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(am,"RichMetadataRow");am.type="RichMetadataRow";var um=am;var lm=class extends a{constructor(e){super(),this.content=c.parseItem(e.content)}};n(lm,"RichSection");lm.type="RichSection";var qk=lm;var cm=class extends a{constructor(e){super(),this.title=new l(e.title),this.contents=c.parseArray(e.contents),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint))}};n(cm,"RichShelf");cm.type="RichShelf";var Ig=cm;var dm=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint),this.search_button=c.parseItem(e.searchButton,C),this.clear_button=c.parseItem(e.clearButton,C),this.placeholder_text=new l(e.placeholderText)}};n(dm,"SearchBox");dm.type="SearchBox";var Xk=dm;var pm=class extends a{constructor(e){super(),this.label=new l(e.label),this.endpoint=new g(e.endpoint||e.navigationEndpoint),this.tooltip=e.tooltip,Reflect.has(e,"status")&&(this.status=e.status)}get disabled(){return this.status==="FILTER_STATUS_DISABLED"}get selected(){return this.status==="FILTER_STATUS_SELECTED"}};n(pm,"SearchFilter");pm.type="SearchFilter";var kg=pm;var fm=class extends a{constructor(e){super(),this.title=new l(e.title),this.filters=c.parseArray(e.filters,kg)}};n(fm,"SearchFilterGroup");fm.type="SearchFilterGroup";var Or=fm;var mm=class extends a{constructor(e){super(),this.title=new l(e.title),this.groups=c.parseArray(e.groups,Or)}};n(mm,"SearchFilterOptionsDialog");mm.type="SearchFilterOptionsDialog";var Qk=mm;var hm=class extends a{constructor(e){super(),this.chip_bar=c.parseItem(e.chipBar,gt),this.search_filter_button=c.parseItem(e.searchFilterButton,C)}};n(hm,"SearchHeader");hm.type="SearchHeader";var Sg=hm;var _m=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new l(e.title)),Reflect.has(e,"groups")&&(this.groups=c.parseArray(e.groups,Or)),Reflect.has(e,"button")&&(this.button=c.parseItem(e.button,Pe))}};n(_m,"SearchSubMenu");_m.type="SearchSubMenu";var Cg=_m;var vm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(vm,"SearchSuggestionsSection");vm.type="SearchSuggestionsSection";var Eg=vm;var gm=class extends a{constructor(e){super(),this.contents=c.parseArray(e.contents)}};n(gm,"SecondarySearchContainer");gm.type="SecondarySearchContainer";var Zk=gm;var xm=class extends a{constructor(e){super(),this.like_button=c.parseItem(e.likeButton,[Pe,C]),this.dislike_button=c.parseItem(e.dislikeButton,[Pe,C])}};n(xm,"SegmentedLikeDislikeButton");xm.type="SegmentedLikeDislikeButton";var zo=xm;var ym=class extends a{constructor(e){if(super(),this.like_button=c.parseItem(e.likeButtonViewModel,T0),this.dislike_button=c.parseItem(e.dislikeButtonViewModel,Zv),this.icon_type=e.iconType,this.like_button&&this.like_button.toggle_button){let i=this.like_button.toggle_button;i.default_button?(this.short_like_count=i.default_button.title,this.like_count=parseInt(i.default_button.accessibility_text.replace(/\D/g,""))):i.toggled_button&&(this.short_like_count=i.toggled_button.title,this.like_count=parseInt(i.toggled_button.accessibility_text.replace(/\D/g,"")))}this.like_count_entity={key:e.likeCountEntity.key},this.dynamic_like_count_update_data={update_status_key:e.dynamicLikeCountUpdateData.updateStatusKey,placeholder_like_count_values_key:e.dynamicLikeCountUpdateData.placeholderLikeCountValuesKey,update_delay_loop_id:e.dynamicLikeCountUpdateData.updateDelayLoopId,update_delay_sec:e.dynamicLikeCountUpdateData.updateDelaySec}}};n(ym,"SegmentedLikeDislikeButtonView");ym.type="SegmentedLikeDislikeButtonView";var $o=ym;var bm=class extends a{constructor(e){super(),Reflect.has(e,"title")&&(this.title=new l(e.title)),Reflect.has(e,"summary")&&(this.summary=new l(e.summary)),Reflect.has(e,"enableServiceEndpoint")&&(this.enable_endpoint=new g(e.enableServiceEndpoint)),Reflect.has(e,"disableServiceEndpoint")&&(this.disable_endpoint=new g(e.disableServiceEndpoint)),this.item_id=e.itemId}};n(bm,"SettingBoolean");bm.type="SettingBoolean";var eS=bm;var wm=class extends a{constructor(e){super(),this.title=new l(e.title),this.help_text=new l(e.helpText),this.enabled=e.enabled,this.disabled=e.disabled,this.id=e.id}};n(wm,"SettingsCheckbox");wm.type="SettingsCheckbox";var Pg=wm;var Tm=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.enabled=e.enabled,this.enable_endpoint=new g(e.enableServiceEndpoint),this.disable_endpoint=new g(e.disableServiceEndpoint)}};n(Tm,"SettingsSwitch");Tm.type="SettingsSwitch";var Dr=Tm;var Im=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"text")&&(this.text=new l(e.text).toString()),Reflect.has(e,"options")&&(this.options=c.parseArray(e.options,[Dr,tr,Jv,Pg,Tv]))}};n(Im,"SettingsOptions");Im.type="SettingsOptions";var Lr=Im;var km=class extends a{constructor(e){super(),this.title=new l(e.title),this.items=c.parseArray(e.items,gr)}get contents(){return this.items}};n(km,"SettingsSidebar");km.type="SettingsSidebar";var Ng=km;var Sm=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.content=new l(e.content),this.published=new l(e.publishedTimeText),this.menu=le(e.actionMenu,Y),this.original_post=le(e.originalPost,Li),this.id=e.postId,this.endpoint=new g(e.navigationEndpoint),this.expand_button=le(e.expandButton,C),this.author=new M(e.displayName,void 0)}};n(Sm,"SharedPost");Sm.type="SharedPost";var Ag=Sm;var Cm=class extends a{constructor(e){super(),this.title=new l(e.title),Reflect.has(e,"endpoint")&&(this.endpoint=new g(e.endpoint)),this.content=c.parseItem(e.content),Reflect.has(e,"icon")&&(this.icon_type=e.icon.iconType),Reflect.has(e,"menu")&&(this.menu=c.parseItem(e.menu)),Reflect.has(e,"playAllButton")&&(this.play_all_button=c.parseItem(e.playAllButton,C))}};n(Cm,"Shelf");Cm.type="Shelf";var Br=Cm;var Em=class extends a{constructor(e){super(),this.corrected_query=new l(e.correctedQuery),this.original_query=new l(e.originalQuery),this.corrected_query_endpoint=new g(e.correctedQueryEndpoint),this.original_query_endpoint=new g(e.originalQueryEndpoint),this.search_instead_for=new l(e.searchInsteadFor),this.showing_results_for=new l(e.showingResultsFor)}};n(Em,"ShowingResultsFor");Em.type="ShowingResultsFor";var Rg=Em;var Pm=class extends a{constructor(e){super(),this.image=b.fromResponse(e.image),this.title=new l(e.title),this.display_domain=new l(e.displayDomain),this.show_link_icon=e.showLinkIcon,this.call_to_action=new l(e.callToAction),this.endpoint=new g(e.command)}};n(Pm,"SimpleCardContent");Pm.type="SimpleCardContent";var tS=Pm;var Nm=class extends a{constructor(e){super(),this.message=new l(e.message),this.prominent=e.prominent}};n(Nm,"SimpleCardTeaser");Nm.type="SimpleCardTeaser";var iS=Nm;var Am=class extends a{constructor(e){super(),this.lines=e.lines.map(i=>new l(i)),this.style=e.layoutStyle}};n(Am,"SimpleTextSection");Am.type="SimpleTextSection";var oS=Am;var Rm=class extends a{constructor(e){super(),this.action_text=new l(e.actionText),this.nav_text=new l(e.navigationText),this.details=new l(e.detailsText),this.icon_type=e.icon.iconType,this.endpoint=new g(e.navigationEndpoint)}};n(Rm,"SingleActionEmergencySupport");Rm.type="SingleActionEmergencySupport";var nS=Rm;var Vm=class extends a{constructor(e){super(),this.title=e.title||"N/A",this.selected=!!e.selected,this.endpoint=new g(e.endpoint),this.content=c.parseItem(e.content,[Q,Rr,Zi])}};n(Vm,"Tab");Vm.type="Tab";var be=Vm;var Mm=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,be)}};n(Mm,"SingleColumnBrowseResults");Mm.type="SingleColumnBrowseResults";var si=Mm;var Om=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(Om,"SingleColumnMusicWatchNextResults");Om.type="SingleColumnMusicWatchNextResults";var rS=Om;var Dm=class extends a{constructor(e){super(),this.thumbnails=b.fromResponse(e.thumbnail),this.style=e.style}};n(Dm,"SingleHeroImage");Dm.type="SingleHeroImage";var sS=Dm;var Lm=class extends a{constructor(e){super(),this.thumbnail=b.fromResponse(e.thumbnail),this.title=new l(e.title),this.endpoint=new g(e.navigationEndpoint),this.subscribe_button=c.parseItem(e.subscribeButton,Ge)}};n(Lm,"SlimOwner");Lm.type="SlimOwner";var aS=Lm;var Bm=class extends a{constructor(e){super(),this.title=new l(e.title),this.collapsed_subtitle=new l(e.collapsedSubtitle),this.expanded_subtitle=new l(e.expandedSubtitle),this.owner=c.parseItem(e.owner),this.description=new l(e.description),this.video_id=e.videoId,this.date=new l(e.dateText)}};n(Bm,"SlimVideoMetadata");Bm.type="SlimVideoMetadata";var Vg=Bm;var Fm=class extends a{constructor(e){super(),this.name=new l(e.name),this.is_selected=e.isSelected,this.endpoint=new g(e.navigationEndpoint)}};n(Fm,"SubFeedOption");Fm.type="SubFeedOption";var Mg=Fm;var Ym=class extends a{constructor(e){super(),this.title=new l(e.title),this.options=c.parseArray(e.options,Mg)}};n(Ym,"SubFeedSelector");Ym.type="SubFeedSelector";var uS=Ym;var jm=class extends a{constructor(e){super(),this.contents=c.parse(e)}};n(jm,"Tabbed");jm.type="Tabbed";var lS=jm;var Um=class extends a{constructor(e){super(),this.tabs=c.parseArray(e.tabs,be)}};n(Um,"TabbedSearchResults");Um.type="TabbedSearchResults";var Og=Um;var Wm=class extends a{constructor(e){super(),this.title=new l(e.title),this.style=e.style}};n(Wm,"TextHeader");Wm.type="TextHeader";var cS=Wm;var Hm=class extends a{constructor(e){super(),this.landscape=b.fromResponse(e.landscape),this.portrait=b.fromResponse(e.portrait)}};n(Hm,"ThumbnailLandscapePortrait");Hm.type="ThumbnailLandscapePortrait";var dS=Hm;var Jm=class extends a{constructor(e){super(),this.text=new l(e.text).toString()}};n(Jm,"ThumbnailOverlayEndorsement");Jm.type="ThumbnailOverlayEndorsement";var pS=Jm;var Gm=class extends a{constructor(e){super(),this.text=new l(e.text),this.icon_type=e.icon.iconType}};n(Gm,"ThumbnailOverlayHoverText");Gm.type="ThumbnailOverlayHoverText";var fS=Gm;var zm=class extends a{constructor(e){super(),this.text=new l(e.text).toString(),this.icon_type=e.icon.iconType}};n(zm,"ThumbnailOverlayInlineUnplayable");zm.type="ThumbnailOverlayInlineUnplayable";var mS=zm;var $m=class extends a{constructor(e){super(),this.text=new l(e.text)}};n($m,"ThumbnailOverlayLoadingPreview");$m.type="ThumbnailOverlayLoadingPreview";var hS=$m;var Km=class extends a{constructor(e){super(),this.text=new l(e.text).toString()}};n(Km,"ThumbnailOverlayNowPlaying");Km.type="ThumbnailOverlayNowPlaying";var _S=Km;var qm=class extends a{constructor(e){super(),this.hack=e.hack}};n(qm,"ThumbnailOverlayPinking");qm.type="ThumbnailOverlayPinking";var vS=qm;var Xm=class extends a{constructor(e){super(),this.texts=e.texts.map(i=>new l(i))}};n(Xm,"ThumbnailOverlayPlaybackStatus");Xm.type="ThumbnailOverlayPlaybackStatus";var gS=Xm;var Qm=class extends a{constructor(e){super(),this.percent_duration_watched=e.percentDurationWatched}};n(Qm,"ThumbnailOverlayResumePlayback");Qm.type="ThumbnailOverlayResumePlayback";var xS=Qm;var Zm=class extends a{constructor(e){super(),this.text=new l(e.text),this.icon_type=e.icon.iconType}};n(Zm,"ThumbnailOverlaySidePanel");Zm.type="ThumbnailOverlaySidePanel";var yS=Zm;var eh=class extends a{constructor(e){super(),Reflect.has(e,"isToggled")&&(this.is_toggled=e.isToggled),this.icon_type={toggled:e.toggledIcon.iconType,untoggled:e.untoggledIcon.iconType},this.tooltip={toggled:e.toggledTooltip,untoggled:e.untoggledTooltip},this.toggled_endpoint=new g(e.toggledServiceEndpoint),this.untoggled_endpoint=new g(e.untoggledServiceEndpoint)}};n(eh,"ThumbnailOverlayToggleButton");eh.type="ThumbnailOverlayToggleButton";var bS=eh;var th=class extends a{constructor(e){super(),this.visible_time_range_start_millis=e.visibleTimeRangeStartMillis,this.visible_time_range_end_millis=e.visibleTimeRangeEndMillis,this.decoration_time_millis=e.decorationTimeMillis,this.label=new l(e.label),this.icon=e.icon}};n(th,"TimedMarkerDecoration");th.type="TimedMarkerDecoration";var wS=th;var ih=class extends a{constructor(e){super(),this.title=new l(e.title)}};n(ih,"TitleAndButtonListHeader");ih.type="TitleAndButtonListHeader";var TS=ih;var oh=class extends a{constructor(e){super(),this.text=new l(e.defaultText),this.toggled_text=new l(e.toggledText),this.icon_type=e.defaultIcon.iconType,this.toggled_icon_type=e.toggledIcon.iconType,this.default_endpoint=new g(e.defaultServiceEndpoint),this.toggled_endpoint=new g(e.toggledServiceEndpoint)}};n(oh,"ToggleMenuServiceItem");oh.type="ToggleMenuServiceItem";var IS=oh;var nh=class extends a{constructor(e){super(),this.promo_config={promo_id:e.promoConfig.promoId,impression_endpoints:e.promoConfig.impressionEndpoints.map(i=>new g(i)),accept:new g(e.promoConfig.acceptCommand),dismiss:new g(e.promoConfig.dismissCommand)},this.target_id=e.targetId,this.details=new l(e.detailsText),this.suggested_position=e.suggestedPosition.type,this.dismiss_stratedy=e.dismissStrategy.type,this.dwell_time_ms=parseInt(e.dwellTimeMs)}};n(nh,"Tooltip");nh.type="Tooltip";var kS=nh;var rh=class extends a{constructor(e){var i;super(),this.title=new l(e.title),this.avatar=b.fromResponse((i=e.thumbnail)!==null&&i!==void 0?i:e.avatar),this.subtitle=new l(e.subtitle),this.subscribe_button=c.parseItem(e.subscribeButton,Ge),this.endpoint=new g(e.navigationEndpoint)}};n(rh,"TopicChannelDetails");rh.type="TopicChannelDetails";var SS=rh;var sh=class extends a{constructor(e){super(),this.tabs=c.parse(e.tabs),this.secondary_contents=c.parse(e.secondaryContents)}};n(sh,"TwoColumnBrowseResults");sh.type="TwoColumnBrowseResults";var ai=sh;var ah=class extends a{constructor(e){super(),this.primary_contents=c.parse(e.primaryContents),this.secondary_contents=c.parse(e.secondaryContents)}};n(ah,"TwoColumnSearchResults");ah.type="TwoColumnSearchResults";var Dg=ah;var Lg,gb,uh=class extends a{constructor(e){var i,o,r,s,u;super(),Lg.add(this),this.results=c.parseArray((i=e.results)===null||i===void 0?void 0:i.results.contents),this.secondary_results=c.parseArray((o=e.secondaryResults)===null||o===void 0?void 0:o.secondaryResults.results),this.conversation_bar=c.parseItem(e==null?void 0:e.conversationBar);let p=(r=e.playlist)===null||r===void 0?void 0:r.playlist;p&&(this.playlist={id:p.playlistId,title:p.title,author:!((s=p.shortBylineText)===null||s===void 0)&&s.simpleText?new l(p.shortBylineText):new M(p.longBylineText),contents:c.parseArray(p.contents),current_index:p.currentIndex,is_infinite:!!p.isInfinite,menu:c.parseItem(p.menu,Y)});let f=(u=e.autoplay)===null||u===void 0?void 0:u.autoplay;f&&(this.autoplay={sets:f.sets.map(m=>d(this,Lg,"m",gb).call(this,m))},f.modifiedSets&&(this.autoplay.modified_sets=f.modifiedSets.map(m=>d(this,Lg,"m",gb).call(this,m))),f.countDownSecs&&(this.autoplay.count_down_secs=f.countDownSecs))}};n(uh,"TwoColumnWatchNextResults");Lg=new WeakSet,gb=n(function(e){let i={autoplay_video:new g(e.autoplayVideo)};return e.nextButtonVideo&&(i.next_button_video=new g(e.nextButtonVideo)),i},"_TwoColumnWatchNextResults_parseAutoplaySet");uh.type="TwoColumnWatchNextResults";var Fr=uh;var lh=class extends a{constructor(e){super(),this.header=c.parseItem(e.header),this.call_to_action=c.parseItem(e.callToAction),this.sections=c.parseArray(e.sections),Reflect.has(e,"collapsedLabel")&&(this.collapsed_label=new l(e.collapsedLabel))}};n(lh,"UniversalWatchCard");lh.type="UniversalWatchCard";var Bg=lh;var ch=class extends a{constructor(e){super(),this.message_title=new l(e.dialogMessageTitle),this.message_text=new l(e.dialogMessageText),this.action_button=c.parseItem(e.actionButton,C),this.dismiss_button=c.parseItem(e.dismissButton,C),this.is_visible=e.isVisible}};n(ch,"UpsellDialog");ch.type="UpsellDialog";var CS=ch;var dh=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.collapsed_item_count=e.collapsedItemCount,this.collapsed_state_button_text=new l(e.collapsedStateButtonText)}get contents(){return this.items}};n(dh,"VerticalList");dh.type="VerticalList";var ES=dh;var ph=class extends a{constructor(e){super(),this.items=c.parseArray(e.items),this.view_all_text=new l(e.viewAllText),this.view_all_endpoint=new g(e.viewAllEndpoint)}get contents(){return this.items}};n(ph,"VerticalWatchCardList");ph.type="VerticalWatchCardList";var PS=ph;var fh=class extends a{constructor(e){super(),this.title=new l(e.videoTitle),this.channel_name=new l(e.channelName),this.view_count=new l(e.viewCountText),this.video_thumbnails=b.fromResponse(e.videoThumbnail),this.duration=new l(e.lengthString),this.endpoint=new g(e.action)}};n(fh,"VideoInfoCardContent");fh.type="VideoInfoCardContent";var NS=fh;var mh=class extends a{constructor(e){super(),this.subscription_button=e.subscriptionButton,this.subscriber_count=new l(e.subscriberCountText),this.author=new M(Object.assign(Object.assign({},e.title),{navigationEndpoint:e.navigationEndpoint}),e.badges,e.thumbnail)}};n(mh,"VideoOwner");mh.type="VideoOwner";var Yr=mh;var hh=class extends a{constructor(e){var i,o,r,s;super(),this.title=new l(e.title),Reflect.has(e,"superTitleLink")&&(this.super_title_link=new l(e.superTitleLink)),this.view_count=new l((o=(i=e.viewCount)===null||i===void 0?void 0:i.videoViewCountRenderer)===null||o===void 0?void 0:o.viewCount),this.short_view_count=new l((s=(r=e.viewCount)===null||r===void 0?void 0:r.videoViewCountRenderer)===null||s===void 0?void 0:s.shortViewCount),this.badges=c.parseArray(e.badges,ct),this.published=new l(e.dateText),this.relative_date=new l(e.relativeDateText),this.menu=c.parseItem(e.videoActions,Y)}};n(hh,"VideoPrimaryInfo");hh.type="VideoPrimaryInfo";var Fg=hh;var _h=class extends a{constructor(e){super(),this.owner=c.parseItem(e.owner,Yr),this.description=new l(e.description),Reflect.has(e,"attributedDescription")&&(this.description=l.fromAttributed(e.attributedDescription)),this.subscribe_button=c.parseItem(e.subscribeButton,[Ge,C]),this.metadata=c.parseItem(e.metadataRowContainer,G0),this.show_more_text=e.showMoreText,this.show_less_text=e.showLessText,this.default_expanded=e.defaultExpanded,this.description_collapsed_lines=e.descriptionCollapsedLines}};n(_h,"VideoSecondaryInfo");_h.type="VideoSecondaryInfo";var vh=_h;var gh=class extends a{constructor(e){super(),this.title=new l(e.title),this.subtitle=new l(e.subtitle),this.duration={text:new l(e.lengthText).toString(),seconds:Be(e.lengthText.simpleText)},this.style=e.style}};n(gh,"WatchCardCompactVideo");gh.type="WatchCardCompactVideo";var Yg=gh;var xh=class extends a{constructor(e){var i;super(),this.endpoint=new g(e.navigationEndpoint),this.call_to_action_button=c.parseItem(e.callToActionButton),this.hero_image=c.parseItem(e.heroImage),this.label=((i=e.lengthText)===null||i===void 0?void 0:i.accessibility.accessibilityData.label)||""}};n(xh,"WatchCardHeroVideo");xh.type="WatchCardHeroVideo";var AS=xh;var yh=class extends a{constructor(e){super(),this.title=new l(e.title),this.title_endpoint=new g(e.titleNavigationEndpoint),this.subtitle=new l(e.subtitle),this.author=new M(e,e.titleBadge?[e.titleBadge]:null,e.avatar),this.author.name=this.title.toString(),this.style=e.style}};n(yh,"WatchCardRichHeader");yh.type="WatchCardRichHeader";var RS=yh;var bh=class extends a{constructor(e){super(),this.lists=c.parseArray(e.lists)}};n(bh,"WatchCardSectionSequence");bh.type="WatchCardSectionSequence";var VS=bh;var wh=class extends ai{constructor(e){super(e)}};n(wh,"WatchNextTabbedResults");wh.type="WatchNextTabbedResults";var jg=wh;var Th=class extends a{constructor(e){var i,o;super(),this.title=e.title,this.content=c.parseItem(e.content,Q),this.endpoint=new g(e.navigationEndpoint),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType}};n(Th,"AnchoredSection");Th.type="AnchoredSection";var Ug=Th;var Ih,kh=class extends a{constructor(e){super(),Ih.set(this,void 0),this.child_display_name=new l(e.childDisplayName),this.child_account_description=new l(e.childAccountDescription),this.avatar=b.fromResponse(e.avatar),this.block_button=c.parseItem(e.blockButton,[Pe]),this.blocked_entity_key=e.blockedEntityKey}blockChannel(){return y(this,void 0,void 0,function*(){if(!d(this,Ih,"f"))throw new v("An active caller must be provide to perform this operation.");let e=this.block_button;if(!e)throw new v("Block button was not found.",{child_display_name:this.child_display_name});if(e.is_toggled)throw new v("This channel is already blocked.",{child_display_name:this.child_display_name});return yield e.endpoint.call(d(this,Ih,"f"),{parse:!1})})}setActions(e){k(this,Ih,e,"f")}};n(kh,"KidsBlocklistPickerItem");Ih=new WeakMap;kh.type="KidsBlocklistPickerItem";var jr=kh;var Sh=class extends a{constructor(e){super(),this.title=new l(e.title),this.child_rows=c.parse(e.childRows,!0,[jr]),this.done_button=c.parseItem(e.doneButton,[C]),this.successful_toast_action_message=new l(e.successfulToastActionMessage)}};n(Sh,"KidsBlocklistPicker");Sh.type="KidsBlocklistPicker";var MS=Sh;var Ch=class extends a{constructor(e){var i,o;super(),this.title=new l(e.title),this.category_assets={asset_key:(i=e.categoryAssets)===null||i===void 0?void 0:i.assetKey,background_color:(o=e.categoryAssets)===null||o===void 0?void 0:o.backgroundColor},this.category_type=e.categoryType,this.endpoint=new g(e.endpoint)}};n(Ch,"KidsCategoryTab");Ch.type="KidsCategoryTab";var Ur=Ch;var Eh=class extends a{constructor(e){super(),this.category_tabs=c.parseArray(e.categoryTabs,Ur),this.privacy_button=c.parseItem(e.privacyButtonRenderer,C)}};n(Eh,"KidsCategoriesHeader");Eh.type="kidsCategoriesHeader";var Wg=Eh;var Ph=class extends a{constructor(e){super(),this.anchors=c.parseArray(e.anchors,Ug)}};n(Ph,"KidsHomeScreen");Ph.type="kidsHomeScreen";var Hg=Ph;var kb={};D(kb,{camelToSnake:()=>Ko,createRuntimeClass:()=>HS,generateRuntimeClass:()=>Rh,generateTypescriptClass:()=>Gg,inferType:()=>Jg,introspect:()=>bb,isArrayType:()=>US,isIgnoredKey:()=>WS,isMiscType:()=>jS,isRenderer:()=>yb,isRendererList:()=>YS,mergeKeyInfo:()=>Nh,parse:()=>Ib,toParser:()=>Tb,toTypeDeclaration:()=>wb});var mE=new Set(["trackingParams","accessibility","accessibilityData"]),xb={};function Ko(t){return t.replace(/[A-Z]/g,e=>`_${e.toLowerCase()}`)}n(Ko,"camelToSnake");function Jg(t,e){let i=!1;if(typeof e=="object"&&e!=null){if(i=yb(e))return xb[i]=Reflect.get(e,Reflect.ownKeys(e)[0]),{type:"renderer",renderers:[i],optional:!1};if(i=YS(e)){for(let[r,s]of Object.entries(i))xb[r]=s;return{type:"array",array_type:"renderer",renderers:Object.keys(i),optional:!1}}if((i=jS(t,e))||(i=US(e)))return i}let o=typeof e;return o==="object"?{type:"object",keys:Object.entries(e).map(([r,s])=>[r,Jg(r,s)]),optional:!1}:{type:"primative",typeof:[o],optional:!1}}n(Jg,"inferType");function YS(t){let e=Array.isArray(t);return e&&t.length===0?!1:e&&t.every(o=>yb(o))?Object.fromEntries(t.map(o=>{let r=Reflect.ownKeys(o)[0].toString();return[Vh(r),o[r]]})):!1}n(YS,"isRendererList");function jS(t,e){if(typeof e=="object"&&e!==null){if(t.endsWith("Endpoint")||t.endsWith("Command")||t==="endpoint")return{type:"misc",endpoint:new g(e),optional:!1,misc_type:"NavigationEndpoint"};if(Reflect.has(e,"simpleText")||Reflect.has(e,"runs")){let i=new l(e);return{type:"misc",misc_type:"Text",optional:!1,endpoint:i.endpoint,text:i.toString()}}if(Reflect.has(e,"thumbnails")&&Array.isArray(Reflect.get(e,"thumbnails")))return{type:"misc",misc_type:"Thumbnail",optional:!1}}return!1}n(jS,"isMiscType");function yb(t){if(!(typeof t=="object"))return!1;let i=Reflect.ownKeys(t);if(i.length===1){let o=i[0].toString();if(o.endsWith("Renderer")||o.endsWith("Model"))return Vh(o)}return!1}n(yb,"isRenderer");function US(t){if(!Array.isArray(t))return!1;if(t.length===0)return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["never"],optional:!1},optional:!1};let e=t.map(s=>typeof s);if(!e.every(s=>s===e[0]))return{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!1},optional:!1};let o=e[0];if(o!=="object")return{type:"array",array_type:"primitive",items:{type:"primative",typeof:[o],optional:!1},optional:!1};let r=[];for(let s=0;s<t.length;s++){let u=Object.entries(t[s]).map(([p,f])=>[p,Jg(p,f)]);if(s===0){r=u;continue}r=Nh(r,u).resolved_key_info}return{type:"array",array_type:"object",items:{type:"object",keys:r,optional:!1},optional:!1}}n(US,"isArrayType");function hE(t){if(typeof t!="object"||t===null)throw new v("Generator: Cannot introspect non-object",{classdata:t});return Reflect.ownKeys(t).filter(i=>!WS(i)).filter(i=>typeof i=="string").map(i=>{let o=Reflect.get(t,i),r=Jg(i,o);return[i,r]})}n(hE,"introspectKeysFirstPass");function _E(t){var e;let o=t.filter(([,p])=>{var f;return p.type!=="misc"||!(p.misc_type==="NavigationEndpoint"||p.misc_type==="Text")?!1:((f=p.endpoint)===null||f===void 0?void 0:f.metadata.page_type)==="WEB_PAGE_TYPE_CHANNEL"}).sort(([,p],[,f])=>p.type!=="misc"||f.type!=="misc"||p.misc_type!=="Text"||f.misc_type!=="Text"?0:f.text.length-p.text.length),r=new Set,s=o[0],u;if(s){r.add(s[0]);let f=t.map(([T])=>T).filter(T=>T.endsWith("Badges")||T==="badges"),h=(e=f.filter(T=>T.startsWith("owner")||T.startsWith("author"))[0])!==null&&e!==void 0?e:f[0],x=t.find(([T])=>T===h),w=x?x[1].type==="array"&&x[1].array_type==="renderer"&&Reflect.has(x[1].renderers,"MetadataBadge"):!1;w&&h&&r.add(h),u={type:"misc",misc_type:"Author",optional:!1,params:[s[0],w?h:void 0]}}return u&&t.push(["author",u]),t.filter(([p])=>!r.has(p))}n(_E,"introspectKeysSecondPass");function vE(t){let e=hE(t);return _E(e)}n(vE,"introspect2");function bb(t){let e=vE(t),i=new Map;for(let[,r]of e)if(r.type==="renderer"||r.type==="array"&&r.array_type==="renderer")for(let s of r.renderers){let u=xb[s];u&&i.set(s,u)}let o=Array.from(i).filter(([r])=>!zg(r));return{key_info:e,unimplemented_dependencies:o}}n(bb,"introspect");function WS(t){return typeof t=="string"&&mE.has(t)}n(WS,"isIgnoredKey");function HS(t,e,i){var o,r;i({error_type:"class_not_found",classname:t,key_info:e});let s=(o=n(class extends a{static set key_info(u){k(this,o,new Map(u),"f",r)}static get key_info(){return[...d(this,o,"f",r).entries()]}constructor(u){super();let{key_info:p,unimplemented_dependencies:f}=bb(u),{resolved_key_info:m,changed_keys:h}=Nh(s.key_info,p);h.length>0&&(s.key_info=m,i({error_type:"class_changed",classname:t,key_info:s.key_info,changed_keys:h}));for(let[w,T]of f)Rh(w,T,i);for(let[w,T]of p){let I=Ko(w);T.type==="misc"&&T.misc_type==="NavigationEndpoint"&&(I="endpoint"),Reflect.set(this,I,Ib(w,T,u))}}},"_a"),yw(o,"node"),o.type=t,r={value:new Map},o);return s.key_info=e,Object.defineProperty(s,"name",{value:t,writable:!1}),s}n(HS,"createRuntimeClass");function Rh(t,e,i){let{key_info:o,unimplemented_dependencies:r}=bb(e),s=HS(t,o,i);Sb(t,s);for(let[u,p]of r)Rh(u,p,i);return s}n(Rh,"generateRuntimeClass");function Gg(t,e){let i=[],o=["super();"];for(let[r,s]of e){let u=Ko(r);s.type==="misc"&&s.misc_type==="NavigationEndpoint"&&(u="endpoint"),i.push(`${u}${s.optional?"?":""}: ${wb(s)};`),o.push(`this.${u} = ${Tb(r,s)};`)}return`class ${t} extends YTNode {
  static type = '${t}';

  ${i.join(`
  `)}

  constructor(data: RawNode) {
    ${o.join(`
    `)}
  }
}
`}n(Gg,"generateTypescriptClass");function OS(t,e){return`{
${e.map(([i,o])=>`${" ".repeat((t+2)*2)}${Ko(i)}${o.optional?"?":""}: ${wb(o,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(OS,"toTypeDeclarationObject");function wb(t,e=0){switch(t.type){case"renderer":return`${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")} | null`;case"array":switch(t.array_type){case"renderer":return`ObservedArray<${t.renderers.map(i=>`YTNodes.${i}`).join(" | ")}> | null`;case"primitive":{let i=t.items.typeof;return t.items.optional&&!i.includes("undefined")&&i.push("undefined"),`${i.length===1?`${i[0]}`:`(${i.join(" | ")})`}[]`}case"object":return`${OS(e,t.items.keys)}[]`;default:throw new Error("Unreachable code reached! Switch missing case!")}case"object":return OS(e,t.keys);case"misc":switch(t.misc_type){case"Thumbnail":return"Thumbnail[]";default:return t.misc_type}case"primative":return t.typeof.join(" | ")}}n(wb,"toTypeDeclaration");function DS(t,e,i,o){let r=[...i,o];return`{
${e.map(([s,u])=>`${" ".repeat((t+2)*2)}${Ko(s)}: ${Tb(s,u,r,t+1)}`).join(`,
`)}
${" ".repeat((t+1)*2)}}`}n(DS,"toParserObject");function Tb(t,e,i=["data"],o=1){let r="undefined";switch(e.type){case"renderer":r=`Parser.parseItem(${i.join(".")}.${t}, ${LS(e.renderers)})`;break;case"array":switch(e.array_type){case"renderer":r=`Parser.parse(${i.join(".")}.${t}, true, ${LS(e.renderers)})`;break;case"object":r=`${i.join(".")}.${t}.map((item: any) => (${DS(o,e.items.keys,[],"item")}))`;break;case"primitive":r=`${i.join(".")}.${t}`;break;default:throw new Error("Unreachable code reached! Switch missing case!")}break;case"object":r=DS(o,e.keys,i,t);break;case"misc":switch(e.misc_type){case"Thumbnail":r=`Thumbnail.fromResponse(${i.join(".")}.${t})`;break;case"Author":{let s=`new Author(${i.join(".")}.${e.params[0]}, ${e.params[1]?`${i.join(".")}.${e.params[1]}`:"undefined"})`;return e.optional?`Reflect.has(${i.join(".")}, '${e.params[0]}') ? ${s} : undefined`:s}default:r=`new ${e.misc_type}(${i.join(".")}.${t})`;break}if(r==="undefined")throw new Error("Unreachable code reached! Switch missing case!");break;case"primative":r=`${i.join(".")}.${t}`;break}return e.optional?`Reflect.has(${i.join(".")}, '${t}') ? ${r} : undefined`:r}n(Tb,"toParser");function LS(t){return t.length===1?`YTNodes.${t[0]}`:`[ ${t.map(e=>`YTNodes.${e}`).join(", ")} ]`}n(LS,"toParserValidTypes");function ui(t,e){let i=t;for(let o of e)i=i[o];return i}n(ui,"accessDataFromKeyPath");function BS(t,e){let i=t;for(let o of e)if(Reflect.has(i,o))i=i[o];else return!1;return!0}n(BS,"hasDataFromKeyPath");function FS(t,e,i,o,r){let s={},u=[...i,t];for(let[p,f]of o)s[p]=r?Ib(p,f,e,u):void 0;return s}n(FS,"parseObject");function Ib(t,e,i,o=["data"]){let r=!e.optional||BS({data:i},[...o,t]);switch(e.type){case"renderer":return r?le(ui({data:i},[...o,t]),e.renderers.map(s=>Ah(s))):void 0;case"array":{switch(e.array_type){case"renderer":return r?$e(ui({data:i},[...o,t]),!0,e.renderers.map(s=>Ah(s))):void 0;case"object":return r?ui({data:i},[...o,t]).map((s,u)=>FS(`${u}`,i,[...o,t],e.items.keys,r)):void 0;case"primitive":return r?ui({data:i},[...o,t]):void 0}throw new Error("Unreachable code reached! Switch missing case!")}case"object":return FS(t,i,o,e.keys,r);case"misc":switch(e.misc_type){case"NavigationEndpoint":return r?new g(ui({data:i},[...o,t])):void 0;case"Text":return r?new l(ui({data:i},[...o,t])):void 0;case"Thumbnail":return r?b.fromResponse(ui({data:i},[...o,t])):void 0;case"Author":return!e.optional||BS({data:i},[...o,e.params[0]])?new M(ui({data:i},[...o,e.params[0]]),e.params[1]?ui({data:i},[...o,e.params[1]]):void 0):void 0}throw new Error("Unreachable code reached! Switch missing case!");case"primative":return ui({data:i},[...o,t])}}n(Ib,"parse");function Nh(t,e){let i=new Map,o=new Set(t.map(([w])=>w)),r=new Set(e.map(([w])=>w)),s=e.filter(([w])=>!o.has(w)),u=t.filter(([w])=>!r.has(w)),p=t.filter(([w])=>r.has(w)),f=new Map(e);for(let[w,T]of p){let I=f.get(w);if(!!I){if(T.type!==I.type){i.set(w,{type:"primative",typeof:["unknown"],optional:!0});continue}switch(T.type){case"object":{if(I.type!=="object")continue;let{resolved_key_info:S}=Nh(T.keys,I.keys),P={type:"object",keys:S,optional:T.optional||I.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(w,P)}break;case"renderer":{if(I.type!=="renderer")continue;let S=Object.assign(Object.assign({},T.renderers),I.renderers),P=T.optional||I.optional,R={type:"renderer",renderers:S,optional:P};JSON.stringify(Object.assign(Object.assign({},R),{renderers:Object.keys(R.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(w,R)}break;case"array":{if(I.type!=="array")continue;switch(T.array_type){case"renderer":{if(I.array_type!=="renderer"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=Object.assign(Object.assign({},T.renderers),I.renderers),P=T.optional||I.optional,R={type:"array",array_type:"renderer",renderers:S,optional:P};JSON.stringify(Object.assign(Object.assign({},R),{renderers:Object.keys(R.renderers)}))!==JSON.stringify(Object.assign(Object.assign({},T),{renderers:Object.keys(T.renderers)}))&&i.set(w,R)}break;case"object":{if(I.array_type==="primitive"&&I.items.typeof.length==1&&I.items.typeof[0]==="never")continue;if(I.array_type!=="object"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let{resolved_key_info:S}=Nh(T.items.keys,I.items.keys),P={type:"array",array_type:"object",items:{type:"object",keys:S,optional:T.items.optional||I.items.optional},optional:T.optional||I.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(w,P)}break;case"primitive":{if(T.items.typeof.includes("never")&&I.array_type==="object"){i.set(w,I);continue}if(I.array_type!=="primitive"){i.set(w,{type:"array",array_type:"primitive",items:{type:"primative",typeof:["unknown"],optional:!0},optional:!0});continue}let S=new Set([...I.items.typeof,...T.items.typeof]);S.size>1&&S.has("never")&&S.delete("never");let P={type:"array",array_type:"primitive",items:{type:"primative",typeof:Array.from(S),optional:T.items.optional||I.items.optional},optional:T.optional||I.optional};JSON.stringify(P)!==JSON.stringify(T)&&i.set(w,P)}break;default:throw new Error("Unreachable code reached! Switch missing case!")}}break;case"misc":{if(I.type!=="misc")continue;switch(T.misc_type!==I.misc_type&&i.set(w,{type:"primative",typeof:["unknown"],optional:!0}),T.misc_type){case"Author":{if(I.misc_type!=="Author")break;let S=T.params[1]||I.params[1],P=T.optional||I.optional,R={type:"misc",misc_type:"Author",optional:P,params:[I.params[0],S]};JSON.stringify(R)!==JSON.stringify(T)&&i.set(w,R)}break}}break;case"primative":{if(I.type!=="primative")continue;let S={type:"primative",typeof:Array.from(new Set([...I.typeof,...T.typeof])),optional:T.optional||I.optional};JSON.stringify(S)!==JSON.stringify(T)&&i.set(w,S)}break}}}for(let[w,T]of s)i.set(w,Object.assign(Object.assign({},T),{optional:!0}));for(let[w,T]of u)i.set(w,Object.assign(Object.assign({},T),{optional:!0}));let m=t.filter(([w])=>!i.has(w));return{resolved_key_info:[...new Map([...m,...i]).entries()],changed_keys:[...i.entries()]}}n(Nh,"mergeKeyInfo");var eo=class extends a{constructor(e){var i,o,r;super(),this.contents=ze(e.contents),Array.isArray(e.continuations)&&(this.continuation=(r=(o=(i=e.continuations)===null||i===void 0?void 0:i.at(0))===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)}};n(eo,"ItemSectionContinuation");eo.type="itemSectionContinuation";var to=class extends a{constructor(e){super(),this.endpoint=new g(e.endpoint)}};n(to,"NavigateAction");to.type="navigateAction";var Wr=class extends a{constructor(e){super(),this.miniplayer_command=new g(e.miniplayerCommand),this.show_premium_branding=e.showPremiumBranding}};n(Wr,"ShowMiniplayerCommand");Wr.type="showMiniplayerCommand";var io=class extends a{constructor(e){super(),this.target_id=e.targetId,this.contents=$e(e.continuationItems,!0),this.slot=e==null?void 0:e.slot}};n(io,"ReloadContinuationItemsCommand");io.type="reloadContinuationItemsCommand";var pt=class extends a{constructor(e){var i,o,r,s,u,p;super(),this.contents=$e(e.contents,!0),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(u=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.reloadContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(pt,"SectionListContinuation");pt.type="sectionListContinuation";var oo=class extends a{constructor(e){var i;super(),this.contents=$e(e.contents,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}};n(oo,"MusicPlaylistShelfContinuation");oo.type="musicPlaylistShelfContinuation";var li=class extends a{constructor(e){var i,o,r,s;super(),this.contents=ze(e.contents),this.continuation=((o=(i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData)===null||o===void 0?void 0:o.continuation)||((s=(r=e.continuations)===null||r===void 0?void 0:r[0].reloadContinuationData)===null||s===void 0?void 0:s.continuation)||null}};n(li,"MusicShelfContinuation");li.type="musicShelfContinuation";var no=class extends a{constructor(e){var i;super(),this.items=$e(e.items,!0),this.continuation=((i=e.continuations)===null||i===void 0?void 0:i[0].nextContinuationData.continuation)||null}get contents(){return this.items}};n(no,"GridContinuation");no.type="gridContinuation";var Hr=class extends a{constructor(e){var i,o,r,s,u,p;super(),this.contents=ze(e.contents),this.continuation=((r=(o=(i=e.continuations)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.nextContinuationData)===null||r===void 0?void 0:r.continuation)||((p=(u=(s=e.continuations)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.nextRadioContinuationData)===null||p===void 0?void 0:p.continuation)||null}};n(Hr,"PlaylistPanelContinuation");Hr.type="playlistPanelContinuation";var qo=class extends a{constructor(e){var i,o,r;super(),this.continuation_type=e.type,this.timeout_ms=(i=e.continuation)===null||i===void 0?void 0:i.timeoutMs,this.time_until_last_message_ms=(o=e.continuation)===null||o===void 0?void 0:o.timeUntilLastMessageMsec,this.token=(r=e.continuation)===null||r===void 0?void 0:r.continuation}};n(qo,"Continuation");qo.type="continuation";var ro=class extends a{constructor(e){var i,o,r,s,u,p,f,m;super(),this.actions=$e((i=e.actions)===null||i===void 0?void 0:i.map(w=>(delete w.clickTrackingParams,w)),!0)||ee([]),this.action_panel=le(e.actionPanel),this.item_list=le(e.itemList,D0),this.header=le(e.header,O0),this.participants_list=le(e.participantsList,B0),this.popout_message=le(e.popoutMessage,We),this.emojis=((o=e.emojis)===null||o===void 0?void 0:o.map(w=>({emoji_id:w.emojiId,shortcuts:w.shortcuts,search_terms:w.searchTerms,image:b.fromResponse(w.image),is_custom_emoji:w.isCustomEmoji})))||[];let h,x;!((r=e.continuations)===null||r===void 0)&&r[0].timedContinuationData?(x="timed",h=(s=e.continuations)===null||s===void 0?void 0:s[0].timedContinuationData):!((u=e.continuations)===null||u===void 0)&&u[0].invalidationContinuationData?(x="invalidation",h=(p=e.continuations)===null||p===void 0?void 0:p[0].invalidationContinuationData):!((f=e.continuations)===null||f===void 0)&&f[0].liveChatReplayContinuationData&&(x="replay",h=(m=e.continuations)===null||m===void 0?void 0:m[0].liveChatReplayContinuationData),this.continuation=new qo({continuation:h,type:x}),this.viewer_name=e.viewerName}};n(ro,"LiveChatContinuation");ro.type="liveChatContinuation";var Ti=class extends a{constructor(e){super(),this.request=e.request,this.token=e.token}};n(Ti,"ContinuationCommand");Ti.type="ContinuationCommand";var $g,Kg=class{constructor(e,i){var o,r,s,u,p,f,m,h;if($g.set(this,void 0),i&&k(this,$g,i,"f"),this.itag=e.itag,this.mime_type=e.mimeType,this.is_type_otf=e.type==="FORMAT_STREAM_TYPE_OTF",this.bitrate=e.bitrate,this.average_bitrate=e.averageBitrate,this.width=e.width,this.height=e.height,this.projection_type=e.projectionType,this.stereo_layout=(o=e.stereoLayout)===null||o===void 0?void 0:o.replace("STEREO_LAYOUT_",""),this.init_range=e.initRange?{start:parseInt(e.initRange.start),end:parseInt(e.initRange.end)}:void 0,this.index_range=e.indexRange?{start:parseInt(e.indexRange.start),end:parseInt(e.indexRange.end)}:void 0,this.last_modified=new Date(Math.floor(parseInt(e.lastModified)/1e3)),this.content_length=parseInt(e.contentLength),this.quality=e.quality,this.quality_label=e.qualityLabel,this.fps=e.fps,this.url=e.url,this.cipher=e.cipher,this.signature_cipher=e.signatureCipher,this.audio_quality=e.audioQuality,this.approx_duration_ms=parseInt(e.approxDurationMs),this.audio_sample_rate=parseInt(e.audioSampleRate),this.audio_channels=e.audioChannels,this.loudness_db=e.loudnessDb,this.spatial_audio_type=(r=e.spatialAudioType)===null||r===void 0?void 0:r.replace("SPATIAL_AUDIO_TYPE_",""),this.max_dvr_duration_sec=e.maxDvrDurationSec,this.target_duration_dec=e.targetDurationSec,this.has_audio=!!e.audioBitrate||!!e.audioQuality,this.has_video=!!e.qualityLabel,this.has_text=!!e.captionTrack,this.color_info=e.colorInfo?{primaries:(s=e.colorInfo.primaries)===null||s===void 0?void 0:s.replace("COLOR_PRIMARIES_",""),transfer_characteristics:(u=e.colorInfo.transferCharacteristics)===null||u===void 0?void 0:u.replace("COLOR_TRANSFER_CHARACTERISTICS_",""),matrix_coefficients:(p=e.colorInfo.matrixCoefficients)===null||p===void 0?void 0:p.replace("COLOR_MATRIX_COEFFICIENTS_","")}:void 0,Reflect.has(e,"audioTrack")&&(this.audio_track={audio_is_default:e.audioTrack.audioIsDefault,display_name:e.audioTrack.displayName,id:e.audioTrack.id}),Reflect.has(e,"captionTrack")&&(this.caption_track={display_name:e.captionTrack.displayName,vss_id:e.captionTrack.vssId,language_code:e.captionTrack.languageCode,kind:e.captionTrack.kind,id:e.captionTrack.id}),this.has_audio||this.has_text){let x=new URLSearchParams(this.cipher||this.signature_cipher),T=(f=new URLSearchParams(x.get("url")||this.url).get("xtags"))===null||f===void 0?void 0:f.split(":");if(this.language=((m=T==null?void 0:T.find(I=>I.startsWith("lang=")))===null||m===void 0?void 0:m.split("=")[1])||null,this.has_audio){this.is_drc=!!e.isDrc||!!(T!=null&&T.includes("drc=1"));let I=(h=T==null?void 0:T.find(S=>S.startsWith("acont=")))===null||h===void 0?void 0:h.split("=")[1];this.is_dubbed=I==="dubbed",this.is_descriptive=I==="descriptive",this.is_original=I==="original"||!this.is_dubbed&&!this.is_descriptive&&!this.is_drc}this.has_text&&!this.language&&this.caption_track&&(this.language=this.caption_track.language_code)}}decipher(e){if(!e)throw new v("Cannot decipher format, this session appears to have no valid player.");return e.decipher(this.url,this.signature_cipher,this.cipher,d(this,$g,"f"))}};n(Kg,"Format");$g=new WeakMap;var qg=Kg;var so=class{constructor(e){this.id=e.videoId,this.channel_id=e.channelId,this.title=e.title,this.duration=parseInt(e.lengthSeconds),this.keywords=e.keywords,this.is_owner_viewing=!!e.isOwnerViewing,this.short_description=e.shortDescription,this.thumbnail=b.fromResponse(e.thumbnail),this.allow_ratings=!!e.allowRatings,this.view_count=parseInt(e.viewCount),this.author=e.author,this.is_private=!!e.isPrivate,this.is_live=!!e.isLive,this.is_live_content=!!e.isLiveContent,this.is_live_dvr_enabled=!!e.isLiveDvrEnabled,this.is_low_latency_live_stream=!!e.isLowLatencyLiveStream,this.is_upcoming=!!e.isUpcoming,this.is_post_live_dvr=!!e.isPostLiveDvr,this.is_crawlable=!!e.isCrawlable,this.live_chunk_readahead=e.liveChunkReadahead}};n(so,"VideoDetails");var Xo="Parser",gE=new Set(["AdSlot","DisplayAd","SearchPyv","MealbarPromo","PrimetimePromo","BackgroundPromo","PromotedSparklesWeb","RunAttestationCommand","CompactPromotedVideo","BrandVideoShelf","BrandVideoSingleton","StatementBanner","GuideSigninPromo","AdsEngagementPanelContent"]),Pb=new Map(Object.entries(Wo)),JS=new Map,Qo=null,ao=n(t=>{var{classname:e}=t,i=xw(t,["classname"]);switch(i.error_type){case"parse":i.error instanceof Error&&L.warn(Xo,new v(`Something went wrong at ${e}!
This is a bug, please report it at ${j.shim.info.bugs_url}`,{stack:i.error.stack}));break;case"typecheck":L.warn(Xo,new kt(`Type mismatch, got ${e} expected ${Array.isArray(i.expected)?i.expected.join(" | "):i.expected}.`,i.classdata));break;case"mutation_data_missing":L.warn(Xo,new v(`Mutation data required for processing ${e}, but none found.
This is a bug, please report it at ${j.shim.info.bugs_url}`));break;case"mutation_data_invalid":L.warn(Xo,new v(`Mutation data missing or invalid for ${i.failed} out of ${i.total} MusicMultiSelectMenuItems. The titles of the failed items are: ${i.titles.join(", ")}.
This is a bug, please report it at ${j.shim.info.bugs_url}`));break;case"class_not_found":L.warn(Xo,new v(`${e} not found!
This is a bug, want to help us fix it? Follow the instructions at ${j.shim.info.repo_url}/blob/main/docs/updating-the-parser.md or report it at ${j.shim.info.bugs_url}!
Introspected and JIT generated this class in the meantime:
${Gg(e,i.key_info)}`));break;case"class_changed":L.warn(Xo,`${e} changed!
The following keys where altered: ${i.changed_keys.map(([o])=>Ko(o)).join(", ")}
The class has changed to:
${Gg(e,i.key_info)}`);break;default:L.warn(Xo,"Unreachable code reached at ParserErrorHandler");break}},"ERROR_HANDLER");function xE(t){ao=t}n(xE,"setParserErrorHandler");function Ut(){Qo=null}n(Ut,"_clearMemo");function Wt(){Qo=new Vi}n(Wt,"_createMemo");function yE(t,e){if(!Qo)return;let i=Qo.get(t);if(!i)return Qo.set(t,[e]);i.push(e)}n(yE,"_addToMemo");function Ht(){if(!Qo)throw new Error("Parser#getMemo() called before Parser#createMemo()");return Qo}n(Ht,"_getMemo");function GS(t){return gE.has(t)}n(GS,"shouldIgnore");function Vh(t){return(t.charAt(0).toUpperCase()+t.slice(1)).replace(/Renderer|Model/g,"").replace(/Radio/g,"Mix").trim()}n(Vh,"sanitizeClassName");function Ah(t){let e=Pb.get(t);if(!e){let i=new Error(`Module not found: ${t}`);throw i.code="MODULE_NOT_FOUND",i}return e}n(Ah,"getParserByName");function zg(t){return Pb.has(t)}n(zg,"hasParser");function Sb(t,e){Pb.set(t,e),JS.set(t,e)}n(Sb,"addRuntimeParser");function bE(){return Object.fromEntries(JS)}n(bE,"getDynamicParsers");function wE(t){var e,i,o,r,s,u,p,f,m,h,x,w,T,I;let S={};Wt();let P=$e(t.contents),R=Ht();P&&(S.contents=P,S.contents_memo=R),Ut(),Wt();let $=t.onResponseReceivedActions?Xg(t.onResponseReceivedActions):null,W=Ht();$&&(S.on_response_received_actions=$,S.on_response_received_actions_memo=W),Ut(),Wt();let ge=t.onResponseReceivedEndpoints?Xg(t.onResponseReceivedEndpoints):null,H=Ht();ge&&(S.on_response_received_endpoints=ge,S.on_response_received_endpoints_memo=H),Ut(),Wt();let pe=t.onResponseReceivedCommands?Xg(t.onResponseReceivedCommands):null,Se=Ht();pe&&(S.on_response_received_commands=pe,S.on_response_received_commands_memo=Se),Ut(),Wt();let Ve=t.continuationContents?Cb(t.continuationContents):null,q=Ht();Ve&&(S.continuation_contents=Ve,S.continuation_contents_memo=q),Ut(),Wt();let K=t.actions?$S(t.actions):null,Z=Ht();K&&(S.actions=K,S.actions_memo=Z),Ut(),Wt();let ae=t.liveChatItemContextMenuSupportedRenderers?le(t.liveChatItemContextMenuSupportedRenderers):null,De=Ht();ae&&(S.live_chat_item_context_menu_supported_renderers=ae,S.live_chat_item_context_menu_supported_renderers_memo=De),Ut(),Wt();let vt=t.header?$e(t.header):null,Tt=Ht();vt&&(S.header=vt,S.header_memo=Tt),Ut(),Wt();let X=t.sidebar?le(t.sidebar):null,He=Ht();X&&(S.sidebar=X,S.sidebar_memo=He),Ut(),Wt();let Xt=$e(t.items);Xt&&(S.items=Xt,S.items_memo=Ht()),Ut(),Wt();let Qt=$e(t.entries);Qt&&(S.entries=Qt,S.entries_memo=Ht()),Ut(),KS(R,(i=(e=t.frameworkUpdates)===null||e===void 0?void 0:e.entityBatchUpdate)===null||i===void 0?void 0:i.mutations),H&&qS(H,(r=(o=t.frameworkUpdates)===null||o===void 0?void 0:o.entityBatchUpdate)===null||r===void 0?void 0:r.mutations);let Ie=t.continuation?zS(t.continuation):null;Ie&&(S.continuation=Ie);let lt=t.continuationEndpoint?Cb(t.continuationEndpoint):null;lt&&(S.continuation_endpoint=lt);let Un=$e(t.metadata);Un&&(S.metadata=Un);let Wn=le(t.microformat);Wn&&(S.microformat=Wn);let Hn=le(t.overlay);Hn&&(S.overlay=Hn);let Jn=ze(t.alerts,[or,B_]);Jn.length&&(S.alerts=Jn);let Gn=t.refinements;Gn&&(S.refinements=Gn);let zn=t.estimatedResults?parseInt(t.estimatedResults):null;zn&&(S.estimated_results=zn);let $n=$e(t.playerOverlays);$n&&(S.player_overlays=$n);let Kn=t.playbackTracking?{videostats_watchtime_url:t.playbackTracking.videostatsWatchtimeUrl.baseUrl,videostats_playback_url:t.playbackTracking.videostatsPlaybackUrl.baseUrl}:null;Kn&&(S.playback_tracking=Kn);let qn=t.playabilityStatus?{status:t.playabilityStatus.status,reason:t.playabilityStatus.reason||"",embeddable:!!t.playabilityStatus.playableInEmbed||!1,audio_only_playablility:le(t.playabilityStatus.audioOnlyPlayability,U_),error_screen:le(t.playabilityStatus.errorScreen)}:null;if(qn&&(S.playability_status=qn),t.streamingData){let et=new Map,Ee={expires:new Date(Date.now()+parseInt(t.streamingData.expiresInSeconds)*1e3),formats:Eb(t.streamingData.formats,et),adaptive_formats:Eb(t.streamingData.adaptiveFormats,et),dash_manifest_url:t.streamingData.dashManifestUrl||null,hls_manifest_url:t.streamingData.hlsManifestUrl||null};S.streaming_data=Ee}if(t.playerConfig){let et={audio_config:{loudness_db:(s=t.playerConfig.audioConfig)===null||s===void 0?void 0:s.loudnessDb,perceptual_loudness_db:(u=t.playerConfig.audioConfig)===null||u===void 0?void 0:u.perceptualLoudnessDb,enable_per_format_loudness:(p=t.playerConfig.audioConfig)===null||p===void 0?void 0:p.enablePerFormatLoudness},stream_selection_config:{max_bitrate:((f=t.playerConfig.streamSelectionConfig)===null||f===void 0?void 0:f.maxBitrate)||"0"},media_common_config:{dynamic_readahead_config:{max_read_ahead_media_time_ms:((h=(m=t.playerConfig.mediaCommonConfig)===null||m===void 0?void 0:m.dynamicReadaheadConfig)===null||h===void 0?void 0:h.maxReadAheadMediaTimeMs)||0,min_read_ahead_media_time_ms:((w=(x=t.playerConfig.mediaCommonConfig)===null||x===void 0?void 0:x.dynamicReadaheadConfig)===null||w===void 0?void 0:w.minReadAheadMediaTimeMs)||0,read_ahead_growth_rate_ms:((I=(T=t.playerConfig.mediaCommonConfig)===null||T===void 0?void 0:T.dynamicReadaheadConfig)===null||I===void 0?void 0:I.readAheadGrowthRateMs)||0}}};S.player_config=et}let Xn=t.currentVideoEndpoint?new g(t.currentVideoEndpoint):null;Xn&&(S.current_video_endpoint=Xn);let Qn=t.endpoint?new g(t.endpoint):null;Qn&&(S.endpoint=Qn);let de=le(t.captions,dg);de&&(S.captions=de);let It=t.videoDetails?new so(t.videoDetails):null;It&&(S.video_details=It);let Ue=ze(t.annotations,cg);Ue.length&&(S.annotations=Ue);let vi=le(t.storyboards,[Eo,mg]);vi&&(S.storyboards=vi);let To=le(t.endscreen,i0);To&&(S.endscreen=To);let Ce=le(t.cards,xv);Ce&&(S.cards=Ce);let Ze=ze(t.engagementPanels,Yi);return Ze.length&&(S.engagement_panels=Ze),S}n(wE,"parseResponse");function le(t,e){if(!t)return null;let i=Object.keys(t);if(!i.length)return null;let o=Vh(i[0]);if(!GS(o))try{let s=zg(o)?Ah(o):Rh(o,t[i[0]],ao);if(e){if(Array.isArray(e)){if(!e.some(p=>p.type===s.type))return ao({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.map(p=>p.type)}),null}else if(s.type!==e.type)return ao({classdata:t[i[0]],classname:o,error_type:"typecheck",expected:e.type}),null}let u=new s(t[i[0]]);return yE(o,u),u}catch(r){return ao({classname:o,classdata:t[i[0]],error:r,error_type:"parse"}),null}return null}n(le,"parseItem");function ze(t,e){if(Array.isArray(t)){let i=[];for(let o of t){let r=le(o,e);r&&i.push(r)}return ee(i)}else if(!t)return ee([]);throw new kt("Expected array but got a single item")}n(ze,"parseArray");function $e(t,e,i){if(!t)return null;if(Array.isArray(t)){let o=[];for(let s of t){let u=le(s,i);u&&o.push(u)}let r=ee(o);return e?r:new ei(r)}else if(e)throw new kt("Expected array but got a single item");return new ei(le(t,i))}n($e,"parse");function zS(t){return t.timedContinuationData?new qo({continuation:t.timedContinuationData,type:"timed"}):null}n(zS,"parseC");function Cb(t){return t.itemSectionContinuation?new eo(t.itemSectionContinuation):t.sectionListContinuation?new pt(t.sectionListContinuation):t.liveChatContinuation?new ro(t.liveChatContinuation):t.musicPlaylistShelfContinuation?new oo(t.musicPlaylistShelfContinuation):t.musicShelfContinuation?new li(t.musicShelfContinuation):t.gridContinuation?new no(t.gridContinuation):t.playlistPanelContinuation?new Hr(t.playlistPanelContinuation):t.continuationCommand?new Ti(t.continuationCommand):null}n(Cb,"parseLC");function Xg(t){return ee(t.map(e=>{if(e.navigateAction)return new to(e.navigateAction);if(e.showMiniplayerCommand)return new Wr(e.showMiniplayerCommand);if(e.reloadContinuationItemsCommand)return new io(e.reloadContinuationItemsCommand);if(e.appendContinuationItemsAction)return new Ro(e.appendContinuationItemsAction)}).filter(e=>e))}n(Xg,"parseRR");function $S(t){return Array.isArray(t)?$e(t.map(e=>(delete e.clickTrackingParams,e))):new ei(le(t))}n($S,"parseActions");function Eb(t,e){return(t==null?void 0:t.map(i=>new qg(i,e)))||[]}n(Eb,"parseFormats");function KS(t,e){let i=t.getType(jt);if(i.length>0&&!e)ao({error_type:"mutation_data_missing",classname:"MusicMultiSelectMenuItem"});else{let o=[];for(let r of i){let s=e.find(p=>{var f,m;return((m=(f=p.payload)===null||f===void 0?void 0:f.musicFormBooleanChoice)===null||m===void 0?void 0:m.id)===r.form_item_entity_key}),u=s==null?void 0:s.payload.musicFormBooleanChoice;(u==null?void 0:u.selected)!==void 0&&(u==null?void 0:u.opaqueToken)?r.selected=u.selected:o.push(`'${r.title}'`)}o.length>0&&ao({error_type:"mutation_data_invalid",classname:"MusicMultiSelectMenuItem",total:i.length,failed:o.length,titles:o})}}n(KS,"applyMutations");function qS(t,e){var i,o,r,s,u,p;let f=t.getType(Gi);if(f.length>0){e||ao({error_type:"mutation_data_missing",classname:"CommentView"});for(let m of f){let h=(o=(i=e.find(T=>{var I,S;return((S=(I=T.payload)===null||I===void 0?void 0:I.commentEntityPayload)===null||S===void 0?void 0:S.key)===m.keys.comment}))===null||i===void 0?void 0:i.payload)===null||o===void 0?void 0:o.commentEntityPayload,x=(s=(r=e.find(T=>{var I,S;return((S=(I=T.payload)===null||I===void 0?void 0:I.engagementToolbarStateEntityPayload)===null||S===void 0?void 0:S.key)===m.keys.toolbar_state}))===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.engagementToolbarStateEntityPayload,w=(p=(u=e.find(T=>T.entityKey===m.keys.toolbar_surface))===null||u===void 0?void 0:u.payload)===null||p===void 0?void 0:p.engagementToolbarSurfaceEntityPayload;m.applyMutations(h,x,w)}}}n(qS,"applyCommentsMutations");var Ob={};D(Ob,{AccountInfo:()=>Zg,Analytics:()=>tx,Channel:()=>Re,ChannelListContinuation:()=>rn,Comments:()=>rx,FilteredChannelList:()=>fo,Guide:()=>ax,HashtagFeed:()=>di,History:()=>Qr,HomeFeed:()=>Gt,ItemMenu:()=>dx,Library:()=>mx,LiveChat:()=>bx,NotificationsMenu:()=>wx,Playlist:()=>Ii,Search:()=>Tx,Settings:()=>Ix,SmoothedQueue:()=>vx,TimeWatched:()=>Sx,TranscriptInfo:()=>nx,VideoInfo:()=>Gh});var Jr,Qg=class{constructor(e){if(Jr.set(this,void 0),k(this,Jr,c.parseResponse(e.data),"f"),!d(this,Jr,"f").contents)throw new v("Page contents not found");let i=d(this,Jr,"f").contents.array().as(A_).first();if(!i)throw new v("Account section list not found");this.contents=i.contents,this.footers=i.footers}get page(){return d(this,Jr,"f")}};n(Qg,"AccountInfo");Jr=new WeakMap;var Zg=Qg;var Mh,ex=class{constructor(e){var i;Mh.set(this,void 0),k(this,Mh,c.parseResponse(e.data),"f"),this.sections=(i=d(this,Mh,"f").contents_memo)===null||i===void 0?void 0:i.getType(wr).map(o=>o.model).flatMap(o=>o||[])}get page(){return d(this,Mh,"f")}};n(ex,"Analytics");Mh=new WeakMap;var tx=ex;var Oh,Ke,Zo,Dh,ft,XS,Nb,uo=class{constructor(e,i,o=!1){Oh.add(this),Ke.set(this,void 0),Zo.set(this,void 0),Dh.set(this,void 0),ft.set(this,void 0),d(this,Oh,"m",XS).call(this,i)||o?k(this,Ke,i,"f"):k(this,Ke,c.parseResponse(i.data),"f");let r=Ab(d(this,Ke,"f").contents_memo,d(this,Ke,"f").continuation_contents_memo,d(this,Ke,"f").on_response_received_commands_memo,d(this,Ke,"f").on_response_received_endpoints_memo,d(this,Ke,"f").on_response_received_actions_memo,d(this,Ke,"f").sidebar_memo,d(this,Ke,"f").header_memo);if(!r)throw new v("No memo found in feed");k(this,ft,r,"f"),k(this,Dh,e,"f")}static getVideosFromMemo(e){return e.getType(ar,d0,Mr,cr,Vr,wi,Yg)}static getPlaylistsFromMemo(e){let i=e.getType(ti,u0),o=e.getType(Y0).filter(r=>["PLAYLIST","ALBUM","PODCAST"].includes(r.content_type));return o.length>0&&i.push(...o),i}get videos(){return uo.getVideosFromMemo(d(this,ft,"f"))}get posts(){return d(this,ft,"f").getType(Li,bg,Ag)}get channels(){return d(this,ft,"f").getType(bv,a0)}get playlists(){return uo.getPlaylistsFromMemo(d(this,ft,"f"))}get memo(){return d(this,ft,"f")}get page_contents(){var e;let i=(e=d(this,ft,"f").getType(be))===null||e===void 0?void 0:e.first().content,o=d(this,ft,"f").getType(io).first(),r=d(this,ft,"f").getType(Ro).first();return i||o||r}get shelves(){return d(this,ft,"f").getType(Br,Ig,pr)}getShelf(e){return this.shelves.get({title:e})}get secondary_contents(){var e,i;if(!(!((e=d(this,Ke,"f").contents)===null||e===void 0)&&e.is_node))return;let o=(i=d(this,Ke,"f").contents)===null||i===void 0?void 0:i.item();if(!!o.is(ai,Dg))return o.secondary_contents}get actions(){return d(this,Dh,"f")}get page(){return d(this,Ke,"f")}get has_continuation(){return d(this,Oh,"m",Nb).call(this).length>0}getContinuationData(){return y(this,void 0,void 0,function*(){if(d(this,Zo,"f")){if(d(this,Zo,"f").length===0)throw new v("There are no continuations.");return yield d(this,Zo,"f")[0].endpoint.call(d(this,Dh,"f"),{parse:!0})}if(k(this,Zo,d(this,Oh,"m",Nb).call(this),"f"),d(this,Zo,"f"))return this.getContinuationData()})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new uo(this.actions,e,!0)})}};n(uo,"Feed");Ke=new WeakMap,Zo=new WeakMap,Dh=new WeakMap,ft=new WeakMap,Oh=new WeakSet,XS=n(function(e){return!("data"in e)},"_Feed_isParsed"),Nb=n(function(){if(d(this,Ke,"f").header_memo){let e=d(this,Ke,"f").header_memo.getType(_e);return d(this,ft,"f").getType(_e).filter(i=>!e.includes(i))}return d(this,ft,"f").getType(_e)},"_Feed_getBodyContinuations");var ve=uo;var Gr,ix=class extends ve{constructor(e,i,o=!1){super(e,i,o),Gr.set(this,void 0)}get filter_chips(){var e,i;if(d(this,Gr,"f"))return d(this,Gr,"f")||[];if(((e=this.memo.getType(bi))===null||e===void 0?void 0:e.length)>1)throw new v("There are too many feed filter chipbars, you'll need to find the correct one yourself in this.page");if(((i=this.memo.getType(bi))===null||i===void 0?void 0:i.length)===0)throw new v("There are no feed filter chipbars");return k(this,Gr,this.memo.getType(xe),"f"),d(this,Gr,"f")||[]}get filters(){return this.filter_chips.map(e=>e.text.toString())||[]}getFilteredFeed(e){return y(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"){if(!this.filters.includes(e))throw new v("Filter not found",{available_filters:this.filters});o=this.filter_chips.find(s=>s.text.toString()===e)}else if(e.type==="ChipCloudChip")o=e;else throw new v("Invalid filter");if(!o)throw new v("Filter not found");if(o.is_selected)return this;let r=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!r)throw new v("Failed to get filtered feed");return new ve(this.actions,r,!0)})}};n(ix,"FilterableFeed");Gr=new WeakMap;var lo=ix;var Rb={};D(Rb,{Feed:()=>ve,FilterableFeed:()=>lo,MediaInfo:()=>po,TabbedFeed:()=>en});var co,Jt,zr,Lh,ox=class{constructor(e,i,o){var r,s;co.set(this,void 0),Jt.set(this,void 0),zr.set(this,void 0),Lh.set(this,void 0),k(this,Jt,i,"f");let u=c.parseResponse(e[0].data),p=!((r=e==null?void 0:e[1])===null||r===void 0)&&r.data?c.parseResponse(e[1].data):void 0;if(k(this,co,[u,p],"f"),k(this,zr,o,"f"),((s=u.playability_status)===null||s===void 0?void 0:s.status)==="ERROR")throw new v("This video is unavailable",u.playability_status);this.streaming_data=u.streaming_data,this.playability_status=u.playability_status,this.player_config=u.player_config,k(this,Lh,u.playback_tracking,"f")}toDash(e,i){return y(this,arguments,void 0,function*(o,r,s={include_thumbnails:!1}){var u;let p=d(this,co,"f")[0];if(p.video_details&&p.video_details.is_live)throw new v("Generating DASH manifests for live videos is not supported. Please use the DASH and HLS manifests provided by YouTube in `streaming_data.dash_manifest_url` and `streaming_data.hls_manifest_url` instead.");let f;return s.include_thumbnails&&p.storyboards&&(f=p.storyboards),Po.toDash(this.streaming_data,(u=this.page[0].video_details)===null||u===void 0?void 0:u.is_post_live_dvr,o,r,d(this,zr,"f"),d(this,Jt,"f").session.player,d(this,Jt,"f"),f,s)})}getStreamingInfo(e,i){var o;return g_(this.streaming_data,(o=this.page[0].video_details)===null||o===void 0?void 0:o.is_post_live_dvr,e,i,this.cpn,d(this,Jt,"f").session.player,d(this,Jt,"f"),d(this,co,"f")[0].storyboards?d(this,co,"f")[0].storyboards:void 0)}chooseFormat(e){return Po.chooseFormat(e,this.streaming_data)}download(){return y(this,arguments,void 0,function*(e={}){let i=d(this,co,"f")[0];if(i.video_details&&(i.video_details.is_live||i.video_details.is_post_live_dvr))throw new v("Downloading is not supported for live and Post-Live-DVR videos, as they are split up into 5 second segments that are individual files, which require using a tool such as ffmpeg to stitch them together, so they cannot be returned in a single stream.");return Po.download(e,d(this,Jt,"f"),this.playability_status,this.streaming_data,d(this,Jt,"f").session.player,this.cpn)})}getTranscript(){return y(this,void 0,void 0,function*(){var e;let i=this.page[1];if(!i)throw new v("Cannot get transcript from basic video info.");if(!i.engagement_panels)throw new v("Engagement panels not found. Video likely has no transcript.");let o=i.engagement_panels.get({panel_identifier:"engagement-panel-searchable-transcript"});if(!o)throw new v("Transcript panel not found. Video likely has no transcript.");let r=(e=o.content)===null||e===void 0?void 0:e.as(_e);if(!r)throw new v("Transcript continuation not found.");let s=yield r.endpoint.call(this.actions);return new nx(this.actions,s)})}addToWatchHistory(){return y(this,arguments,void 0,function*(e=re.CLIENTS.WEB.NAME,i=re.CLIENTS.WEB.VERSION,o="https://www."){if(!d(this,Lh,"f"))throw new v("Playback tracking not available");let r={cpn:d(this,zr,"f"),fmt:251,rtn:0,rt:0},s=d(this,Lh,"f").videostats_playback_url.replace("https://s.",o);return yield d(this,Jt,"f").stats(s,{client_name:e,client_version:i},r)})}get actions(){return d(this,Jt,"f")}get cpn(){return d(this,zr,"f")}get page(){return d(this,co,"f")}};n(ox,"MediaInfo");co=new WeakMap,Jt=new WeakMap,zr=new WeakMap,Lh=new WeakMap;var po=ox;var tn,on,nn=class extends ve{constructor(e,i,o=!1){var r;super(e,i,o),tn.set(this,void 0),on.set(this,void 0),k(this,on,e,"f"),k(this,tn,(r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(be),"f")}get tabs(){var e,i;return(i=(e=d(this,tn,"f"))===null||e===void 0?void 0:e.map(o=>o.title.toString()))!==null&&i!==void 0?i:[]}getTabByName(e){return y(this,void 0,void 0,function*(){var i;let o=(i=d(this,tn,"f"))===null||i===void 0?void 0:i.find(s=>s.title.toLowerCase()===e.toLowerCase());if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,on,"f"));return new nn(d(this,on,"f"),r,!1)})}getTabByURL(e){return y(this,void 0,void 0,function*(){var i;let o=(i=d(this,tn,"f"))===null||i===void 0?void 0:i.find(s=>{var u;return((u=s.endpoint.metadata.url)===null||u===void 0?void 0:u.split("/").pop())===e});if(!o)throw new v(`Tab "${e}" not found`);if(o.selected)return this;let r=yield o.endpoint.call(d(this,on,"f"));return new nn(d(this,on,"f"),r,!1)})}hasTabWithURL(e){var i,o;return(o=(i=d(this,tn,"f"))===null||i===void 0?void 0:i.some(r=>{var s;return((s=r.endpoint.metadata.url)===null||s===void 0?void 0:s.split("/").pop())===e}))!==null&&o!==void 0?o:!1}get title(){var e,i,o;return(o=(i=(e=this.page.contents_memo)===null||e===void 0?void 0:e.getType(be))===null||i===void 0?void 0:i.find(r=>r.selected))===null||o===void 0?void 0:o.title.toString()}};n(nn,"TabbedFeed");tn=new WeakMap,on=new WeakMap;var en=nn;var Re=class extends en{constructor(e,i,o=!1){var r,s,u,p,f,m;super(e,i,o),this.header=(s=(r=this.page.header)===null||r===void 0?void 0:r.item())===null||s===void 0?void 0:s.as(ji,yv,x0,ri);let h=(u=this.page.metadata)===null||u===void 0?void 0:u.item().as(wv),x=(p=this.page.microformat)===null||p===void 0?void 0:p.as(ii);if(this.page.alerts){let w=this.page.alerts.first();if((w==null?void 0:w.alert_type)==="ERROR")throw new $r(w.text.toString())}if(!h&&!this.page.contents)throw new v("Invalid channel",this);this.metadata=Object.assign(Object.assign({},h),x||{}),this.subscribe_button=(f=this.page.header_memo)===null||f===void 0?void 0:f.getType(Ge).first(),this.current_tab=(m=this.page.contents)===null||m===void 0?void 0:m.item().as(ai).tabs.array().filterType(be,Tr).get({selected:!0})}applyFilter(e){return y(this,void 0,void 0,function*(){var i;let o,r=this.memo.getType(bi).first();if(typeof e=="string"){if(o=r==null?void 0:r.contents.get({text:e}),!o)throw new v(`Filter ${e} not found`,{available_filters:this.filters})}else e instanceof xe&&(o=e);if(!o)throw new v("Invalid filter",e);let s=yield(i=o.endpoint)===null||i===void 0?void 0:i.call(this.actions,{parse:!0});if(!s)throw new v("No page returned",{filter:o});return new fo(this.actions,s,!0)})}applySort(e){return y(this,void 0,void 0,function*(){var i,o;let r=this.memo.getType(Ft).first();if(!r)throw new v("No sort filter sub menu found");let s=(i=r==null?void 0:r.sub_menu_items)===null||i===void 0?void 0:i.find(p=>p.title===e);if(!s)throw new v(`Sort filter ${e} not found`,{available_sort_filters:this.sort_filters});if(s.selected)return this;let u=yield(o=s.endpoint)===null||o===void 0?void 0:o.call(this.actions,{parse:!0});return new Re(this.actions,u,!0)})}applyContentTypeFilter(e){return y(this,void 0,void 0,function*(){var i,o,r,s;let u=(r=(o=(i=this.current_tab)===null||i===void 0?void 0:i.content)===null||o===void 0?void 0:o.as(Q).sub_menu)===null||r===void 0?void 0:r.as(dl);if(!u)throw new v("Sub menu not found");let p=u.content_type_sub_menu_items.find(m=>m.title===e);if(!p)throw new v(`Sub menu item ${e} not found`,{available_filters:this.content_type_filters});if(p.selected)return this;let f=yield(s=p.endpoint)===null||s===void 0?void 0:s.call(this.actions,{parse:!0});return new Re(this.actions,f,!0)})}get filters(){var e,i;return((i=(e=this.memo.getType(bi))===null||e===void 0?void 0:e[0])===null||i===void 0?void 0:i.contents.filterType(xe).map(o=>o.text))||[]}get sort_filters(){var e;let i=this.memo.getType(Ft).first();return((e=i==null?void 0:i.sub_menu_items)===null||e===void 0?void 0:e.map(o=>o.title))||[]}get content_type_filters(){var e,i,o;let r=(o=(i=(e=this.current_tab)===null||e===void 0?void 0:e.content)===null||i===void 0?void 0:i.as(Q).sub_menu)===null||o===void 0?void 0:o.as(dl);return(r==null?void 0:r.content_type_sub_menu_items.map(s=>s.title))||[]}getHome(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("featured");return new Re(this.actions,e.page,!0)})}getVideos(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("videos");return new Re(this.actions,e.page,!0)})}getShorts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("shorts");return new Re(this.actions,e.page,!0)})}getLiveStreams(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("streams");return new Re(this.actions,e.page,!0)})}getReleases(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("releases");return new Re(this.actions,e.page,!0)})}getPodcasts(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("podcasts");return new Re(this.actions,e.page,!0)})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("playlists");return new Re(this.actions,e.page,!0)})}getCommunity(){return y(this,void 0,void 0,function*(){let e=yield this.getTabByURL("community");return new Re(this.actions,e.page,!0)})}getAbout(){return y(this,void 0,void 0,function*(){var e,i,o,r,s;if(this.hasTabWithURL("about"))return(yield this.getTabByURL("about")).memo.getType(ol)[0];let u=((e=this.header)===null||e===void 0?void 0:e.is(ji))&&this.header.tagline;if(u||((i=this.header)===null||i===void 0?void 0:i.is(ri))&&((o=this.header.content)===null||o===void 0?void 0:o.description)){if(u&&u.more_endpoint instanceof g){let m=yield u.more_endpoint.call(this.actions);return new en(this.actions,m,!1).memo.getType(ol)[0]}let p=(s=(r=this.page.header_memo)===null||r===void 0?void 0:r.getType(_e)[0])===null||s===void 0?void 0:s.endpoint;if(!p)throw new v("Failed to extract continuation to get channel about");let f=yield p.call(this.actions,{parse:!0});if(!f.on_response_received_endpoints_memo)throw new v("Unexpected response while fetching channel about",{response:f});return f.on_response_received_endpoints_memo.getType(C_)[0]}throw new v("About not found")})}search(e){return y(this,void 0,void 0,function*(){var i,o;let r=(i=this.memo.getType(Tr))===null||i===void 0?void 0:i[0];if(!r)throw new v("Search tab not found",this);let s=yield(o=r.endpoint)===null||o===void 0?void 0:o.call(this.actions,{query:e,parse:!0});return new Re(this.actions,s,!0)})}get has_home(){return this.hasTabWithURL("featured")}get has_videos(){return this.hasTabWithURL("videos")}get has_shorts(){return this.hasTabWithURL("shorts")}get has_live_streams(){return this.hasTabWithURL("streams")}get has_releases(){return this.hasTabWithURL("releases")}get has_podcasts(){return this.hasTabWithURL("podcasts")}get has_playlists(){return this.hasTabWithURL("playlists")}get has_community(){return this.hasTabWithURL("community")}get has_about(){var e,i,o,r,s;return this.hasTabWithURL("about")||!!(((e=this.header)===null||e===void 0?void 0:e.is(ji))&&((i=this.header.tagline)===null||i===void 0?void 0:i.more_endpoint))||!!(((o=this.header)===null||o===void 0?void 0:o.is(ri))&&((s=(r=this.header.content)===null||r===void 0?void 0:r.description)===null||s===void 0?void 0:s.more_endpoint))}get has_search(){var e;return((e=this.memo.getType(Tr))===null||e===void 0?void 0:e.length)>0}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new rn(this.actions,i,!0)})}};n(Re,"Channel");var rn=class extends ve{constructor(e,i,o=!1){var r,s;super(e,i,o),this.contents=((r=this.page.on_response_received_actions)===null||r===void 0?void 0:r.first())||((s=this.page.on_response_received_endpoints)===null||s===void 0?void 0:s.first())}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!i)throw new v("Could not get continuation data");return new rn(this.actions,i,!0)})}};n(rn,"ChannelListContinuation");var fo=class extends lo{constructor(e,i,o=!1){super(e,i,o),this.applied_filter=this.memo.getType(xe).get({is_selected:!0}),this.page.on_response_received_actions&&this.page.on_response_received_actions.length>1&&this.page.on_response_received_actions.shift(),this.contents=this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new fo(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=yield e.getContinuationData.call(this);if(!(i!=null&&i.on_response_received_actions_memo))throw new v("Unexpected continuation data",i);return i.on_response_received_actions_memo.set("FeedFilterChipBar",this.memo.getType(bi)),i.on_response_received_actions_memo.set("ChipCloudChip",this.memo.getType(xe)),new fo(this.actions,i,!0)})}};n(fo,"FilteredChannelList");var Kr,ci,qr,sn=class{constructor(e,i,o=!1){var r,s,u;Kr.set(this,void 0),ci.set(this,void 0),qr.set(this,void 0),k(this,Kr,o?i:c.parseResponse(i),"f"),k(this,ci,e,"f");let p=d(this,Kr,"f").on_response_received_endpoints;if(!p)throw new v("Comments page did not have any content.");let f=p.at(0),m=p.at(1);this.header=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.firstOfType(Ji);let h=((s=m==null?void 0:m.contents)===null||s===void 0?void 0:s.filterType(Hv))||[];this.contents=ee(h.map(x=>{var w;return(w=x.comment)===null||w===void 0||w.setActions(d(this,ci,"f")),x.setActions(d(this,ci,"f")),x})),k(this,qr,(u=m==null?void 0:m.contents)===null||u===void 0?void 0:u.firstOfType(_e),"f")}applySort(e){return y(this,void 0,void 0,function*(){var i,o,r,s;if(!this.header)throw new v("Page header is missing. Cannot apply sort option.");let u;if(e==="TOP_COMMENTS"?u=(o=(i=this.header.sort_menu)===null||i===void 0?void 0:i.sub_menu_items)===null||o===void 0?void 0:o.at(0):e==="NEWEST_FIRST"&&(u=(s=(r=this.header.sort_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.at(1)),!u)throw new v("Could not find target button.");if(u.selected)return this;let p=yield u.endpoint.call(d(this,ci,"f"),{parse:!0});return new sn(d(this,ci,"f"),p,!0)})}createComment(e){return y(this,void 0,void 0,function*(){var i;if(!this.header)throw new v("Page header is missing. Cannot create comment.");let o=(i=this.header.create_renderer)===null||i===void 0?void 0:i.as(Wv).submit_button;if(!o)throw new v("Could not find target button. You are probably not logged in.");if(!o.endpoint)throw new v("Button does not have an endpoint.");return yield o.endpoint.call(d(this,ci,"f"),{commentText:e})})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,qr,"f"))throw new v("Continuation not found");let e=yield d(this,qr,"f").endpoint.call(d(this,ci,"f"),{parse:!0}),i=Object.assign({},d(this,Kr,"f"));if(!i.on_response_received_endpoints||!e.on_response_received_endpoints)throw new v("Invalid reponse format, missing on_response_received_endpoints.");return i.on_response_received_endpoints.pop(),i.on_response_received_endpoints.push(e.on_response_received_endpoints[0]),new sn(d(this,ci,"f"),i,!0)})}get has_continuation(){return!!d(this,qr,"f")}get page(){return d(this,Kr,"f")}};n(sn,"Comments");Kr=new WeakMap,ci=new WeakMap,qr=new WeakMap;var rx=sn;var Bh,sx=class{constructor(e){Bh.set(this,void 0),k(this,Bh,c.parseResponse(e),"f"),this.contents=d(this,Bh,"f").items.array().as(Ir,p0)}get page(){return d(this,Bh,"f")}};n(sx,"Guide");Bh=new WeakMap;var ax=sx;var Xr=class extends ve{constructor(e,i,o=!1){super(e,i,o),this.sections=this.memo.getType(ye),this.feed_actions=this.memo.getType(G_).first()}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new Error("No continuation data found");return new Xr(this.actions,e,!0)})}};n(Xr,"History");var Qr=Xr;var Gt=class extends lo{constructor(e,i,o=!1){super(e,i,o),this.header=this.memo.getType(r0).first(),this.contents=this.memo.getType(Zi).first()||this.page.on_response_received_actions.first()}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new Gt(this.actions,o.page,!0)})}getContinuation(){let e=Object.create(null,{getContinuation:{get:()=>super.getContinuation}});return y(this,void 0,void 0,function*(){var i;let o=yield e.getContinuation.call(this);return o.page.header=this.page.header,(i=o.page.header_memo)===null||i===void 0||i.set(this.header.type,[this.header]),new Gt(this.actions,o.page,!0)})}};n(Gt,"HomeFeed");var di=class extends lo{constructor(e,i){if(super(e,i),!this.page.contents_memo)throw new v("Unexpected response",this.page);let o=this.page.contents_memo.getType(be).first();if(!o.content)throw new v("Content tab has no content",o);this.page.header&&(this.header=this.page.header.item().as(f0,ri)),this.contents=o.content.as(Zi)}applyFilter(e){let i=Object.create(null,{getFilteredFeed:{get:()=>super.getFilteredFeed}});return y(this,void 0,void 0,function*(){let o=yield i.getFilteredFeed.call(this,e);return new di(this.actions,o.page)})}};n(di,"HashtagFeed");var ux,lx,Fh,cx=class{constructor(e,i){ux.set(this,void 0),lx.set(this,void 0),Fh.set(this,void 0),k(this,ux,e,"f"),k(this,lx,i,"f");let o=e==null?void 0:e.live_chat_item_context_menu_supported_renderers;if(!o||!o.is(Y))throw new v('Response did not have a "live_chat_item_context_menu_supported_renderers" property. The call may have failed.');k(this,Fh,o.as(Y).items,"f")}selectItem(e){return y(this,void 0,void 0,function*(){let i;if(e instanceof C){if(!e.endpoint)throw new v("Item does not have an endpoint.");i=e.endpoint}else{let r=d(this,Fh,"f").find(s=>s.is($i)?s.as($i).icon_type===e:!1);if(!r||!r.is($i))throw new v(`Button "${e}" not found.`);i=r.endpoint}if(!i)throw new v("Target button does not have an endpoint.");return yield i.call(d(this,lx,"f"),{parse:!0})})}items(){return d(this,Fh,"f")}page(){return d(this,ux,"f")}};n(cx,"ItemMenu");ux=new WeakMap,lx=new WeakMap,Fh=new WeakMap;var dx=cx;var Yh,px,Zr=class extends ve{constructor(e,i,o=!1){var r,s,u,p,f;super(e,i,o),Yh.add(this);let m=this.memo.getType(vg).first(),h=this.memo.getType(xg).first(),x=this.memo.getType(yg).first(),w=(r=this.page.alerts)===null||r===void 0?void 0:r.firstOfType(or);if(w&&w.alert_type==="ERROR")throw new v(w.text.toString(),w);if(!h&&!x&&Object.keys(this.page).length===0)throw new v("Got empty continuation response. This is likely the end of the playlist.");this.info=Object.assign(Object.assign({},(s=this.page.metadata)===null||s===void 0?void 0:s.item().as(gg)),{subtitle:m?m.subtitle:null,author:(p=(u=x==null?void 0:x.owner)===null||u===void 0?void 0:u.as(Yr).author)!==null&&p!==void 0?p:m==null?void 0:m.author,thumbnails:(f=h==null?void 0:h.thumbnail_renderer)===null||f===void 0?void 0:f.as(yr,xr).thumbnail,total_items:d(this,Yh,"m",px).call(this,0,h),views:d(this,Yh,"m",px).call(this,1,h),last_updated:d(this,Yh,"m",px).call(this,2,h),can_share:m==null?void 0:m.can_share,can_delete:m==null?void 0:m.can_delete,is_editable:m==null?void 0:m.is_editable,privacy:m==null?void 0:m.privacy}),this.menu=h==null?void 0:h.menu,this.endpoint=h==null?void 0:h.endpoint,this.messages=this.memo.getType(We)}get items(){return ee(this.videos.as(Vr,Mr).filter(e=>e.style!=="PLAYLIST_VIDEO_RENDERER_STYLE_RECOMMENDED_VIDEO"))}get has_continuation(){let e=this.memo.getType(Q).first();return e?!!this.memo.getType(_e).find(i=>!e.contents.includes(i)):super.has_continuation}getContinuationData(){let e=Object.create(null,{getContinuationData:{get:()=>super.getContinuationData}});return y(this,void 0,void 0,function*(){let i=this.memo.getType(Q).first();if(!i)return yield e.getContinuationData.call(this);let o=this.memo.getType(_e).find(s=>!i.contents.includes(s));if(!o)throw new v("There are no continuations.");return yield o.endpoint.call(this.actions,{parse:!0})})}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new Zr(this.actions,e,!0)})}};n(Zr,"Playlist");Yh=new WeakSet,px=n(function(e,i){var o;return!i||!i.stats?"N/A":((o=i.stats[e])===null||o===void 0?void 0:o.toString())||"N/A"},"_Playlist_getStat");var Ii=Zr;var Vb,QS,fx=class extends ve{constructor(e,i){if(super(e,i),Vb.add(this),!this.page.contents_memo)throw new v("Page contents not found");this.header=this.memo.getType(ri).first();let o=this.page.contents_memo.getType(Br);this.sections=o.map(r=>{var s;return{type:r.icon_type,title:r.title,contents:((s=r.content)===null||s===void 0?void 0:s.key("items").array())||[],getAll:()=>d(this,Vb,"m",QS).call(this,r)}})}get history(){return this.sections.find(e=>e.type==="WATCH_HISTORY")}get watch_later(){return this.sections.find(e=>e.type==="WATCH_LATER")}get liked_videos(){return this.sections.find(e=>e.type==="LIKE")}get playlists_section(){return this.sections.find(e=>e.type==="PLAYLISTS")}get clips(){return this.sections.find(e=>e.type==="CONTENT_CUT")}};n(fx,"Library");Vb=new WeakSet,QS=n(function(e){return y(this,void 0,void 0,function*(){var i;if(!(!((i=e.menu)===null||i===void 0)&&i.as(Y).hasKey("top_level_buttons")))throw new v(`The ${e.title.text} shelf doesn't have more items`);let o=e.menu.as(Y).top_level_buttons.firstOfType(C);if(!o)throw new v("Did not find target button.");let r=yield o.as(C).endpoint.call(this.actions,{parse:!0});switch(e.icon_type){case"LIKE":case"WATCH_LATER":return new Ii(this.actions,r,!0);case"WATCH_HISTORY":return new Qr(this.actions,r,!0);case"CONTENT_CUT":return new ve(this.actions,r,!0);default:throw new v("Target shelf not implemented.")}})},"_Library_getAll");var mx=fx;var ki,mo,an,Et,zt,mt;function TE(t){let e=[];for(let i of t)if(Array.isArray(i))for(let o of i)e.push(o);else e.push(i);return e}n(TE,"flattenQueue");var hx=class{constructor(){this.front=[],this.back=[]}isEmpty(){return!this.front.length&&!this.back.length}clear(){this.front=[],this.back=[]}getValues(){return this.front.concat(this.back.reverse())}};n(hx,"DelayQueue");var _x=class{constructor(){ki.set(this,void 0),mo.set(this,void 0),an.set(this,void 0),Et.set(this,void 0),zt.set(this,void 0),mt.set(this,void 0),k(this,ki,null,"f"),k(this,mo,null,"f"),k(this,an,null,"f"),k(this,Et,[],"f"),k(this,zt,null,"f"),k(this,mt,new hx,"f")}enqueueActionGroup(e){if(d(this,ki,"f")!==null){let i=Date.now()-d(this,ki,"f");d(this,mt,"f").back.push(i),5<d(this,mt,"f").front.length+d(this,mt,"f").back.length&&(d(this,mt,"f").front.length||(d(this,mt,"f").front=d(this,mt,"f").back,d(this,mt,"f").front.reverse(),d(this,mt,"f").back=[]),d(this,mt,"f").front.pop()),k(this,mo,Math.max(...d(this,mt,"f").getValues()),"f")}k(this,ki,Date.now(),"f"),d(this,Et,"f").push(e),d(this,zt,"f")===null&&k(this,zt,setTimeout(this.emitSmoothedActions.bind(this)),"f")}emitSmoothedActions(){if(k(this,zt,null,"f"),d(this,Et,"f").length){let e=1e4;d(this,mo,"f")!==null&&d(this,ki,"f")!==null&&(e=d(this,mo,"f")-Date.now()+d(this,ki,"f")),e=d(this,Et,"f").length<e/80?1:Math.ceil(d(this,Et,"f").length/(e/80));let i=TE(d(this,Et,"f").splice(0,e));d(this,an,"f")&&d(this,an,"f").call(this,i),d(this,Et,"f")!==null&&(e==1?(e=d(this,mo,"f")/d(this,Et,"f").length,e*=Math.random()+.5,e=Math.min(1e3,e),e=Math.max(80,e)):e=80,k(this,zt,setTimeout(this.emitSmoothedActions.bind(this),e),"f"))}}clear(){d(this,zt,"f")!==null&&(clearTimeout(d(this,zt,"f")),k(this,zt,null,"f")),k(this,Et,[],"f")}set callback(e){k(this,an,e,"f")}get callback(){return d(this,an,"f")}get action_queue(){return d(this,Et,"f")}get estimated_update_interval(){return d(this,mo,"f")}get last_update_time(){return d(this,ki,"f")}get next_update_id(){return d(this,zt,"f")}get poll_response_delay_queue(){return d(this,mt,"f")}};n(_x,"SmoothedQueue");ki=new WeakMap,mo=new WeakMap,an=new WeakMap,Et=new WeakMap,zt=new WeakMap,mt=new WeakMap;var vx=_x;var Ye,Si,Wh,gx,ln,jh,Uh,Mb,xx,ZS,un,yx=class extends la{constructor(e){var i,o;super(),Ye.add(this),Si.set(this,void 0),Wh.set(this,void 0),gx.set(this,void 0),ln.set(this,void 0),jh.set(this,void 0),Uh.set(this,0),this.running=!1,this.is_replay=!1,k(this,Wh,e.basic_info.id,"f"),k(this,gx,e.basic_info.channel_id,"f"),k(this,Si,e.actions,"f"),k(this,ln,(i=e.livechat)===null||i===void 0?void 0:i.continuation,"f"),this.is_replay=((o=e.livechat)===null||o===void 0?void 0:o.is_replay)||!1,this.smoothed_queue=new vx,this.smoothed_queue.callback=r=>y(this,void 0,void 0,function*(){r.length?r.length<10?yield d(this,Ye,"m",xx).call(this,r):this.is_replay?(d(this,Ye,"m",xx).call(this,r),yield d(this,Ye,"m",un).call(this,2e3)):d(this,Ye,"m",xx).call(this,r):yield d(this,Ye,"m",un).call(this,2e3),this.running&&d(this,Ye,"m",Mb).call(this)})}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}start(){this.running||(this.running=!0,d(this,Ye,"m",Mb).call(this),d(this,Ye,"m",ZS).call(this))}stop(){this.smoothed_queue.clear(),this.running=!1}sendMessage(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Si,"f").execute("/live_chat/send_message",{params:ub(d(this,gx,"f"),d(this,Wh,"f")),richMessage:{textSegments:[{text:e}]},clientMessageId:j.shim.uuidv4(),client:"ANDROID",parse:!0});if(!i.actions)throw new v("Unexpected response from send_message",i);return i.actions.array().as(C0)})}applyFilter(e){var i,o,r,s,u,p,f;if(!this.initial_info)throw new v("Cannot apply filter before initial info is retrieved.");let m=(r=(o=(i=this.initial_info)===null||i===void 0?void 0:i.header)===null||o===void 0?void 0:o.view_selector)===null||r===void 0?void 0:r.sub_menu_items;if(e==="TOP_CHAT"){if(!((s=m==null?void 0:m.at(0))===null||s===void 0)&&s.selected)return;k(this,ln,(u=m==null?void 0:m.at(0))===null||u===void 0?void 0:u.continuation,"f")}else{if(!((p=m==null?void 0:m.at(1))===null||p===void 0)&&p.selected)return;k(this,ln,(f=m==null?void 0:m.at(1))===null||f===void 0?void 0:f.continuation,"f")}}getItemMenu(e){return y(this,void 0,void 0,function*(){if(!e.hasKey("menu_endpoint")||!e.key("menu_endpoint").isInstanceof(g))throw new v("This item does not have a menu.",e);let i=yield e.key("menu_endpoint").instanceof(g).call(d(this,Si,"f"),{parse:!0});if(!i)throw new v("Could not retrieve item menu.",e);return new dx(i,d(this,Si,"f"))})}selectButton(e){return y(this,void 0,void 0,function*(){return yield e.endpoint.call(d(this,Si,"f"),{parse:!0})})}};n(yx,"LiveChat");Si=new WeakMap,Wh=new WeakMap,gx=new WeakMap,ln=new WeakMap,jh=new WeakMap,Uh=new WeakMap,Ye=new WeakSet,Mb=n(function t(){y(this,void 0,void 0,function*(){var e,i;try{let o=yield d(this,Si,"f").execute(this.is_replay?"live_chat/get_live_chat_replay":"live_chat/get_live_chat",{continuation:d(this,ln,"f"),parse:!0}),r=o.continuation_contents;if(r||(this.emit("error",new v("Unexpected live chat incremental continuation response",o)),this.emit("end"),this.stop()),!(r instanceof ro)){this.stop(),this.emit("end");return}k(this,ln,r.continuation.token,"f"),r.header?(this.initial_info=r,this.emit("start",r),this.running&&d(this,Ye,"m",t).call(this)):this.smoothed_queue.enqueueActionGroup(r.actions),k(this,Uh,0,"f")}catch(o){this.emit("error",o),k(this,Uh,(i=d(this,Uh,"f"),e=i++,i),"f"),e<10?(yield d(this,Ye,"m",un).call(this,2e3),d(this,Ye,"m",t).call(this)):(this.emit("error",new v("Reached retry limit for incremental continuation requests",o)),this.emit("end"),this.stop())}})},"_LiveChat_pollLivechat"),xx=n(function(e){return y(this,void 0,void 0,function*(){let o=e.length<125?1:Math.ceil(e.length/125),r=o==1?(o=1e4/e.length,o*=Math.random()+.5,o=Math.min(1e3,o),o=Math.max(80,o)):o=80;for(let s of e)yield d(this,Ye,"m",un).call(this,r),this.emit("chat-update",s)})},"_LiveChat_emitSmoothedActions"),ZS=n(function t(){y(this,void 0,void 0,function*(){var e,i,o,r,s,u,p,f,m,h,x;try{let w={videoId:d(this,Wh,"f")};d(this,jh,"f")&&(w.continuation=d(this,jh,"f"));let T=yield d(this,Si,"f").execute("/updated_metadata",w),I=c.parseResponse(T.data);k(this,jh,(e=I.continuation)===null||e===void 0?void 0:e.token,"f"),this.metadata={title:((i=I.actions)===null||i===void 0?void 0:i.array().firstOfType(R0))||((o=this.metadata)===null||o===void 0?void 0:o.title),description:((r=I.actions)===null||r===void 0?void 0:r.array().firstOfType(A0))||((s=this.metadata)===null||s===void 0?void 0:s.description),views:((u=I.actions)===null||u===void 0?void 0:u.array().firstOfType(M0))||((p=this.metadata)===null||p===void 0?void 0:p.views),likes:((f=I.actions)===null||f===void 0?void 0:f.array().firstOfType(V0))||((m=this.metadata)===null||m===void 0?void 0:m.likes),date:((h=I.actions)===null||h===void 0?void 0:h.array().firstOfType(N0))||((x=this.metadata)===null||x===void 0?void 0:x.date)},this.emit("metadata-update",this.metadata),yield d(this,Ye,"m",un).call(this,5e3),this.running&&d(this,Ye,"m",t).call(this)}catch(w){yield d(this,Ye,"m",un).call(this,2e3),this.running&&d(this,Ye,"m",t).call(this)}})},"_LiveChat_pollMetadata"),un=n(function(e){return y(this,void 0,void 0,function*(){return new Promise(i=>setTimeout(()=>i(),e))})},"_LiveChat_wait");var bx=yx;var cn,Hh,es=class{constructor(e,i){cn.set(this,void 0),Hh.set(this,void 0),k(this,Hh,e,"f"),k(this,cn,c.parseResponse(i.data),"f"),this.header=d(this,cn,"f").actions_memo.getType(H0).first(),this.contents=d(this,cn,"f").actions_memo.getType(sg)}getContinuation(){return y(this,void 0,void 0,function*(){let e=d(this,cn,"f").actions_memo.getType(_e).first();if(!e)throw new v("Continuation not found");let i=yield e.endpoint.call(d(this,Hh,"f"),{parse:!1});return new es(d(this,Hh,"f"),i)})}get page(){return d(this,cn,"f")}};n(es,"NotificationsMenu");cn=new WeakMap,Hh=new WeakMap;var wx=es;var dn=class extends ve{constructor(e,i,o=!1){var r,s,u,p,f,m;super(e,i,o);let h=((r=this.page.contents_memo)===null||r===void 0?void 0:r.getType(Q).first().contents)||((s=this.page.on_response_received_commands)===null||s===void 0?void 0:s.first().contents);if(!h)throw new v("No contents found in search response");this.page.header&&(this.header=this.page.header.item().as(Sg)),this.results=(u=h.find(x=>x.is(ye)&&x.contents&&x.contents.length>0))===null||u===void 0?void 0:u.as(ye).contents,this.refinements=this.page.refinements||[],this.estimated_results=this.page.estimated_results,this.sub_menu=(p=this.page.contents_memo)===null||p===void 0?void 0:p.getType(Cg).first(),this.watch_card=(f=this.page.contents_memo)===null||f===void 0?void 0:f.getType(Bg).first(),this.refinement_cards=(m=this.results)===null||m===void 0?void 0:m.firstOfType(Bi)}selectRefinementCard(e){return y(this,void 0,void 0,function*(){var i,o;let r;if(typeof e=="string"){if(!this.refinement_cards)throw new v("No refinement cards found.");if(r=(o=(i=this.refinement_cards)===null||i===void 0?void 0:i.cards.get({query:e}))===null||o===void 0?void 0:o.as(Mo),!r)throw new v(`Refinement card "${e}" not found`,{available_cards:this.refinement_card_queries})}else if(e.type==="SearchRefinementCard")r=e;else throw new v("Invalid refinement card!");let s=yield r.endpoint.call(this.actions,{parse:!0});return new dn(this.actions,s,!0)})}get refinement_card_queries(){var e;return((e=this.refinement_cards)===null||e===void 0?void 0:e.cards.as(Mo).map(i=>i.query))||[]}getContinuation(){return y(this,void 0,void 0,function*(){let e=yield this.getContinuationData();if(!e)throw new v("Could not get continuation data");return new dn(this.actions,e,!0)})}};n(dn,"Search");var Tx=dn;var pn,Jh,ts=class{constructor(e,i){var o,r,s,u;if(pn.set(this,void 0),Jh.set(this,void 0),k(this,Jh,e,"f"),k(this,pn,c.parseResponse(i.data),"f"),this.sidebar=(o=d(this,pn,"f").sidebar)===null||o===void 0?void 0:o.as(Ng),!d(this,pn,"f").contents)throw new v("Page contents not found");let p=d(this,pn,"f").contents.item().as(ai).tabs.array().as(be).get({selected:!0});if(!p)throw new v("Target tab not found");let f=(r=p.content)===null||r===void 0?void 0:r.as(Q).contents.as(ye);this.introduction=(u=(s=f==null?void 0:f.shift())===null||s===void 0?void 0:s.contents)===null||u===void 0?void 0:u.firstOfType(ug),this.sections=f==null?void 0:f.map(m=>{var h;return{title:!((h=m.header)===null||h===void 0)&&h.is(Ji,kr,Sr)?m.header.title.toString():null,contents:m.contents}})}selectSidebarItem(e){return y(this,void 0,void 0,function*(){if(!this.sidebar)throw new v("Sidebar not available");let i;if(typeof e=="string"){if(i=this.sidebar.items.get({title:e}),!i)throw new v(`Item "${e}" not found`,{available_items:this.sidebar_items})}else if(e!=null&&e.is(gr))i=e;else throw new v("Invalid item",{target_item:e});let o=yield i.endpoint.call(d(this,Jh,"f"),{parse:!1});return new ts(d(this,Jh,"f"),o)})}getSettingOption(e){var i;if(!this.sections)throw new v("Sections not available");for(let o of this.sections)if(!!o.contents)for(let r of o.contents){let s=r.as(Lr).options;if(s){for(let u of s)if(u.is(Dr)&&((i=u.title)===null||i===void 0?void 0:i.toString())===e)return u}}throw new v(`Option "${e}" not found`,{available_options:this.setting_options})}get setting_options(){if(!this.sections)throw new v("Sections not available");let e=[];for(let i of this.sections)if(!!i.contents)for(let o of i.contents)o.as(Lr).options&&(e=e.concat(o.as(Lr).options));return e.map(i=>{var o;return(o=i.title)===null||o===void 0?void 0:o.toString()}).filter(i=>i)}get sidebar_items(){if(!this.sidebar)throw new v("Sidebar not available");return this.sidebar.items.map(e=>e.title.toString())}get page(){return d(this,pn,"f")}};n(ts,"Settings");pn=new WeakMap,Jh=new WeakMap;var Ix=ts;var is,kx=class{constructor(e){var i;if(is.set(this,void 0),k(this,is,c.parseResponse(e.data),"f"),!d(this,is,"f").contents)throw new v("Page contents not found");let o=d(this,is,"f").contents.item().as(si).tabs.get({selected:!0});if(!o)throw new v("Could not find target tab.");this.contents=(i=o.content)===null||i===void 0?void 0:i.as(Q).contents.as(ye)}get page(){return d(this,is,"f")}};n(kx,"TimeWatched");is=new WeakMap;var Sx=kx;var ho,os=class extends po{constructor(e,i,o){var r,s,u,p,f,m,h,x,w,T,I,S,P,R,$,W,ge,H,pe,Se,Ve,q,K,Z,ae,De,vt,Tt,X,He,Xt,Qt,Ie,lt,Un,Wn,Hn,Jn,Gn,zn,$n,Kn,qn,Xn,Qn;super(e,i,o),ho.set(this,void 0);let[de,It]=this.page;if(de.microformat&&!(!((r=de.microformat)===null||r===void 0)&&r.is(Ct,ii)))throw new v("Invalid microformat",de.microformat);if(this.basic_info=Object.assign(Object.assign(Object.assign({},de.video_details),{embed:!((s=de.microformat)===null||s===void 0)&&s.is(Ct)?(u=de.microformat)===null||u===void 0?void 0:u.embed:null,channel:!((p=de.microformat)===null||p===void 0)&&p.is(Ct)?(f=de.microformat)===null||f===void 0?void 0:f.channel:null,is_unlisted:(m=de.microformat)===null||m===void 0?void 0:m.is_unlisted,is_family_safe:(h=de.microformat)===null||h===void 0?void 0:h.is_family_safe,category:!((x=de.microformat)===null||x===void 0)&&x.is(Ct)?(w=de.microformat)===null||w===void 0?void 0:w.category:null,has_ypc_metadata:!((T=de.microformat)===null||T===void 0)&&T.is(Ct)?(I=de.microformat)===null||I===void 0?void 0:I.has_ypc_metadata:null,start_timestamp:!((S=de.microformat)===null||S===void 0)&&S.is(Ct)?de.microformat.start_timestamp:null,end_timestamp:!((P=de.microformat)===null||P===void 0)&&P.is(Ct)?de.microformat.end_timestamp:null,view_count:((R=de.microformat)===null||R===void 0?void 0:R.is(Ct))&&isNaN(($=de.video_details)===null||$===void 0?void 0:$.view_count)?de.microformat.view_count:(W=de.video_details)===null||W===void 0?void 0:W.view_count}),{like_count:void 0,is_liked:void 0,is_disliked:void 0}),this.annotations=de.annotations,this.storyboards=de.storyboards,this.endscreen=de.endscreen,this.captions=de.captions,this.cards=de.cards,this.streaming_data){let Ce=this.streaming_data.adaptive_formats.find(Ze=>{var et;return(et=Ze.audio_track)===null||et===void 0?void 0:et.audio_is_default});if(Ce)this.streaming_data.formats.forEach(Ze=>Ze.language=Ce.language);else if(((ge=this.captions)===null||ge===void 0?void 0:ge.caption_tracks)&&((H=this.captions)===null||H===void 0?void 0:H.caption_tracks.length)>0){let Ze=this.captions.caption_tracks.find(Ee=>Ee.kind==="asr"),et=Ze==null?void 0:Ze.language_code;this.streaming_data.adaptive_formats.forEach(Ee=>{Ee.has_audio&&(Ee.language=et)}),this.streaming_data.formats.forEach(Ee=>Ee.language=et)}}let Ue=(pe=It==null?void 0:It.contents)===null||pe===void 0?void 0:pe.item().as(Fr),vi=Ue==null?void 0:Ue.results,To=Ue==null?void 0:Ue.secondary_results;if(vi&&To){if(((Se=de.microformat)===null||Se===void 0?void 0:Se.is(Ct))&&((Ve=de.microformat)===null||Ve===void 0?void 0:Ve.category)==="Gaming"){let Ee=(Z=(K=(q=vi.firstOfType(vh))===null||q===void 0?void 0:q.metadata)===null||K===void 0?void 0:K.rows)===null||Z===void 0?void 0:Z.firstOfType(um);Ee!=null&&Ee.is(um)&&(this.game_info={title:(De=(ae=Ee==null?void 0:Ee.contents)===null||ae===void 0?void 0:ae.firstOfType(sm))===null||De===void 0?void 0:De.title,release_year:(Tt=(vt=Ee==null?void 0:Ee.contents)===null||vt===void 0?void 0:vt.firstOfType(sm))===null||Tt===void 0?void 0:Tt.subtitle})}this.primary_info=vi.firstOfType(Fg),this.secondary_info=vi.firstOfType(vh),this.merchandise=vi.firstOfType(J0),this.related_chip_cloud=(X=To.firstOfType(Tg))===null||X===void 0?void 0:X.content.as(gt),Ue!=null&&Ue.playlist&&(this.playlist=Ue.playlist),this.watch_next_feed=((He=To.firstOfType(ye))===null||He===void 0?void 0:He.contents)||To,this.watch_next_feed&&Array.isArray(this.watch_next_feed)&&((Xt=this.watch_next_feed.at(-1))===null||Xt===void 0?void 0:Xt.is(_e))&&k(this,ho,(Qt=this.watch_next_feed.pop())===null||Qt===void 0?void 0:Qt.as(_e),"f"),this.player_overlays=(Ie=It==null?void 0:It.player_overlays)===null||Ie===void 0?void 0:Ie.item().as(Qi),Ue!=null&&Ue.autoplay&&(this.autoplay=Ue.autoplay);let Ce=(Un=(lt=this.primary_info)===null||lt===void 0?void 0:lt.menu)===null||Un===void 0?void 0:Un.top_level_buttons.firstOfType(zo);((Wn=Ce==null?void 0:Ce.like_button)===null||Wn===void 0?void 0:Wn.is(Pe))&&((Hn=Ce==null?void 0:Ce.dislike_button)===null||Hn===void 0?void 0:Hn.is(Pe))&&(this.basic_info.like_count=(Jn=Ce==null?void 0:Ce.like_button)===null||Jn===void 0?void 0:Jn.like_count,this.basic_info.is_liked=(Gn=Ce==null?void 0:Ce.like_button)===null||Gn===void 0?void 0:Gn.is_toggled,this.basic_info.is_disliked=(zn=Ce==null?void 0:Ce.dislike_button)===null||zn===void 0?void 0:zn.is_toggled);let Ze=(Kn=($n=this.primary_info)===null||$n===void 0?void 0:$n.menu)===null||Kn===void 0?void 0:Kn.top_level_buttons.firstOfType($o);if(Ze&&(this.basic_info.like_count=Ze.like_count,Ze.like_button)){let Ee=Ze.like_button.like_status_entity.like_status;this.basic_info.is_liked=Ee==="LIKE",this.basic_info.is_disliked=Ee==="DISLIKE"}let et=(qn=vi.get({target_id:"comments-entry-point"}))===null||qn===void 0?void 0:qn.as(ye);this.comments_entry_point_header=(Xn=et==null?void 0:et.contents)===null||Xn===void 0?void 0:Xn.firstOfType(Uv),this.livechat=(Qn=It==null?void 0:It.contents_memo)===null||Qn===void 0?void 0:Qn.getType(I0).first()}}selectFilter(e){return y(this,void 0,void 0,function*(){var i,o,r,s;if(!this.related_chip_cloud)throw new v("Chip cloud not found, cannot apply filter");let u;if(typeof e=="string"){let m=(o=(i=this.related_chip_cloud)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.get({text:e});if(!m)throw new v("Invalid filter",{available_filters:this.filters});u=m}else if(e!=null&&e.is(xe))u=e;else throw new v("Invalid cloud chip",e);if(u.is_selected)return this;let p=yield(r=u.endpoint)===null||r===void 0?void 0:r.call(this.actions,{parse:!0}),f=(s=p==null?void 0:p.on_response_received_endpoints)===null||s===void 0?void 0:s.get({target_id:"watch-next-feed"});return this.watch_next_feed=f==null?void 0:f.contents,this})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}getWatchNextContinuation(){return y(this,void 0,void 0,function*(){var e,i,o,r,s;if(!d(this,ho,"f"))throw new v("Watch next feed continuation not found");let u=yield(e=d(this,ho,"f"))===null||e===void 0?void 0:e.endpoint.call(this.actions,{parse:!0}),p=(i=u==null?void 0:u.on_response_received_endpoints)===null||i===void 0?void 0:i.get({type:"AppendContinuationItemsAction"});if(!p)throw new v("AppendContinuationItemsAction not found");return this.watch_next_feed=p==null?void 0:p.contents,!((r=(o=this.watch_next_feed)===null||o===void 0?void 0:o.at(-1))===null||r===void 0)&&r.is(_e)?k(this,ho,(s=this.watch_next_feed.pop())===null||s===void 0?void 0:s.as(_e),"f"):k(this,ho,void 0,"f"),this})}like(){return y(this,void 0,void 0,function*(){var e,i,o,r,s;let u=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType($o);if(u){let h=(o=u==null?void 0:u.like_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!u.like_button)throw new v("Like button not found",{video_id:this.basic_info.id});if(u.like_button.like_status_entity.like_status==="LIKE")throw new v("This video is already liked",{video_id:this.basic_info.id});return yield new g(h.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType(zo),f=p==null?void 0:p.like_button;if(!f)throw new v("Like button not found",{video_id:this.basic_info.id});if(!f.is(Pe))throw new v("Like button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new v("This video is already liked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}dislike(){return y(this,void 0,void 0,function*(){var e,i,o,r,s;let u=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType($o);if(u){let h=(o=u==null?void 0:u.dislike_button)===null||o===void 0?void 0:o.toggle_button;if(!h||!h.default_button||!u.dislike_button||!u.like_button)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(u.like_button.like_status_entity.like_status==="DISLIKE")throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield new g(h.default_button.on_tap.payload.commands.find(I=>I.innertubeCommand)).call(this.actions)}let p=(s=(r=this.primary_info)===null||r===void 0?void 0:r.menu)===null||s===void 0?void 0:s.top_level_buttons.firstOfType(zo),f=p==null?void 0:p.dislike_button;if(!f)throw new v("Dislike button not found",{video_id:this.basic_info.id});if(!f.is(Pe))throw new v("Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(f.is_toggled)throw new v("This video is already disliked",{video_id:this.basic_info.id});return yield f.endpoint.call(this.actions)})}removeRating(){return y(this,void 0,void 0,function*(){var e,i,o,r,s,u,p;let f,m=(i=(e=this.primary_info)===null||e===void 0?void 0:e.menu)===null||i===void 0?void 0:i.top_level_buttons.firstOfType($o);if(m){let I=(o=m==null?void 0:m.like_button)===null||o===void 0?void 0:o.toggle_button;if(!I||!I.default_button||!m.like_button)throw new v("Like button not found",{video_id:this.basic_info.id});let S=m.like_button.like_status_entity.like_status;if(S==="LIKE")f=(r=m==null?void 0:m.like_button)===null||r===void 0?void 0:r.toggle_button;else if(S==="DISLIKE")f=(s=m==null?void 0:m.dislike_button)===null||s===void 0?void 0:s.toggle_button;else throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});if(!f||!f.toggled_button)throw new v("Like/Dislike button not found",{video_id:this.basic_info.id});return yield new g(f.toggled_button.on_tap.payload.commands.find($=>$.innertubeCommand)).call(this.actions)}let h=(p=(u=this.primary_info)===null||u===void 0?void 0:u.menu)===null||p===void 0?void 0:p.top_level_buttons.firstOfType(zo),x=h==null?void 0:h.like_button,w=h==null?void 0:h.dislike_button;if(!(x!=null&&x.is(Pe))||!(w!=null&&w.is(Pe)))throw new v("Like/Dislike button is not a toggle button. This action is likely disabled for this video.",{video_id:this.basic_info.id});if(x!=null&&x.is_toggled?f=x:w!=null&&w.is_toggled&&(f=w),!f)throw new v("This video is not liked/disliked",{video_id:this.basic_info.id});return yield f.toggled_endpoint.call(this.actions)})}getLiveChat(){if(!this.livechat)throw new v("Live Chat is not available",{video_id:this.basic_info.id});return new bx(this)}getTrailerInfo(){var e,i;if(this.has_trailer){let o=(i=(e=this.playability_status.error_screen)===null||e===void 0?void 0:e.as(Cf).trailer)===null||i===void 0?void 0:i.player_response;if(o)return new os([{data:o}],this.actions,this.cpn)}return null}get filters(){var e,i;return((i=(e=this.related_chip_cloud)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.map(o=>{var r;return(r=o.text)===null||r===void 0?void 0:r.toString()}))||[]}get wn_has_continuation(){return!!d(this,ho,"f")}get autoplay_video_endpoint(){var e,i,o;return((o=(i=(e=this.autoplay)===null||e===void 0?void 0:e.sets)===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.autoplay_video)||null}get has_trailer(){var e;return!!(!((e=this.playability_status.error_screen)===null||e===void 0)&&e.is(Cf))}get music_tracks(){var e,i,o,r,s,u;let p=(i=(e=this.page[1])===null||e===void 0?void 0:e.engagement_panels)===null||i===void 0?void 0:i.filter(f=>{var m;return(m=f.content)===null||m===void 0?void 0:m.is(Do)});if(p!==void 0&&p.length>0){let f=(s=(r=(o=p[0].content)===null||o===void 0?void 0:o.as(Do))===null||r===void 0?void 0:r.items)===null||s===void 0?void 0:s.filterType(dr);if(f!==void 0&&f.length>0)return(u=f[0].carousel_lockups)===null||u===void 0?void 0:u.map(m=>{var h,x,w,T,I,S,P,R,$,W,ge,H,pe,Se,Ve,q,K,Z,ae;let De,vt,Tt,X,He,Xt;De=(x=(h=m.video_lockup)===null||h===void 0?void 0:h.title)===null||x===void 0?void 0:x.toString(),He=(w=m.video_lockup)===null||w===void 0?void 0:w.endpoint.payload.videoId;for(let Qt=0;Qt<m.info_rows.length;Qt++){let Ie=m.info_rows[Qt];if(Ie.info_row_expand_status_key===void 0)if(De===void 0){if(De=((T=Ie.default_metadata)===null||T===void 0?void 0:T.toString())||((I=Ie.expanded_metadata)===null||I===void 0?void 0:I.toString()),He===void 0){let lt=((S=Ie.default_metadata)===null||S===void 0?void 0:S.endpoint)||((P=Ie.expanded_metadata)===null||P===void 0?void 0:P.endpoint);He=(R=lt==null?void 0:lt.payload)===null||R===void 0?void 0:R.videoId}}else Tt=(($=Ie.default_metadata)===null||$===void 0?void 0:$.toString())||((W=Ie.expanded_metadata)===null||W===void 0?void 0:W.toString());else{if(((ge=Ie.info_row_expand_status_key)===null||ge===void 0?void 0:ge.indexOf("structured-description-music-section-artists-row-state-id"))!==-1&&(vt=((H=Ie.default_metadata)===null||H===void 0?void 0:H.toString())||((pe=Ie.expanded_metadata)===null||pe===void 0?void 0:pe.toString()),Xt===void 0)){let lt=((Se=Ie.default_metadata)===null||Se===void 0?void 0:Se.endpoint)||((Ve=Ie.expanded_metadata)===null||Ve===void 0?void 0:Ve.endpoint);Xt=(q=lt==null?void 0:lt.payload)===null||q===void 0?void 0:q.browseId}((K=Ie.info_row_expand_status_key)===null||K===void 0?void 0:K.indexOf("structured-description-music-section-licenses-row-state-id"))!==-1&&(X=((Z=Ie.default_metadata)===null||Z===void 0?void 0:Z.toString())||((ae=Ie.expanded_metadata)===null||ae===void 0?void 0:ae.toString()))}}return{song:De,artist:vt,album:Tt,license:X,videoId:He,channelId:Xt}})}return[]}};n(os,"VideoInfo");ho=new WeakMap;var Gh=os;var zh,$h,ns=class{constructor(e,i){zh.set(this,void 0),$h.set(this,void 0),k(this,zh,c.parseResponse(i.data),"f"),k(this,$h,e,"f"),this.transcript=d(this,zh,"f").actions_memo.getType(ir).first()}selectLanguage(e){return y(this,void 0,void 0,function*(){var i,o,r,s;let u=(s=(r=(o=(i=this.transcript.content)===null||i===void 0?void 0:i.footer)===null||o===void 0?void 0:o.language_menu)===null||r===void 0?void 0:r.sub_menu_items)===null||s===void 0?void 0:s.find(f=>f.title.toString()===e);if(!u)throw new Error(`Language not found: ${e}`);if(u.selected)return this;let p=yield d(this,$h,"f").execute("/get_transcript",{params:u.continuation});return new ns(d(this,$h,"f"),p)})}get languages(){var e,i,o,r;return((r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.map(s=>s.title.toString()))||[]}get selectedLanguage(){var e,i,o,r,s;return((s=(r=(o=(i=(e=this.transcript.content)===null||e===void 0?void 0:e.footer)===null||i===void 0?void 0:i.language_menu)===null||o===void 0?void 0:o.sub_menu_items)===null||r===void 0?void 0:r.find(u=>u.selected))===null||s===void 0?void 0:s.title.toString())||""}get page(){return d(this,zh,"f")}};n(ns,"TranscriptInfo");zh=new WeakMap,$h=new WeakMap;var nx=ns;var Lb={};D(Lb,{Album:()=>Ex,Artist:()=>Ax,Explore:()=>Vx,HomeFeed:()=>Mx,Library:()=>Ox,LibraryContinuation:()=>_n,Playlist:()=>ps,Recap:()=>Lx,Search:()=>Bx,TrackInfo:()=>e_});var Ci,Cx=class{constructor(e){var i,o,r;if(Ci.set(this,void 0),k(this,Ci,c.parseResponse(e.data),"f"),this.header=(i=d(this,Ci,"f").header)===null||i===void 0?void 0:i.item().as(Jo),this.url=((o=d(this,Ci,"f").microformat)===null||o===void 0?void 0:o.as(ii).url_canonical)||null,!d(this,Ci,"f").contents_memo)throw new Error("No contents found in the response");this.contents=(r=d(this,Ci,"f").contents_memo.getType(we))===null||r===void 0?void 0:r.first().contents,this.sections=d(this,Ci,"f").contents_memo.getType(Fe)||[]}get page(){return d(this,Ci,"f")}};n(Cx,"Album");Ci=new WeakMap;var Ex=Cx;var rs,Px,Nx=class{constructor(e,i){var o,r,s;rs.set(this,void 0),Px.set(this,void 0),k(this,rs,c.parseResponse(e.data),"f"),k(this,Px,i,"f"),this.header=(o=this.page.header)===null||o===void 0?void 0:o.item().as(eg,rg,Xi);let u=((r=d(this,rs,"f").contents_memo)===null||r===void 0?void 0:r.getType(we))||[],p=((s=d(this,rs,"f").contents_memo)===null||s===void 0?void 0:s.getType(Fe))||[];this.sections=ee([...u,...p])}getAllSongs(){return y(this,void 0,void 0,function*(){var e,i;let o=this.sections.filter(p=>p.type==="MusicShelf");if(!o.length)throw new v("Could not find any node of type MusicShelf.");let r=o.find(p=>p.title.toString()==="Songs");if(!r)throw new v("Could not find target shelf (Songs).");if(!r.endpoint)throw new v("Target shelf (Songs) did not have an endpoint.");return(i=(e=(yield r.endpoint.call(d(this,Px,"f"),{client:"YTMUSIC",parse:!0})).contents_memo)===null||e===void 0?void 0:e.getType(Go))===null||i===void 0?void 0:i.first()})}get page(){return d(this,rs,"f")}};n(Nx,"Artist");rs=new WeakMap,Px=new WeakMap;var Ax=Nx;var Kh,Rx=class{constructor(e){var i,o,r;Kh.set(this,void 0),k(this,Kh,c.parseResponse(e.data),"f");let s=(i=d(this,Kh,"f").contents)===null||i===void 0?void 0:i.item().as(si).tabs.get({selected:!0});if(!s)throw new v("Could not find target tab.");let u=(o=s.content)===null||o===void 0?void 0:o.as(Q);if(!u)throw new v("Target tab did not have any content.");this.top_buttons=((r=u.contents.firstOfType(jo))===null||r===void 0?void 0:r.items.as(Pr))||[],this.sections=u.contents.filterType(Fe)}get page(){return d(this,Kh,"f")}};n(Rx,"Explore");Kh=new WeakMap;var Vx=Rx;var _o,fn,mn,hn=class{constructor(e,i){var o,r,s,u,p,f;_o.set(this,void 0),fn.set(this,void 0),mn.set(this,void 0),k(this,fn,i,"f"),k(this,_o,c.parseResponse(e.data),"f");let m=(o=d(this,_o,"f").contents)===null||o===void 0?void 0:o.item().as(si).tabs.get({selected:!0});if(!m)throw new v("Could not find Home tab.");if(m.content===null){if(!d(this,_o,"f").continuation_contents)throw new v("Continuation did not have any content.");k(this,mn,d(this,_o,"f").continuation_contents.as(pt).continuation,"f"),this.sections=(r=d(this,_o,"f").continuation_contents.as(pt).contents)===null||r===void 0?void 0:r.as(Fe);return}this.header=(u=(s=m.content)===null||s===void 0?void 0:s.as(Q).header)===null||u===void 0?void 0:u.as(gt),k(this,mn,(p=m.content)===null||p===void 0?void 0:p.as(Q).continuation,"f"),this.sections=(f=m.content)===null||f===void 0?void 0:f.as(Q).contents.as(Fe,ng)}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,mn,"f"))throw new v("Continuation not found.");let e=yield d(this,fn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,mn,"f")});return new hn(e,d(this,fn,"f"))})}applyFilter(e){return y(this,void 0,void 0,function*(){var i,o;let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(xe).get({text:e}),!r)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(xe)&&(r=e);if(!r)throw new v("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new v("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,fn,"f"),{client:"YTMUSIC"});return new hn(s,d(this,fn,"f"))})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(xe).map(o=>o.text))||[]}get has_continuation(){return!!d(this,mn,"f")}get page(){return d(this,_o,"f")}};n(hn,"HomeFeed");_o=new WeakMap,fn=new WeakMap,mn=new WeakMap;var Mx=hn;var pi,vo,ss,as,qh,us,ls=class{constructor(e,i){var o,r,s,u,p;pi.set(this,void 0),vo.set(this,void 0),ss.set(this,void 0),k(this,pi,c.parseResponse(e.data),"f"),k(this,vo,i,"f");let f=(o=d(this,pi,"f").contents_memo)===null||o===void 0?void 0:o.getType(Q).first();this.header=(r=f==null?void 0:f.header)===null||r===void 0?void 0:r.as(ig),this.contents=(s=f==null?void 0:f.contents)===null||s===void 0?void 0:s.as(jo,we),k(this,ss,(p=(u=this.contents)===null||u===void 0?void 0:u.find(m=>m.continuation))===null||p===void 0?void 0:p.continuation,"f")}applySort(e){return y(this,void 0,void 0,function*(){var i,o,r,s,u,p,f,m,h,x;let w;if(typeof e=="string"){let P=(i=d(this,pi,"f").contents_memo)===null||i===void 0?void 0:i.getType(cf).first(),R=(o=P==null?void 0:P.menu)===null||o===void 0?void 0:o.options.filter($=>$ instanceof jt);if(w=R==null?void 0:R.find($=>$.title===e),!w)throw new v(`Sort option "${e}" not found`,{available_filters:R.map($=>$.title)})}else e instanceof jt&&(w=e);if(!w)throw new v("Invalid sort option");if(w.selected)return this;let T=(p=(u=(s=(r=w.endpoint)===null||r===void 0?void 0:r.payload)===null||s===void 0?void 0:s.commands)===null||u===void 0?void 0:u.find(P=>P.browseSectionListReloadEndpoint))===null||p===void 0?void 0:p.browseSectionListReloadEndpoint;if(!T)throw new v("Failed to find sort option command");let I=yield d(this,vo,"f").execute("/browse",{client:"YTMUSIC",continuation:T.continuation.reloadContinuationData.continuation,parse:!0}),S=(m=(f=d(this,pi,"f").contents_memo)===null||f===void 0?void 0:f.getType(jt))===null||m===void 0?void 0:m.find(P=>P.selected);return S&&(S.selected=!1),w.selected=!0,this.contents=(x=(h=I.continuation_contents)===null||h===void 0?void 0:h.as(pt).contents)===null||x===void 0?void 0:x.as(jo,we),this})}applyFilter(e){return y(this,void 0,void 0,function*(){var i,o,r,s;let u,p=(i=d(this,pi,"f").contents_memo)===null||i===void 0?void 0:i.getType(gt).first();if(typeof e=="string"){if(u=p==null?void 0:p.chips.get({text:e}),!u)throw new v(`Filter "${e}" not found`,{available_filters:this.filters})}else e instanceof xe&&(u=e);if(!u)throw new v("Invalid filter",e);let m=yield new g((s=(r=(o=u.endpoint)===null||o===void 0?void 0:o.payload)===null||r===void 0?void 0:r.commands)===null||s===void 0?void 0:s[0]).call(d(this,vo,"f"),{client:"YTMUSIC"});return new ls(m,d(this,vo,"f"))})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,ss,"f"))throw new v("No continuation available");let e=yield d(this,vo,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,ss,"f")});return new _n(e,d(this,vo,"f"))})}get has_continuation(){return!!d(this,ss,"f")}get sort_options(){var e,i;let o=(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType(cf).first();return((i=o==null?void 0:o.menu)===null||i===void 0?void 0:i.options.filter(s=>s instanceof jt)).map(s=>s.title)}get filters(){var e,i;return((i=(e=d(this,pi,"f").contents_memo)===null||e===void 0?void 0:e.getType(gt))===null||i===void 0?void 0:i.first().chips.map(o=>o.text))||[]}get page(){return d(this,pi,"f")}};n(ls,"Library");pi=new WeakMap,vo=new WeakMap,ss=new WeakMap;var _n=class{constructor(e,i){if(as.set(this,void 0),qh.set(this,void 0),us.set(this,void 0),k(this,as,c.parseResponse(e.data),"f"),k(this,qh,i,"f"),!d(this,as,"f").continuation_contents)throw new v("No continuation contents found");this.contents=d(this,as,"f").continuation_contents.as(li,no),k(this,us,this.contents.continuation||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,us,"f"))throw new v("No continuation available");let e=yield d(this,qh,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,us,"f")});return new _n(e,d(this,qh,"f"))})}get has_continuation(){return!!d(this,us,"f")}get page(){return d(this,as,"f")}};n(_n,"LibraryContinuation");as=new WeakMap,qh=new WeakMap,us=new WeakMap;var Ox=ls;var Db,yt,gn,vn,cs,Xh,e1,ds=class{constructor(e,i){var o,r,s,u,p,f,m;if(Db.add(this),yt.set(this,void 0),gn.set(this,void 0),vn.set(this,void 0),cs.set(this,void 0),Xh.set(this,void 0),k(this,gn,i,"f"),k(this,yt,c.parseResponse(e.data),"f"),k(this,cs,null,"f"),k(this,Xh,null,"f"),d(this,yt,"f").continuation_contents){let h=(o=d(this,yt,"f").continuation_contents)===null||o===void 0?void 0:o.as(oo);this.items=h.contents,k(this,vn,h.continuation,"f")}else((r=d(this,yt,"f").header)===null||r===void 0?void 0:r.item().type)==="MusicEditablePlaylistDetailHeader"?this.header=(u=(s=d(this,yt,"f").header)===null||s===void 0?void 0:s.item().as(Z0).header)===null||u===void 0?void 0:u.as(Jo):this.header=(p=d(this,yt,"f").header)===null||p===void 0?void 0:p.item().as(Jo),this.items=((f=d(this,yt,"f").contents_memo)===null||f===void 0?void 0:f.getType(Go).first().contents)||null,k(this,vn,((m=d(this,yt,"f").contents_memo)===null||m===void 0?void 0:m.getType(Go).first().continuation)||null,"f")}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,vn,"f"))throw new v("Continuation not found.");let e=yield d(this,gn,"f").execute("/browse",{client:"YTMUSIC",continuation:d(this,vn,"f")});return new ds(e,d(this,gn,"f"))})}getRelated(){return y(this,void 0,void 0,function*(){var e,i,o,r,s;let u=(i=(e=d(this,yt,"f").contents_memo)===null||e===void 0?void 0:e.getType(Q))===null||i===void 0?void 0:i[0].continuation;for(;u;){let f=(o=(yield d(this,gn,"f").execute("/browse",{client:"YTMUSIC",continuation:u,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(pt),m=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Fe,we),h=(s=m==null?void 0:m.matchCondition(x=>x.is(Fe)))===null||s===void 0?void 0:s.as(Fe);if(h)return h;u=f==null?void 0:f.continuation}throw new v("Target section not found.")})}getSuggestions(){return y(this,arguments,void 0,function*(e=!0){let r=yield e||!d(this,cs,"f")?d(this,Db,"m",e1).call(this):Promise.resolve(null);return r&&(k(this,cs,r.items,"f"),k(this,Xh,r.continuation,"f")),(r==null?void 0:r.items)||d(this,cs,"f")})}get page(){return d(this,yt,"f")}get has_continuation(){return!!d(this,vn,"f")}};n(ds,"Playlist");yt=new WeakMap,gn=new WeakMap,vn=new WeakMap,cs=new WeakMap,Xh=new WeakMap,Db=new WeakSet,e1=n(function(){return y(this,void 0,void 0,function*(){var e,i,o,r,s;let u=d(this,Xh,"f")||((i=(e=d(this,yt,"f").contents_memo)===null||e===void 0?void 0:e.get("SectionList"))===null||i===void 0?void 0:i[0].as(Q).continuation);if(u){let f=(o=(yield d(this,gn,"f").execute("/browse",{client:"YTMUSIC",continuation:u,parse:!0})).continuation_contents)===null||o===void 0?void 0:o.as(pt),m=(r=f==null?void 0:f.contents)===null||r===void 0?void 0:r.as(Fe,we),h=(s=m==null?void 0:m.matchCondition(x=>x.is(we)))===null||s===void 0?void 0:s.as(we);return{items:(h==null?void 0:h.contents)||[],continuation:(h==null?void 0:h.continuation)||null}}return{items:[],continuation:null}})},"_Playlist_fetchSuggestions");var ps=ds;var go,Qh,Dx=class{constructor(e,i){var o,r,s,u,p,f,m;go.set(this,void 0),Qh.set(this,void 0),k(this,go,c.parseResponse(e.data),"f"),k(this,Qh,i,"f");let h=(o=d(this,go,"f").header)===null||o===void 0?void 0:o.item();this.header=h!=null&&h.is($p)?(u=(s=(r=d(this,go,"f").header)===null||r===void 0?void 0:r.item().as($p).element)===null||s===void 0?void 0:s.model)===null||u===void 0?void 0:u.as(Qc):(p=d(this,go,"f").header)===null||p===void 0?void 0:p.item().as(Xi);let x=(f=d(this,go,"f").contents)===null||f===void 0?void 0:f.item().as(si).tabs.firstOfType(be);if(!x)throw new v("Target tab not found");this.sections=(m=x.content)===null||m===void 0?void 0:m.as(Q).contents.as(ye,Fe,We)}getPlaylist(){return y(this,void 0,void 0,function*(){if(!this.header)throw new v("Header not found");if(!this.header.is(Qc))throw new v("Recap playlist not available, check back later.");let i=yield this.header.panels[0].text_on_tap_endpoint.call(d(this,Qh,"f"),{client:"YTMUSIC"});return new ps(i,d(this,Qh,"f"))})}get page(){return d(this,go,"f")}};n(Dx,"Recap");go=new WeakMap,Qh=new WeakMap;var Lx=Dx;var fi,Ei,fs,Zh,ms,xn=class{constructor(e,i,o){var r,s,u;if(fi.set(this,void 0),Ei.set(this,void 0),fs.set(this,void 0),k(this,Ei,i,"f"),k(this,fi,c.parseResponse(e.data),"f"),!d(this,fi,"f").contents||!d(this,fi,"f").contents_memo)throw new v("Response did not contain any contents.");let p=d(this,fi,"f").contents.item().as(Og).tabs.get({selected:!0});if(!p)throw new v("Could not find target tab.");let f=(r=p.content)===null||r===void 0?void 0:r.as(Q);if(!f)throw new v("Target tab did not have any content.");this.header=(s=f.header)===null||s===void 0?void 0:s.as(gt),this.contents=f.contents.as(we,$0,ye),o&&k(this,fs,(u=this.contents.firstOfType(we))===null||u===void 0?void 0:u.continuation,"f")}getMore(e){return y(this,void 0,void 0,function*(){if(!e||!e.endpoint)throw new v("Cannot retrieve more items for this shelf because it does not have an endpoint.");let i=yield e.endpoint.call(d(this,Ei,"f"),{client:"YTMUSIC"});if(!i)throw new v("Endpoint did not return any data");return new xn(i,d(this,Ei,"f"),!0)})}getContinuation(){return y(this,void 0,void 0,function*(){if(!d(this,fs,"f"))throw new v("Continuation not found.");let e=yield d(this,Ei,"f").execute("/search",{continuation:d(this,fs,"f"),client:"YTMUSIC"});return new hs(d(this,Ei,"f"),e)})}applyFilter(e){return y(this,void 0,void 0,function*(){var i,o;let r;if(typeof e=="string"){if(r=(o=(i=this.header)===null||i===void 0?void 0:i.chips)===null||o===void 0?void 0:o.as(xe).get({text:e}),!r)throw new v("Could not find filter with given name.",{available_filters:this.filters})}else e!=null&&e.is(xe)&&(r=e);if(!r)throw new v("Invalid filter",{available_filters:this.filters});if(r!=null&&r.is_selected)return this;if(!r.endpoint)throw new v("Selected filter does not have an endpoint.");let s=yield r.endpoint.call(d(this,Ei,"f"),{client:"YTMUSIC"});return new xn(s,d(this,Ei,"f"),!0)})}get filters(){var e,i;return((i=(e=this.header)===null||e===void 0?void 0:e.chips)===null||i===void 0?void 0:i.as(xe).map(o=>o.text))||[]}get has_continuation(){return!!d(this,fs,"f")}get did_you_mean(){var e;return(e=d(this,fi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Qv).first()}get showing_results_for(){var e;return(e=d(this,fi,"f").contents_memo)===null||e===void 0?void 0:e.getType(Rg).first()}get message(){var e;return(e=d(this,fi,"f").contents_memo)===null||e===void 0?void 0:e.getType(We).first()}get songs(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Songs")}get videos(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Videos")}get albums(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Albums")}get artists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Artists")}get playlists(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we).find(i=>i.title.toString()==="Community playlists")}get results(){var e,i;return(i=(e=this.contents)===null||e===void 0?void 0:e.firstOfType(we))===null||i===void 0?void 0:i.contents}get sections(){var e;return(e=this.contents)===null||e===void 0?void 0:e.filterType(we)}get page(){return d(this,fi,"f")}};n(xn,"Search");fi=new WeakMap,Ei=new WeakMap,fs=new WeakMap;var Bx=xn,hs=class{constructor(e,i){var o,r;Zh.set(this,void 0),ms.set(this,void 0),k(this,Zh,e,"f"),k(this,ms,c.parseResponse(i.data),"f"),this.header=(o=d(this,ms,"f").header)===null||o===void 0?void 0:o.item().as(Xi),this.contents=(r=d(this,ms,"f").continuation_contents)===null||r===void 0?void 0:r.as(li)}getContinuation(){return y(this,void 0,void 0,function*(){var e;if(!(!((e=this.contents)===null||e===void 0)&&e.continuation))throw new v("Continuation not found.");let i=yield d(this,Zh,"f").execute("/search",{continuation:this.contents.continuation,client:"YTMUSIC"});return new hs(d(this,Zh,"f"),i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}get page(){return d(this,ms,"f")}};n(hs,"SearchContinuation");Zh=new WeakMap,ms=new WeakMap;var Fx=class extends po{constructor(e,i,o){var r,s,u,p,f,m,h,x,w;super(e,i,o);let[T,I]=this.page;if(!(!((r=T.microformat)===null||r===void 0)&&r.is(ii)))throw new v("Invalid microformat",T.microformat);if(this.basic_info=Object.assign(Object.assign({},T.video_details),{description:(s=T.microformat)===null||s===void 0?void 0:s.description,is_unlisted:(u=T.microformat)===null||u===void 0?void 0:u.is_unlisted,is_family_safe:(p=T.microformat)===null||p===void 0?void 0:p.is_family_safe,url_canonical:(f=T.microformat)===null||f===void 0?void 0:f.url_canonical,tags:(m=T.microformat)===null||m===void 0?void 0:m.tags}),this.storyboards=T.storyboards,this.endscreen=T.endscreen,I){let S=(x=(h=I.contents_memo)===null||h===void 0?void 0:h.getType(jg))===null||x===void 0?void 0:x[0];this.tabs=S==null?void 0:S.tabs.array().as(be),this.current_video_endpoint=I.current_video_endpoint,this.player_overlays=(w=I.player_overlays)===null||w===void 0?void 0:w.item().as(Qi)}}getTab(e){return y(this,void 0,void 0,function*(){var i,o;if(!this.tabs)throw new v("Could not find any tab");let r=this.tabs.get({title:e})||this.tabs.matchCondition(u=>{var p,f;return((f=(p=u.endpoint.payload.browseEndpointContextSupportedConfigs)===null||p===void 0?void 0:p.browseEndpointContextMusicConfig)===null||f===void 0?void 0:f.pageType)===e})||((i=this.tabs)===null||i===void 0?void 0:i[0]);if(!r)throw new v(`Tab "${e}" not found`,{available_tabs:this.available_tabs});if(r.content)return r.content;let s=yield r.endpoint.call(this.actions,{client:"YTMUSIC",parse:!0});if(((o=s.contents)===null||o===void 0?void 0:o.item().type)==="Message")return s.contents.item().as(We);if(!s.contents)throw new v("Page contents was empty",s);return s.contents.item().as(Q).contents})}getUpNext(){return y(this,arguments,void 0,function*(e=!0){var i,o;let r=yield this.getTab("Up next");if(!r||!r.content)throw new v("Music queue was empty, the video id is probably invalid.",r);let s=r.content.as(ni);if(!s.playlist_id&&e){let u=s.contents.firstOfType(Di);if(!u)throw new v("Automix item not found");let p=yield(i=u.playlist_video)===null||i===void 0?void 0:i.endpoint.call(this.actions,{videoId:this.basic_info.id,client:"YTMUSIC",parse:!0});if(!p||!p.contents_memo)throw new v("Could not fetch automix");return(o=p.contents_memo.getType(ni))===null||o===void 0?void 0:o[0]}return s})}getRelated(){return y(this,void 0,void 0,function*(){return yield this.getTab("MUSIC_PAGE_TYPE_TRACK_RELATED")})}getLyrics(){return y(this,void 0,void 0,function*(){return(yield this.getTab("MUSIC_PAGE_TYPE_TRACK_LYRICS")).firstOfType(qi)})}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this,re.CLIENTS.YTMUSIC.NAME,re.CLIENTS.YTMUSIC.VERSION,"https://music.")})}get available_tabs(){return this.tabs?this.tabs.map(e=>e.title):[]}};n(Fx,"TrackInfo");var e_=Fx;var Bb={};D(Bb,{Channel:()=>Yx,HomeFeed:()=>jx,Search:()=>Wx,VideoInfo:()=>Jx});var _s=class extends ve{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(ji),this.contents=this.memo.getType(ye).first()||((s=this.page.continuation_contents)===null||s===void 0?void 0:s.as(eo))}getContinuation(){return y(this,void 0,void 0,function*(){var e;let i=yield this.actions.execute("/browse",{continuation:(e=this.contents)===null||e===void 0?void 0:e.continuation,client:"YTKIDS"});return new _s(this.actions,i)})}get has_continuation(){var e;return!!(!((e=this.contents)===null||e===void 0)&&e.continuation)}};n(_s,"Channel");var Yx=_s;var vs=class extends ve{constructor(e,i,o=!1){var r,s;super(e,i,o),this.header=(r=this.page.header)===null||r===void 0?void 0:r.item().as(Wg),this.contents=(s=this.page.contents)===null||s===void 0?void 0:s.item().as(Hg)}selectCategoryTab(e){return y(this,void 0,void 0,function*(){var i;let o;if(typeof e=="string"?o=(i=this.header)===null||i===void 0?void 0:i.category_tabs.find(s=>s.title.toString()===e):e!=null&&e.is(Ur)&&(o=e),!o)throw new v(`Tab "${e}" not found`);let r=yield o.endpoint.call(this.actions,{client:"YTKIDS",parse:!0});return r.header=this.page.header,r.header_memo=this.page.header_memo,new vs(this.actions,r,!0)})}get categories(){var e;return((e=this.header)===null||e===void 0?void 0:e.category_tabs.map(i=>i.title.toString()))||[]}};n(vs,"HomeFeed");var jx=vs;var Ux=class extends ve{constructor(e,i){super(e,i),this.estimated_results=this.page.estimated_results;let o=this.memo.getType(ye).first();if(!o)throw new v("No item section found in search response.");this.contents=o.contents}};n(Ux,"Search");var Wx=Ux;var Hx=class extends po{constructor(e,i,o){var r,s,u,p,f;super(e,i,o);let[m,h]=this.page;this.basic_info=m.video_details,this.captions=m.captions;let x=(r=h==null?void 0:h.contents)===null||r===void 0?void 0:r.item().as(Fr),w=x==null?void 0:x.results,T=x==null?void 0:x.secondary_results;w&&T&&(this.slim_video_metadata=(u=(s=w.firstOfType(ye))===null||s===void 0?void 0:s.contents)===null||u===void 0?void 0:u.firstOfType(Vg),this.watch_next_feed=((p=T.firstOfType(ye))===null||p===void 0?void 0:p.contents)||T,this.current_video_endpoint=h==null?void 0:h.current_video_endpoint,this.player_overlays=(f=h==null?void 0:h.player_overlays)===null||f===void 0?void 0:f.item().as(Qi))}addToWatchHistory(){let e=Object.create(null,{addToWatchHistory:{get:()=>super.addToWatchHistory}});return y(this,void 0,void 0,function*(){return e.addToWatchHistory.call(this)})}};n(Hx,"VideoInfo");var Jx=Hx;var Yb={};D(Yb,{VideoInfo:()=>uy});var Fb={};D(Fb,{Account:()=>wn,Browse:()=>zx,BrowseEndpoint:()=>B,Channel:()=>Pi,Comment:()=>qx,GetNotificationMenuEndpoint:()=>yn,GuideEndpoint:()=>gs,Kids:()=>ry,Like:()=>Xx,Music:()=>Qx,NextEndpoint:()=>ke,Notification:()=>xs,PlayerEndpoint:()=>st,Playlist:()=>ey,Reel:()=>Pt,ResolveURLEndpoint:()=>bn,SearchEndpoint:()=>bt,Subscription:()=>ty,Upload:()=>ny});var B={};D(B,{PATH:()=>IE,build:()=>kE});var IE="/browse";function kE(t){return Object.assign({browseId:t.browse_id,params:t.params,continuation:t.continuation,client:t.client})}n(kE,"build");var yn={};D(yn,{PATH:()=>SE,build:()=>CE});var SE="/notification/get_notification_menu";function CE(t){return Object.assign({notificationsMenuRequestType:t.notifications_menu_request_type})}n(CE,"build");var gs={};D(gs,{PATH:()=>EE});var EE="/guide";var ke={};D(ke,{PATH:()=>PE,build:()=>NE});var PE="/next";function NE(t){return Object.assign({videoId:t.video_id,playlistId:t.playlist_id,params:t.params,playlistIndex:t.playlist_index,client:t.client,continuation:t.continuation})}n(NE,"build");var st={};D(st,{PATH:()=>AE,build:()=>RE});var AE="/player";function RE(t){return Object.assign({playbackContext:{contentPlaybackContext:Object.assign({vis:0,splay:!1,referer:t.playlist_id?`https://www.youtube.com/watch?v=${t.video_id}&list=${t.playlist_id}`:`https://www.youtube.com/watch?v=${t.video_id}`,currentUrl:t.playlist_id?`/watch?v=${t.video_id}&list=${t.playlist_id}`:`/watch?v=${t.video_id}`,autonavState:"STATE_ON",autoCaptionsDefaultOn:!1,html5Preference:"HTML5_PREF_WANTS",lactMilliseconds:"-1"},{signatureTimestamp:t.sts})},attestationRequest:{omitBotguardData:!0},racyCheckOk:!0,contentCheckOk:!0,videoId:t.video_id},{client:t.client,playlistId:t.playlist_id,params:t.params})}n(RE,"build");var bn={};D(bn,{PATH:()=>VE,build:()=>ME});var VE="/navigation/resolve_url";function ME(t){return Object.assign({url:t.url})}n(ME,"build");var bt={};D(bt,{PATH:()=>OE,build:()=>DE});var OE="/search";function DE(t){return Object.assign({query:t.query,params:t.params,continuation:t.continuation,client:t.client})}n(DE,"build");var wn={};D(wn,{AccountListEndpoint:()=>Gx});var Gx={};D(Gx,{PATH:()=>LE,build:()=>BE});var LE="/account/accounts_list";function BE(){return{client:"ANDROID"}}n(BE,"build");var zx={};D(zx,{EditPlaylistEndpoint:()=>at});var at={};D(at,{PATH:()=>FE,build:()=>YE});var FE="/browse/edit_playlist";function YE(t){return{playlistId:t.playlist_id,actions:t.actions.map(e=>Object.assign({action:e.action},{addedVideoId:e.added_video_id,setVideoId:e.set_video_id,movedSetVideoIdPredecessor:e.moved_set_video_id_predecessor,playlistDescription:e.playlist_description,playlistName:e.playlist_name}))}}n(YE,"build");var Pi={};D(Pi,{EditDescriptionEndpoint:()=>Kx,EditNameEndpoint:()=>$x});var $x={};D($x,{PATH:()=>jE,build:()=>UE});var jE="/channel/edit_name";function UE(t){return{givenName:t.given_name,client:"ANDROID"}}n(UE,"build");var Kx={};D(Kx,{PATH:()=>WE,build:()=>HE});var WE="/channel/edit_description";function HE(t){return{givenDescription:t.given_description,client:"ANDROID"}}n(HE,"build");var qx={};D(qx,{CreateCommentEndpoint:()=>In,PerformCommentActionEndpoint:()=>Tn});var Tn={};D(Tn,{PATH:()=>JE,build:()=>GE});var JE="/comment/perform_comment_action";function GE(t){return Object.assign({actions:t.actions},{client:t.client})}n(GE,"build");var In={};D(In,{PATH:()=>zE,build:()=>$E});var zE="/comment/create_comment";function $E(t){return Object.assign({commentText:t.comment_text,createCommentParams:t.create_comment_params},{client:t.client})}n($E,"build");var Xx={};D(Xx,{DislikeEndpoint:()=>Sn,LikeEndpoint:()=>kn,RemoveLikeEndpoint:()=>Cn});var kn={};D(kn,{PATH:()=>KE,build:()=>qE});var KE="/like/like";function qE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(qE,"build");var Sn={};D(Sn,{PATH:()=>XE,build:()=>QE});var XE="/like/dislike";function QE(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(QE,"build");var Cn={};D(Cn,{PATH:()=>ZE,build:()=>eP});var ZE="/like/removelike";function eP(t){return Object.assign({target:{videoId:t.target.video_id}},{client:t.client})}n(eP,"build");var Qx={};D(Qx,{GetSearchSuggestionsEndpoint:()=>En});var En={};D(En,{PATH:()=>tP,build:()=>iP});var tP="/music/get_search_suggestions";function iP(t){return{input:t.input,client:"YTMUSIC"}}n(iP,"build");var xs={};D(xs,{GetUnseenCountEndpoint:()=>Zx,ModifyChannelPreferenceEndpoint:()=>Pn});var Zx={};D(Zx,{PATH:()=>oP});var oP="/notification/get_unseen_count";var Pn={};D(Pn,{PATH:()=>nP,build:()=>rP});var nP="/notification/modify_channel_preference";function rP(t){return Object.assign({params:t.params},{client:t.client})}n(rP,"build");var ey={};D(ey,{CreateEndpoint:()=>Nn,DeleteEndpoint:()=>An});var Nn={};D(Nn,{PATH:()=>sP,build:()=>aP});var sP="/playlist/create";function aP(t){return{title:t.title,ids:t.ids}}n(aP,"build");var An={};D(An,{PATH:()=>uP,build:()=>lP});var uP="/playlist/delete";function lP(t){return{playlistId:t.playlist_id}}n(lP,"build");var ty={};D(ty,{SubscribeEndpoint:()=>Rn,UnsubscribeEndpoint:()=>Vn});var Rn={};D(Rn,{PATH:()=>cP,build:()=>dP});var cP="/subscription/subscribe";function dP(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(dP,"build");var Vn={};D(Vn,{PATH:()=>pP,build:()=>fP});var pP="/subscription/unsubscribe";function fP(t){return Object.assign({channelIds:t.channel_ids},{client:t.client,params:t.params})}n(fP,"build");var Pt={};D(Pt,{WatchEndpoint:()=>iy,WatchSequenceEndpoint:()=>oy});var iy={};D(iy,{PATH:()=>mP,build:()=>hP});var mP="/reel/reel_item_watch";function hP(t){var e,i;return{playerRequest:{videoId:t.short_id,params:(e=t.params)!==null&&e!==void 0?e:"CAUwAg%3D%3D"},params:(i=t.params)!==null&&i!==void 0?i:"CAUwAg%3D%3D"}}n(hP,"build");var oy={};D(oy,{PATH:()=>_P,build:()=>vP});var _P="/reel/reel_watch_sequence";function vP(t){return{sequenceParams:t.sequenceParams}}n(vP,"build");var ny={};D(ny,{CreateVideoEndpoint:()=>Mn});var Mn={};D(Mn,{PATH:()=>gP,build:()=>xP});var gP="/upload/createvideo";function xP(t){return Object.assign({resourceId:{scottyResourceId:{id:t.resource_id.scotty_resource_id.id}},frontendUploadId:t.frontend_upload_id,initialMetadata:{title:{newTitle:t.initial_metadata.title.new_title},description:{newDescription:t.initial_metadata.description.new_description,shouldSegment:t.initial_metadata.description.should_segment},privacy:{newPrivacy:t.initial_metadata.privacy.new_privacy},draftState:{isDraft:!!t.initial_metadata.draft_state.is_draft}}},{client:t.client})}n(xP,"build");var ry={};D(ry,{BlocklistPickerEndpoint:()=>On});var On={};D(On,{PATH:()=>yP,build:()=>bP});var yP="/kids/get_kids_blocklist_picker";function bP(t){return{blockedForKidsContent:{external_channel_id:t.channel_id}}}n(bP,"build");var ys,sy,ay=class{constructor(e,i){var o,r;ys.set(this,void 0),sy.set(this,void 0),k(this,sy,i,"f");let s=c.parseResponse(e[0].data),u=c.parseResponse(e[1].data);this.basic_info=s.video_details,this.watch_next_feed=(o=u.entries)===null||o===void 0?void 0:o.array(),k(this,ys,(r=u.continuation_endpoint)===null||r===void 0?void 0:r.as(Ti),"f")}getWatchNextContinuation(){return y(this,void 0,void 0,function*(){var e,i;if(!d(this,ys,"f"))throw new v("Watch next feed continuation not found");let o=yield d(this,sy,"f").execute(Pt.WatchSequenceEndpoint.PATH,Pt.WatchSequenceEndpoint.build({sequenceParams:d(this,ys,"f").token}));if(!o.success)throw new v("Continue failed ",o.status_code);let r=c.parseResponse(o.data);return this.watch_next_feed=(e=r.entries)===null||e===void 0?void 0:e.array(),k(this,ys,(i=r.continuation_endpoint)===null||i===void 0?void 0:i.as(Ti),"f"),this})}};n(ay,"VideoInfo");ys=new WeakMap,sy=new WeakMap;var uy=ay;var M=class{constructor(e,i,o,r){var s,u,p,f,m,h,x,w,T,I,S,P,R,$,W,ge,H,pe,Se,Ve,q,K,Z,ae,De,vt,Tt;let X=new l(e);this.id=r||((f=(p=(u=(s=X==null?void 0:X.runs)===null||s===void 0?void 0:s[0])===null||u===void 0?void 0:u.endpoint)===null||p===void 0?void 0:p.payload)===null||f===void 0?void 0:f.browseId)||((h=(m=X==null?void 0:X.endpoint)===null||m===void 0?void 0:m.payload)===null||h===void 0?void 0:h.browseId)||"N/A",this.name=(X==null?void 0:X.text)||"N/A",this.thumbnails=o?b.fromResponse(o):[],this.endpoint=((w=(x=X==null?void 0:X.runs)===null||x===void 0?void 0:x[0])===null||w===void 0?void 0:w.endpoint)||(X==null?void 0:X.endpoint),i?Array.isArray(i)?(this.badges=c.parseArray(i),this.is_moderator=(T=this.badges)===null||T===void 0?void 0:T.some(He=>He.icon_type=="MODERATOR"),this.is_verified=(I=this.badges)===null||I===void 0?void 0:I.some(He=>He.style=="BADGE_STYLE_TYPE_VERIFIED"),this.is_verified_artist=(S=this.badges)===null||S===void 0?void 0:S.some(He=>He.style=="BADGE_STYLE_TYPE_VERIFIED_ARTIST")):(this.badges=ee([]),this.is_verified=!!i.isVerified,this.is_verified_artist=!!i.isArtist):this.badges=ee([]),this.url=((W=($=(R=(P=X==null?void 0:X.runs)===null||P===void 0?void 0:P[0])===null||R===void 0?void 0:R.endpoint)===null||$===void 0?void 0:$.metadata)===null||W===void 0?void 0:W.api_url)==="/browse"&&`${it.YT_BASE}${((Se=(pe=(H=(ge=X==null?void 0:X.runs)===null||ge===void 0?void 0:ge[0])===null||H===void 0?void 0:H.endpoint)===null||pe===void 0?void 0:pe.payload)===null||Se===void 0?void 0:Se.canonicalBaseUrl)||`/u/${(Z=(K=(q=(Ve=X==null?void 0:X.runs)===null||Ve===void 0?void 0:Ve[0])===null||q===void 0?void 0:q.endpoint)===null||K===void 0?void 0:K.payload)===null||Z===void 0?void 0:Z.browseId}`}`||`${it.YT_BASE}${((De=(ae=X==null?void 0:X.endpoint)===null||ae===void 0?void 0:ae.payload)===null||De===void 0?void 0:De.canonicalBaseUrl)||`/u/${(Tt=(vt=X==null?void 0:X.endpoint)===null||vt===void 0?void 0:vt.payload)===null||Tt===void 0?void 0:Tt.browseId}`}`}get best_thumbnail(){return this.thumbnails[0]}};n(M,"Author");var t1={desktop:["Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.3 Safari/605.1.15","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 Edg/109.0.1518.61","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Safari/605.1.15","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/105.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36","Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36"],mobile:["Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; SM-G990U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-G998B) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) FxiOS/108.1  Mobile/15E148 Safari/605.1.15","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 11_4_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Mobile/15G77 ChannelId(73) NebulaSDK/1.8.100112 Nebula PSDType(1) AlipayDefined(nt:4G,ws:320|504|2.0) AliApp(AP/10.1.30.300) AlipayClient/10.1.30.300 Alipay Language/zh-Hans","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 13; SM-N981U) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (Linux; Android 13; SM-A515F) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_0 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.0 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 12; M2010J19SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 15_5 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.5 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 15_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/15.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.1 Mobile/15E148 Safari/604.1","Mozilla/5.0 (iPhone; CPU iPhone OS 16_1 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) CriOS/109.0.5414.83 Mobile/15E148 Safari/604.1","Mozilla/5.0 (Linux; Android 11; M2102J20SG) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/108.0.0.0 Mobile Safari/537.36","Mozilla/5.0 (iPhone; CPU iPhone OS 16_2 like Mac OS X) AppleWebKit/605.1.15 (KHTML, like Gecko) Version/16.2 Mobile/15E148 Safari/604.1"]};var Dn,ly,wP="Utils",j=class{static load(e){k(Dn,Dn,e,"f",ly)}static get shim(){if(!d(Dn,Dn,"f",ly))throw new Error("Platform is not loaded");return d(Dn,Dn,"f",ly)}};n(j,"Platform");Dn=j;ly={value:void 0};var v=class extends Error{constructor(e,i){super(e),i&&(this.info=i),this.date=new Date,this.version=j.shim.info.version}};n(v,"InnertubeError");var kt=class extends v{};n(kt,"ParsingError");var Ln=class extends v{};n(Ln,"MissingParamError");var Ne=class extends v{};n(Ne,"OAuth2Error");var $t=class extends Error{};n($t,"PlayerError");var Bn=class extends Error{};n(Bn,"SessionError");var $r=class extends Error{};n($r,"ChannelError");function h_(t,e){return Reflect.ownKeys(t).some(o=>{let r=e[o]instanceof l;return!r&&typeof e[o]=="object"?JSON.stringify(t[o])===JSON.stringify(e[o]):t[o]===(r?e[o].toString():e[o])})}n(h_,"deepCompare");function Je(t,e,i){let o=new RegExp(`${Ub(e)}(.*?)${Ub(i)}`,"s"),r=t.match(o);return r?r[1]:void 0}n(Je,"getStringBetweenStrings");function Ub(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}n(Ub,"escapeStringRegexp");function No(t){let e=t1[t],i=Math.floor(Math.random()*e.length);return e[i]}n(No,"getRandomUserAgent");function Gy(t){return y(this,void 0,void 0,function*(){let e="https://www.youtube.com",i=Math.floor(new Date().getTime()/1e3),o=[i,t,e].join(" "),r=yield j.shim.sha1Hash(o);return["SAPISIDHASH",[i,r].join("_")].join(" ")})}n(Gy,"generateSidAuth");function Nt(t){let e=[],i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_";for(let o=0;o<t;o++)e.push(i.charAt(Math.floor(Math.random()*i.length)));return e.join("")}n(Nt,"generateRandomString");function Be(t){let e=t.split(":").map(i=>parseInt(i.replace(/\D/g,"")));switch(e.length){case 1:return e[0];case 2:return e[0]*60+e[1];case 3:return e[0]*3600+e[1]*60+e[2];default:throw new Error("Invalid time string")}}n(Be,"timeToSeconds");function Ab(...t){let e=new Vi;for(let i of t)if(!!i)for(let o of i){let r=e.get(o[0]);if(r){e.set(o[0],[...r,...o[1]]);continue}e.set(...o)}return e}n(Ab,"concatMemos");function oe(t){for(let[e,i]of Object.entries(t))if(!i)throw new Ln(`${e} is missing`)}n(oe,"throwIfMissing");function TP(t,...e){for(let i of e)if(!Reflect.has(t,i)||t[i]===void 0)return!1;return!0}n(TP,"hasKeys");function Wy(t){return bw(this,arguments,n(function*(){let i=t.getReader();try{for(;;){let{done:o,value:r}=yield Io(i.read());if(o)return yield Io(void 0);yield yield Io(r)}}finally{i.releaseLock()}},"streamToIterable_1"))}n(Wy,"streamToIterable");var IP=n((t,e)=>{let i=typeof t=="string"?new URL(t):t instanceof URL?t:new URL(t.url),o=e!=null&&e.headers?new Headers(e.headers):t instanceof Request?t.headers:new Headers,r=[...o],s=e!=null&&e.body?typeof e.body=="string"?o.get("content-type")==="application/json"?JSON.stringify(JSON.parse(e.body),null,2):e.body:"    <binary>":"    (none)",u=r.length>0?`${r.map(([p,f])=>`    ${p}: ${f}`).join(`
`)}`:"    (none)";return L.warn(wP,`Fetch:
  url: ${i.toString()}
  method: ${(e==null?void 0:e.method)||"GET"}
  headers:
${u}
' + 
    '  body:
${s}`),j.shim.fetch(t,e)},"debugFetch");function dt(t){return btoa(String.fromCharCode.apply(null,Array.from(t)))}n(dt,"u8ToBase64");function _b(t){return new Uint8Array(atob(t).split("").map(e=>e.charCodeAt(0)))}n(_b,"base64ToU8");function rt(t){return!("emoji"in t)}n(rt,"isTextRun");function zy(t,e,i=!1){let o=i?`(^|\\s?)\\b${e}\\b=([^;]+)`:`(^|s?)${e}=([^;]+)`,r=t.match(new RegExp(o));return r?r[2]:void 0}n(zy,"getCookie");function Wb(t){return y(this,void 0,void 0,function*(){let e=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];function i(o){let r=new Uint8Array(o),s=[];for(let u=0;u<r.length;++u)s.push(e[r[u]]);return s.join("")}return n(i,"hex"),i(yield crypto.subtle.digest("SHA-1",new TextEncoder().encode(t)))})}n(Wb,"sha1Hash");var cy={name:"youtubei.js",version:"10.0.0",description:"A wrapper around YouTube's private API. Supports YouTube, YouTube Music, YouTube Kids and YouTube Studio (WIP).",type:"module",types:"./dist/src/platform/lib.d.ts",typesVersions:{"*":{agnostic:["./dist/src/platform/lib.d.ts"],web:["./dist/src/platform/lib.d.ts"],"react-native":["./dist/src/platform/lib.d.ts"],"web.bundle":["./dist/src/platform/lib.d.ts"],"web.bundle.min":["./dist/src/platform/lib.d.ts"],"cf-worker":["./dist/src/platform/lib.d.ts"]}},exports:{".":{node:{import:"./dist/src/platform/node.js",require:"./bundle/node.cjs"},deno:"./dist/src/platform/deno.js",types:"./dist/src/platform/lib.d.ts",browser:"./dist/src/platform/web.js","react-native":"./dist/src/platform/react-native.js",default:"./dist/src/platform/web.js"},"./agnostic":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/lib.js"},"./web":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/web.js"},"./react-native":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/react-native.js"},"./web.bundle":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.js"},"./web.bundle.min":{types:"./dist/src/platform/lib.d.ts",default:"./bundle/browser.min.js"},"./cf-worker":{types:"./dist/src/platform/lib.d.ts",default:"./dist/src/platform/cf-worker.js"}},author:"LuanRT <luan.lrt4@gmail.com> (https://github.com/LuanRT)",funding:["https://github.com/sponsors/LuanRT"],contributors:["Wykerd (https://github.com/wykerd/)","MasterOfBob777 (https://github.com/MasterOfBob777)","patrickkfkan (https://github.com/patrickkfkan)","akkadaska (https://github.com/akkadaska)","Absidue (https://github.com/absidue)"],directories:{test:"./test",examples:"./examples",dist:"./dist"},scripts:{test:"npx jest --verbose",lint:"npx eslint ./src","lint:fix":"npx eslint --fix ./src",clean:"npx rimraf ./dist/src ./dist/package.json ./bundle/browser.js ./bundle/browser.js.map ./bundle/browser.min.js ./bundle/browser.min.js.map ./bundle/node.cjs ./bundle/node.cjs.map ./bundle/cf-worker.js ./bundle/cf-worker.js.map ./bundle/react-native.js ./bundle/react-native.js.map ./deno",build:"npm run clean && npm run build:parser-map && npm run build:proto && npm run build:esm && npm run bundle:node && npm run bundle:browser && npm run bundle:browser:prod && npm run bundle:cf-worker && npm run bundle:react-native","build:parser-map":"node ./dev-scripts/gen-parser-map.mjs","build:proto":'npx pb-gen-ts --entry-path="src/proto" --out-dir="src/proto/generated" --ext-in-import=".js"',"build:esm":"npx tspc","build:deno":`npx cpy ./src ./deno && npx esbuild ./src/utils/DashManifest.tsx --keep-names --format=esm --platform=neutral --target=es2020 --outfile=./deno/src/utils/DashManifest.js && npx cpy ./package.json ./deno && npx replace ".js';" ".ts';" ./deno -r && npx replace '.js";' '.ts";' ./deno -r && npx replace "'./DashManifest.ts';" "'./DashManifest.js';" ./deno -r && npx replace "'jintr';" "'https://esm.sh/jintr';" ./deno -r`,"bundle:node":'npx esbuild ./dist/src/platform/node.js --bundle --target=node10 --keep-names --format=cjs --platform=node --outfile=./bundle/node.cjs --external:jintr --external:undici --external:linkedom --external:tslib --sourcemap --banner:js="/* eslint-disable */"',"bundle:browser":'npx esbuild ./dist/src/platform/web.js --banner:js="/* eslint-disable */" --bundle --target=chrome58 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/browser.js --platform=browser',"bundle:react-native":"npx esbuild ./dist/src/platform/react-native.js --bundle --target=es2020 --keep-names --format=esm --platform=neutral --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/react-native.js","bundle:browser:prod":"npm run bundle:browser -- --outfile=./bundle/browser.min.js --minify","bundle:cf-worker":'npx esbuild ./dist/src/platform/cf-worker.js --banner:js="/* eslint-disable */" --bundle --target=es2020 --keep-names --format=esm --sourcemap --define:global=globalThis --conditions=module --outfile=./bundle/cf-worker.js --platform=node',prepare:"npm run build",watch:"npx tsc --watch"},repository:{type:"git",url:"git+https://github.com/LuanRT/YouTube.js.git"},license:"MIT",dependencies:{jintr:"^1.1.0",tslib:"^2.5.0",undici:"^5.19.1"},overrides:{typescript:"^5.0.0"},devDependencies:{"@types/glob":"^8.1.0","@types/jest":"^28.1.7","@types/node":"^17.0.45","@typescript-eslint/eslint-plugin":"^5.30.6","@typescript-eslint/parser":"^5.30.6","cpy-cli":"^4.2.0",esbuild:"^0.14.49",eslint:"^8.19.0","eslint-plugin-tsdoc":"^0.2.16",glob:"^8.0.3",jest:"^29.7.0",pbkit:"^0.0.59",replace:"^1.2.2","ts-jest":"^29.1.4","ts-patch":"^3.0.2","ts-transformer-inline-file":"^0.2.0",typescript:"^5.0.0"},bugs:{url:"https://github.com/LuanRT/YouTube.js/issues"},homepage:"https://github.com/LuanRT/YouTube.js#readme",keywords:["yt","dl","ytdl","youtube","youtubedl","youtube-dl","youtube-downloader","youtube-music","youtube-studio","innertube","unofficial","downloader","livechat","studio","upload","ytmusic","search","music","api"]};var i_={};D(i_,{ArrayExpression:()=>bs,ArrowFunctionExpression:()=>ws,AssignmentExpression:()=>Ts,BinaryExpression:()=>Is,BlockStatement:()=>ks,BreakStatement:()=>Ss,CallExpression:()=>Cs,ConditionalExpression:()=>Ps,ContinueStatement:()=>Ns,ExpressionStatement:()=>As,ForOfStatement:()=>Rs,ForStatement:()=>Vs,FunctionDeclaration:()=>Ms,FunctionExpression:()=>Os,Identifier:()=>Ds,IfStatement:()=>Ls,Literal:()=>Bs,LogicalExpression:()=>Fs,MemberExpression:()=>Ys,NewExpression:()=>js,ObjectExpression:()=>Us,Property:()=>Ws,ReturnStatement:()=>Hs,SequenceExpression:()=>Js,SwitchCase:()=>Gs,SwitchStatement:()=>zs,ThisExpression:()=>$s,ThrowStatement:()=>Ks,TryStatement:()=>qs,UnaryExpression:()=>Xs,UpdateExpression:()=>Qs,VariableDeclaration:()=>Zs,WhileStatement:()=>ea});var V=class{constructor(e,i){this.node=e,this.visitor=i}run(){}};n(V,"BaseJSNode");var bs=class extends V{run(){return this.node.elements.map(e=>this.visitor.visitNode(e))}};n(bs,"ArrayExpression");var Hb={};D(Hb,{namedFunction:()=>Fn});var Fn=n((t,e)=>Object.defineProperty(e,"name",{value:t}),"namedFunction");var ws=class extends V{run(){let{params:e,body:i}=this.node;return Fn("anonymous function",r=>{let s=0;for(let u of e)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,r[s]):console.warn("Unhandled param type",u.type),s++;return this.visitor.visitNode(i)})}};n(ws,"ArrowFunctionExpression");var Ts=class extends V{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.right);switch(e){case"=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]=i}else if(this.node.left.type==="Identifier")return this.visitor.scope.set(this.node.left.name,i),this.visitor.scope.get(this.node.left.name);console.warn("Unhandled left node",this.node.left);break;case"+=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]+=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)+i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"-=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]-=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)-i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"*=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]*=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)*i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"/=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]/=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)/i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"%=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]%=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)%i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"**=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]**=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)**i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"<<=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]<<=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)<<i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case">>>=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]>>>=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)>>>i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break;case"&=":if(this.node.left.type==="MemberExpression"){let o=this.visitor.visitNode(this.node.left.object),r=this.visitor.visitNode(this.node.left.property);return o[r]&=i}else if(this.node.left.type==="Identifier"){let o=this.visitor.visitNode(this.node.left)&i;return this.visitor.scope.set(this.node.left.name,o),this.visitor.scope.get(this.node.left.name)}console.warn("Unhandled left node",this.node.left);break}}};n(Ts,"AssignmentExpression");var Is=class extends V{run(){let e=this.node.operator,i=this.visitor.visitNode(this.node.left),o=this.visitor.visitNode(this.node.right);switch(e){case"!=":return i!=o;case"!==":return i!==o;case"%":return i%o;case"&":return i&o;case"*":return i*o;case"**":return i**o;case"+":return i+o;case"-":return i-o;case"/":return i/o;case"<":return i<o;case"<<":return i<<o;case"<=":return i<=o;case"==":return i==o;case"===":return i===o;case">":return i>o;case">=":return i>=o;case">>":return i>>o;case">>>":return i>>>o;case"^":return i^o;case"|":return i|o;case"in":return i in o;case"instanceof":return i instanceof o}}};n(Is,"BinaryExpression");var ks=class extends V{run(){for(let e of this.node.body){let i=this.visitor.visitNode(e);if(e.type==="ReturnStatement"||i==="break"||i==="continue"||(e.type==="WhileStatement"||e.type==="IfStatement"||e.type==="ForStatement"||e.type==="TryStatement")&&!!i)return i}}};n(ks,"BlockStatement");var Ss=class extends V{run(){return"break"}};n(Ss,"BreakStatement");var i1=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},dy,Jb,Cs=class extends V{constructor(){super(...arguments),dy.add(this)}run(){let e,i;if(this.node.callee.type==="MemberExpression"?(e=this.visitor.getName(this.node.callee.object),i=this.visitor.getName(this.node.callee.property)):this.node.callee.type==="Identifier"&&(i=this.node.callee.name),e&&this.visitor.listeners[e]){let s=this.visitor.listeners[e](this.node,this.visitor);if(s!=="proceed")return s}if(i&&i!=="toString"&&this.visitor.listeners[i]){let s=this.visitor.listeners[i](this.node,this.visitor);if(s!=="proceed")return s}if(this.node.callee.type==="MemberExpression"){if(Es.has(this.node,this.visitor))return Es.execute(this.node,this.visitor);let s=this.visitor.visitNode(this.node.callee.object),u=this.node.callee.computed?this.visitor.visitNode(this.node.callee.property):this.visitor.getName(this.node.callee.property),p=this.node.arguments.map(f=>this.visitor.visitNode(f));return typeof s[u]!="function"&&i1(this,dy,"m",Jb).call(this),s[u].toString().includes("[native code]")?s[u](...p):s[u](p)}let o=this.visitor.visitNode(this.node.callee),r=this.node.arguments.map(s=>this.visitor.visitNode(s));return typeof o!="function"&&i1(this,dy,"m",Jb).call(this),o(r)}};n(Cs,"CallExpression");dy=new WeakSet,Jb=n(function(){if(this.node.callee.type==="MemberExpression")throw new Error(`${this.node.callee.object.type==="Identifier"?this.node.callee.object.name:"<object>"}.${this.node.callee.property.type==="Identifier"?this.node.callee.property.name:"?"} is not a function`);if(this.node.callee.type==="Identifier")throw new Error(`${this.node.callee.name} is not a function`);if(this.node.callee.type==="SequenceExpression"){let e=[],i=[];throw e.push("("),this.node.callee.expressions.forEach(o=>{o.type==="Literal"?i.push(o.raw||""):o.type==="Identifier"?i.push(o.name):o.type==="MemberExpression"&&(o.computed?i.push(`${this.visitor.getName(o.object)}[${this.visitor.getName(o.property)||"..."}]`):i.push(`${this.visitor.getName(o.object)}.${this.visitor.getName(o.property)}`))}),e.push(i.join(", ")),e.push(")"),new Error(`${e.join("")} is not a function`)}},"_CallExpression_throwError");var Es=class{static has(e,i){var o;return e.callee.type==="MemberExpression"?!!(!((o=this.builtins)===null||o===void 0)&&o[i.getName(e.callee.property)||""]):!1}static execute(e,i){if(e.callee.type==="MemberExpression")return this.builtins[i.getName(e.callee.property)||""](e,i)}};n(Es,"Builtins");Es.builtins={forEach:(t,e)=>{let i=t.arguments.map(o=>e.visitNode(o));if(t.callee.type==="MemberExpression"){let o=e.visitNode(t.callee.object);i.length>1&&e.scope.set("_this",i.slice(-1)[0]);let r=0;for(let s of o)i[0]([s,r++,o])}else console.warn("Unhandled callee type:",t.callee.type)},toString:(t,e)=>{if(t.callee.type==="MemberExpression")return e.visitNode(t.callee.object).toString()}};var Ps=class extends V{run(){let{test:e,consequent:i,alternate:o}=this.node;return this.visitor.visitNode(e)?this.visitor.visitNode(i):this.visitor.visitNode(o)}};n(Ps,"ConditionalExpression");var Ns=class extends V{run(){return"continue"}};n(Ns,"ContinueStatement");var As=class extends V{run(){return this.visitor.visitNode(this.node.expression)}};n(As,"ExpressionStatement");var Rs=class extends V{run(){this.visitor.visitNode(this.node.left);let e=this.visitor.visitNode(this.node.right);for(let i of e){if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="Identifier")this.visitor.scope.set(this.node.left.declarations[0].id.name,i);else if(this.node.left.type==="VariableDeclaration"&&this.node.left.declarations[0].id.type==="ObjectPattern")for(let r of this.node.left.declarations[0].id.properties)r.type==="Property"&&r.value.type==="Identifier"&&r.key.type==="Identifier"&&this.visitor.scope.set(r.value.name,i[r.key.name]);let o=this.visitor.visitNode(this.node.body);if(o==="break")break;if(o!=="continue"&&o&&this.node.body.type!=="ExpressionStatement")return o}}};n(Rs,"ForOfStatement");var Vs=class extends V{run(){this.node.init&&this.visitor.visitNode(this.node.init);let e=n(()=>this.node.test?this.visitor.visitNode(this.node.test):!0,"test");for(;e();){let o=this.visitor.visitNode(this.node.body);if(o!=="continue"){if(o==="break")break;if(this.node.update&&this.visitor.visitNode(this.node.update),o&&this.node.body.type!=="ExpressionStatement")return o}}}};n(Vs,"ForStatement");var Ms=class extends V{run(){let{params:e,body:i}=this.node,o=this.visitor.visitNode(this.node.id),r=Fn(o,s=>{let u=0;for(let p of e)this.visitor.visitNode(p),p.type==="Identifier"?this.visitor.scope.set(p.name,s[u]):console.warn("Unhandled param type",p.type),u++;return this.visitor.visitNode(i)});this.visitor.scope.set(o,r)}};n(Ms,"FunctionDeclaration");var Os=class extends V{run(){let{params:e,body:i}=this.node;return Fn("anonymous function",r=>{let s=0;for(let u of e)this.visitor.visitNode(u),u.type==="Identifier"?this.visitor.scope.set(u.name,r[s]):console.warn("Unhandled param type",u.type),s++;return this.visitor.visitNode(i)})}};n(Os,"FunctionExpression");var Ds=class extends V{run(){if(this.visitor.listeners[this.node.name]){let e=this.visitor.listeners[this.node.name](this.node,this.visitor);if(e!=="proceed")return e}return this.visitor.scope.has(this.node.name)?this.visitor.scope.get(this.node.name):this.node.name}};n(Ds,"Identifier");var Ls=class extends V{run(){if(this.visitor.visitNode(this.node.test))return this.visitor.visitNode(this.node.consequent);if(this.node.alternate)return this.visitor.visitNode(this.node.alternate)}};n(Ls,"IfStatement");var Bs=class extends V{run(){return this.node.value}};n(Bs,"Literal");var Fs=class extends V{run(){switch(this.node.operator){case"&&":{let i=this.visitor.visitNode(this.node.left);return i===!0?this.visitor.visitNode(this.node.right):i}case"||":return this.visitor.visitNode(this.node.left)||this.visitor.visitNode(this.node.right);case"??":{let i=this.visitor.visitNode(this.node.left);return i!=null?i:this.visitor.visitNode(this.node.right)}}}};n(Fs,"LogicalExpression");var Ys=class extends V{run(){let{object:e,property:i,computed:o}=this.node,r=this.visitor.visitNode(e),s=o?this.visitor.visitNode(i):this.visitor.getName(i);if(s!==void 0||s!==null){if(this.visitor.listeners[s]){let u=this.visitor.listeners[s](this.node,this.visitor);if(u!=="proceed")return u}return r==null?void 0:r[s]}}};n(Ys,"MemberExpression");var js=class extends V{run(){let e=this.visitor.visitNode(this.node.callee),i=this.node.arguments.map(o=>this.visitor.visitNode(o));return new e(i)}};n(js,"NewExpression");var Us=class extends V{run(){let e={};for(let i of this.node.properties)if(i.type==="Property")e=Object.assign(Object.assign({},e),this.visitor.visitNode(i));else throw new Error(`Unhandled property type: ${i.type}`);return e}};n(Us,"ObjectExpression");var Gb=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},t_,o1,n1,r1,Ws=class extends V{constructor(){super(...arguments),t_.add(this)}run(){switch(this.node.kind){case"init":return Gb(this,t_,"m",o1).call(this);case"get":return Gb(this,t_,"m",n1).call(this);case"set":return Gb(this,t_,"m",r1).call(this);default:throw new Error(`Unhandled property kind: ${this.node.kind}`)}}};n(Ws,"Property");t_=new WeakSet,o1=n(function(){let e=this.node.computed?this.visitor.visitNode(this.node.key):this.visitor.getName(this.node.key),i=this.visitor.visitNode(this.node.value);if(e)return{[e]:i}},"_Property_init"),n1=n(function(){throw new TypeError("Not implemented: Property.get")},"_Property_get"),r1=n(function(){throw new TypeError("Not implemented: Property.set")},"_Property_set");var Hs=class extends V{run(){if(this.node.argument)return this.visitor.visitNode(this.node.argument)}};n(Hs,"ReturnStatement");var Js=class extends V{run(){let e;for(let i of this.node.expressions)e=this.visitor.visitNode(i);return e}};n(Js,"SequenceExpression");var Gs=class extends V{run(){for(let e of this.node.consequent){let i=this.visitor.visitNode(e);if(e.type==="ContinueStatement"||e.type==="BreakStatement")return i}}};n(Gs,"SwitchCase");var zs=class extends V{run(){let e=this.visitor.visitNode(this.node.discriminant),i=!1,o=-1,r=0;for(;;){let s=this.node.cases[r];if(i){let u=this.visitor.visitNode(s);if(u==="break")break;if(u==="continue")return u;if(++r,r>=this.node.cases.length){r=0;break}else continue}if(i=s&&e===this.visitor.visitNode(s.test),i===void 0&&r>this.node.cases.length)break;if(s&&!i&&!s.test){o=r,r+=1;continue}if(!s&&!i&&o!==-1){i=!0,r=o;continue}i||++r}}};n(zs,"SwitchStatement");var $s=class extends V{run(){return this.visitor.scope.get("_this")}};n($s,"ThisExpression");var Ks=class extends V{run(){throw this.visitor.visitNode(this.node.argument)}};n(Ks,"ThrowStatement");var qs=class extends V{run(){try{return this.visitor.visitNode(this.node.block)}catch(e){if(this.node.handler)return this.node.handler.param&&this.node.handler.param.type==="Identifier"&&this.visitor.scope.set(this.node.handler.param.name,e),this.visitor.visitNode(this.node.handler.body)}finally{this.visitor.visitNode(this.node.finalizer)}}};n(qs,"TryStatement");var Xs=class extends V{run(){let e=this.node.operator;switch(e){case"-":return-this.visitor.visitNode(this.node.argument);case"+":return+this.visitor.visitNode(this.node.argument);case"!":return!this.visitor.visitNode(this.node.argument);case"~":return~this.visitor.visitNode(this.node.argument);case"void":{this.visitor.visitNode(this.node.argument);return}case"typeof":return typeof this.visitor.visitNode(this.node.argument);case"delete":{if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object),o=this.node.argument.computed?this.visitor.visitNode(this.node.argument.property):this.visitor.getName(this.node.argument.property);return delete i[o]}else if(this.node.argument.type==="Identifier")return this.visitor.scope.delete(this.node.argument.name);return!0}default:console.warn("Unhandled UnaryExpression operator",e)}}};n(Xs,"UnaryExpression");var Qs=class extends V{run(){switch(this.node.operator){case"++":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]++}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i+1),this.node.prefix?++i:i}break;case"--":if(this.node.argument.type==="MemberExpression"){let i=this.visitor.visitNode(this.node.argument.object);return i[this.visitor.visitNode(this.node.argument.property)]--}else if(this.node.argument.type==="Identifier"){let i=this.visitor.visitNode(this.node.argument);return this.visitor.scope.set(this.node.argument.name,i-1),this.node.prefix?--i:i}break}}};n(Qs,"UpdateExpression");var Zs=class extends V{run(){this.node.declarations.forEach(e=>{let{id:i,init:o}=e,r=this.visitor.getName(i),s=o?this.visitor.visitNode(o):void 0;r&&this.visitor.scope.set(r,s),typeof s=="object"&&s!==null&&this.visitor.scope.set("_this",s)})}};n(Zs,"VariableDeclaration");var ea=class extends V{run(){for(;this.visitor.visitNode(this.node.test);){let e=this.visitor.visitNode(this.node.body);if(e==="break")break;if(e!=="continue"&&e)return e}}};n(ea,"WhileStatement");var SP=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},zb,s1,ta=class{constructor(e){zb.add(this),this.scope=new Map,this.listeners={},this.ast=e}run(){let e;for(let i of this.ast)e=this.visitNode(i);return e}visitNode(e){if(!e)return null;let i=SP(this,zb,"m",s1).call(this,e.type);if(i)return new i(e,this).run()}getName(e){if(e.type==="Identifier")return e.name;if(e.type==="Literal")return e.value}on(e,i){this.listeners[e]=i}};n(ta,"Visitor");zb=new WeakSet,s1=n(function(e){let i=i_[e];return i||console.warn("[JINTER]:",`JavaScript node "${e}" not implemented!
If this is causing unexpected behavior, please report it at https://github.com/LuanRT/Jinter/issues/new`),i},"_Visitor_getNode");var CP=[509,0,227,0,150,4,294,9,1368,2,2,1,6,3,41,2,5,0,166,1,574,3,9,9,370,1,81,2,71,10,50,3,123,2,54,14,32,10,3,1,11,3,46,10,8,0,46,9,7,2,37,13,2,9,6,1,45,0,13,2,49,13,9,3,2,11,83,11,7,0,3,0,158,11,6,9,7,3,56,1,2,6,3,1,3,2,10,0,11,1,3,6,4,4,193,17,10,9,5,0,82,19,13,9,214,6,3,8,28,1,83,16,16,9,82,12,9,9,84,14,5,9,243,14,166,9,71,5,2,1,3,3,2,0,2,1,13,9,120,6,3,6,4,0,29,9,41,6,2,3,9,0,10,10,47,15,406,7,2,7,17,9,57,21,2,13,123,5,4,0,2,1,2,6,2,0,9,9,49,4,2,1,2,4,9,9,330,3,10,1,2,0,49,6,4,4,14,9,5351,0,7,14,13835,9,87,9,39,4,60,6,26,9,1014,0,2,54,8,3,82,0,12,1,19628,1,4706,45,3,22,543,4,4,5,9,7,3,6,31,3,149,2,1418,49,513,54,5,49,9,0,15,0,23,4,2,14,1361,6,2,16,3,6,2,1,2,4,101,0,161,6,10,9,357,0,62,13,499,13,983,6,110,6,6,9,4759,9,787719,239],p1=[0,11,2,25,2,18,2,1,2,14,3,13,35,122,70,52,268,28,4,48,48,31,14,29,6,37,11,29,3,35,5,7,2,4,43,157,19,35,5,35,5,39,9,51,13,10,2,14,2,6,2,1,2,10,2,14,2,6,2,1,68,310,10,21,11,7,25,5,2,41,2,8,70,5,3,0,2,43,2,1,4,0,3,22,11,22,10,30,66,18,2,1,11,21,11,25,71,55,7,1,65,0,16,3,2,2,2,28,43,28,4,28,36,7,2,27,28,53,11,21,11,18,14,17,111,72,56,50,14,50,14,35,349,41,7,1,79,28,11,0,9,21,43,17,47,20,28,22,13,52,58,1,3,0,14,44,33,24,27,35,30,0,3,0,9,34,4,0,13,47,15,3,22,0,2,0,36,17,2,24,20,1,64,6,2,0,2,3,2,14,2,9,8,46,39,7,3,1,3,21,2,6,2,1,2,4,4,0,19,0,13,4,159,52,19,3,21,2,31,47,21,1,2,0,185,46,42,3,37,47,21,0,60,42,14,0,72,26,38,6,186,43,117,63,32,7,3,0,3,7,2,1,2,23,16,0,2,0,95,7,3,38,17,0,2,0,29,0,11,39,8,0,22,0,12,45,20,0,19,72,264,8,2,36,18,0,50,29,113,6,2,1,2,37,22,0,26,5,2,1,2,31,15,0,328,18,16,0,2,12,2,33,125,0,80,921,103,110,18,195,2637,96,16,1071,18,5,4026,582,8634,568,8,30,18,78,18,29,19,47,17,3,32,20,6,18,689,63,129,74,6,0,67,12,65,1,2,0,29,6135,9,1237,43,8,8936,3,2,6,2,1,2,290,16,0,30,2,3,0,15,3,9,395,2309,106,6,12,4,8,8,9,5991,84,2,70,2,1,3,0,3,1,3,3,2,11,2,0,2,6,2,64,2,3,3,7,2,6,2,27,2,3,2,4,2,0,4,6,2,339,3,24,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,30,2,24,2,7,1845,30,7,5,262,61,147,44,11,6,17,0,322,29,19,43,485,27,757,6,2,3,2,1,2,14,2,196,60,67,8,0,1205,3,2,26,2,1,2,0,3,0,2,9,2,3,2,0,2,0,7,0,5,0,2,0,2,0,2,2,2,1,2,0,3,0,2,0,2,0,2,0,2,0,2,1,2,0,3,3,2,6,2,3,2,3,2,0,2,9,2,16,6,2,2,4,2,16,4421,42719,33,4153,7,221,3,5761,15,7472,16,621,2467,541,1507,4938,6,4191],EP="\u200C\u200D\xB7\u0300-\u036F\u0387\u0483-\u0487\u0591-\u05BD\u05BF\u05C1\u05C2\u05C4\u05C5\u05C7\u0610-\u061A\u064B-\u0669\u0670\u06D6-\u06DC\u06DF-\u06E4\u06E7\u06E8\u06EA-\u06ED\u06F0-\u06F9\u0711\u0730-\u074A\u07A6-\u07B0\u07C0-\u07C9\u07EB-\u07F3\u07FD\u0816-\u0819\u081B-\u0823\u0825-\u0827\u0829-\u082D\u0859-\u085B\u0898-\u089F\u08CA-\u08E1\u08E3-\u0903\u093A-\u093C\u093E-\u094F\u0951-\u0957\u0962\u0963\u0966-\u096F\u0981-\u0983\u09BC\u09BE-\u09C4\u09C7\u09C8\u09CB-\u09CD\u09D7\u09E2\u09E3\u09E6-\u09EF\u09FE\u0A01-\u0A03\u0A3C\u0A3E-\u0A42\u0A47\u0A48\u0A4B-\u0A4D\u0A51\u0A66-\u0A71\u0A75\u0A81-\u0A83\u0ABC\u0ABE-\u0AC5\u0AC7-\u0AC9\u0ACB-\u0ACD\u0AE2\u0AE3\u0AE6-\u0AEF\u0AFA-\u0AFF\u0B01-\u0B03\u0B3C\u0B3E-\u0B44\u0B47\u0B48\u0B4B-\u0B4D\u0B55-\u0B57\u0B62\u0B63\u0B66-\u0B6F\u0B82\u0BBE-\u0BC2\u0BC6-\u0BC8\u0BCA-\u0BCD\u0BD7\u0BE6-\u0BEF\u0C00-\u0C04\u0C3C\u0C3E-\u0C44\u0C46-\u0C48\u0C4A-\u0C4D\u0C55\u0C56\u0C62\u0C63\u0C66-\u0C6F\u0C81-\u0C83\u0CBC\u0CBE-\u0CC4\u0CC6-\u0CC8\u0CCA-\u0CCD\u0CD5\u0CD6\u0CE2\u0CE3\u0CE6-\u0CEF\u0CF3\u0D00-\u0D03\u0D3B\u0D3C\u0D3E-\u0D44\u0D46-\u0D48\u0D4A-\u0D4D\u0D57\u0D62\u0D63\u0D66-\u0D6F\u0D81-\u0D83\u0DCA\u0DCF-\u0DD4\u0DD6\u0DD8-\u0DDF\u0DE6-\u0DEF\u0DF2\u0DF3\u0E31\u0E34-\u0E3A\u0E47-\u0E4E\u0E50-\u0E59\u0EB1\u0EB4-\u0EBC\u0EC8-\u0ECE\u0ED0-\u0ED9\u0F18\u0F19\u0F20-\u0F29\u0F35\u0F37\u0F39\u0F3E\u0F3F\u0F71-\u0F84\u0F86\u0F87\u0F8D-\u0F97\u0F99-\u0FBC\u0FC6\u102B-\u103E\u1040-\u1049\u1056-\u1059\u105E-\u1060\u1062-\u1064\u1067-\u106D\u1071-\u1074\u1082-\u108D\u108F-\u109D\u135D-\u135F\u1369-\u1371\u1712-\u1715\u1732-\u1734\u1752\u1753\u1772\u1773\u17B4-\u17D3\u17DD\u17E0-\u17E9\u180B-\u180D\u180F-\u1819\u18A9\u1920-\u192B\u1930-\u193B\u1946-\u194F\u19D0-\u19DA\u1A17-\u1A1B\u1A55-\u1A5E\u1A60-\u1A7C\u1A7F-\u1A89\u1A90-\u1A99\u1AB0-\u1ABD\u1ABF-\u1ACE\u1B00-\u1B04\u1B34-\u1B44\u1B50-\u1B59\u1B6B-\u1B73\u1B80-\u1B82\u1BA1-\u1BAD\u1BB0-\u1BB9\u1BE6-\u1BF3\u1C24-\u1C37\u1C40-\u1C49\u1C50-\u1C59\u1CD0-\u1CD2\u1CD4-\u1CE8\u1CED\u1CF4\u1CF7-\u1CF9\u1DC0-\u1DFF\u200C\u200D\u203F\u2040\u2054\u20D0-\u20DC\u20E1\u20E5-\u20F0\u2CEF-\u2CF1\u2D7F\u2DE0-\u2DFF\u302A-\u302F\u3099\u309A\u30FB\uA620-\uA629\uA66F\uA674-\uA67D\uA69E\uA69F\uA6F0\uA6F1\uA802\uA806\uA80B\uA823-\uA827\uA82C\uA880\uA881\uA8B4-\uA8C5\uA8D0-\uA8D9\uA8E0-\uA8F1\uA8FF-\uA909\uA926-\uA92D\uA947-\uA953\uA980-\uA983\uA9B3-\uA9C0\uA9D0-\uA9D9\uA9E5\uA9F0-\uA9F9\uAA29-\uAA36\uAA43\uAA4C\uAA4D\uAA50-\uAA59\uAA7B-\uAA7D\uAAB0\uAAB2-\uAAB4\uAAB7\uAAB8\uAABE\uAABF\uAAC1\uAAEB-\uAAEF\uAAF5\uAAF6\uABE3-\uABEA\uABEC\uABED\uABF0-\uABF9\uFB1E\uFE00-\uFE0F\uFE20-\uFE2F\uFE33\uFE34\uFE4D-\uFE4F\uFF10-\uFF19\uFF3F\uFF65",f1="\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16EE-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2118-\u211D\u2124\u2126\u2128\u212A-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2160-\u2188\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u3005-\u3007\u3021-\u3029\u3031-\u3035\u3038-\u303C\u3041-\u3096\u309B-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6EF\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC",$b={3:"abstract boolean byte char class double enum export extends final float goto implements import int interface long native package private protected public short static super synchronized throws transient volatile",5:"class enum extends super const export import",6:"enum",strict:"implements interface let package private protected public static yield",strictBind:"eval arguments"},Kb="break case catch continue debugger default do else finally for function if return switch throw try var while with null true false instanceof typeof void delete new in this",PP={5:Kb,"5module":Kb+" export import",6:Kb+" const class extends export import super"},NP=/^in(stanceof)?$/,AP=new RegExp("["+f1+"]"),RP=new RegExp("["+f1+EP+"]");function Xb(t,e){for(var i=65536,o=0;o<e.length;o+=2){if(i+=e[o],i>t)return!1;if(i+=e[o+1],i>=t)return!0}return!1}n(Xb,"isInAstralSet");function Ni(t,e){return t<65?t===36:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&AP.test(String.fromCharCode(t)):e===!1?!1:Xb(t,p1)}n(Ni,"isIdentifierStart");function ia(t,e){return t<48?t===36:t<58?!0:t<65?!1:t<91?!0:t<97?t===95:t<123?!0:t<=65535?t>=170&&RP.test(String.fromCharCode(t)):e===!1?!1:Xb(t,p1)||Xb(t,CP)}n(ia,"isIdentifierChar");var ce=n(function(e,i){i===void 0&&(i={}),this.label=e,this.keyword=i.keyword,this.beforeExpr=!!i.beforeExpr,this.startsExpr=!!i.startsExpr,this.isLoop=!!i.isLoop,this.isAssign=!!i.isAssign,this.prefix=!!i.prefix,this.postfix=!!i.postfix,this.binop=i.binop||null,this.updateContext=null},"TokenType");function At(t,e){return new ce(t,{beforeExpr:!0,binop:e})}n(At,"binop");var Rt={beforeExpr:!0},ht={startsExpr:!0},ew={};function se(t,e){return e===void 0&&(e={}),e.keyword=t,ew[t]=new ce(t,e)}n(se,"kw");var _={num:new ce("num",ht),regexp:new ce("regexp",ht),string:new ce("string",ht),name:new ce("name",ht),privateId:new ce("privateId",ht),eof:new ce("eof"),bracketL:new ce("[",{beforeExpr:!0,startsExpr:!0}),bracketR:new ce("]"),braceL:new ce("{",{beforeExpr:!0,startsExpr:!0}),braceR:new ce("}"),parenL:new ce("(",{beforeExpr:!0,startsExpr:!0}),parenR:new ce(")"),comma:new ce(",",Rt),semi:new ce(";",Rt),colon:new ce(":",Rt),dot:new ce("."),question:new ce("?",Rt),questionDot:new ce("?."),arrow:new ce("=>",Rt),template:new ce("template"),invalidTemplate:new ce("invalidTemplate"),ellipsis:new ce("...",Rt),backQuote:new ce("`",ht),dollarBraceL:new ce("${",{beforeExpr:!0,startsExpr:!0}),eq:new ce("=",{beforeExpr:!0,isAssign:!0}),assign:new ce("_=",{beforeExpr:!0,isAssign:!0}),incDec:new ce("++/--",{prefix:!0,postfix:!0,startsExpr:!0}),prefix:new ce("!/~",{beforeExpr:!0,prefix:!0,startsExpr:!0}),logicalOR:At("||",1),logicalAND:At("&&",2),bitwiseOR:At("|",3),bitwiseXOR:At("^",4),bitwiseAND:At("&",5),equality:At("==/!=/===/!==",6),relational:At("</>/<=/>=",7),bitShift:At("<</>>/>>>",8),plusMin:new ce("+/-",{beforeExpr:!0,binop:9,prefix:!0,startsExpr:!0}),modulo:At("%",10),star:At("*",10),slash:At("/",10),starstar:new ce("**",{beforeExpr:!0}),coalesce:At("??",1),_break:se("break"),_case:se("case",Rt),_catch:se("catch"),_continue:se("continue"),_debugger:se("debugger"),_default:se("default",Rt),_do:se("do",{isLoop:!0,beforeExpr:!0}),_else:se("else",Rt),_finally:se("finally"),_for:se("for",{isLoop:!0}),_function:se("function",ht),_if:se("if"),_return:se("return",Rt),_switch:se("switch"),_throw:se("throw",Rt),_try:se("try"),_var:se("var"),_const:se("const"),_while:se("while",{isLoop:!0}),_with:se("with"),_new:se("new",{beforeExpr:!0,startsExpr:!0}),_this:se("this",ht),_super:se("super",ht),_class:se("class",ht),_extends:se("extends",Rt),_export:se("export"),_import:se("import",ht),_null:se("null",ht),_true:se("true",ht),_false:se("false",ht),_in:se("in",{beforeExpr:!0,binop:7}),_instanceof:se("instanceof",{beforeExpr:!0,binop:7}),_typeof:se("typeof",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_void:se("void",{beforeExpr:!0,prefix:!0,startsExpr:!0}),_delete:se("delete",{beforeExpr:!0,prefix:!0,startsExpr:!0})},Ot=/\r\n?|\n|\u2028|\u2029/,VP=new RegExp(Ot.source,"g");function oa(t){return t===10||t===13||t===8232||t===8233}n(oa,"isNewLine");function m1(t,e,i){i===void 0&&(i=t.length);for(var o=e;o<i;o++){var r=t.charCodeAt(o);if(oa(r))return o<i-1&&r===13&&t.charCodeAt(o+1)===10?o+2:o+1}return-1}n(m1,"nextLineBreak");var h1=/[\u1680\u2000-\u200a\u202f\u205f\u3000\ufeff]/,Vt=/(?:\s|\/\/.*|\/\*[^]*?\*\/)*/g,_1=Object.prototype,MP=_1.hasOwnProperty,OP=_1.toString,s_=Object.hasOwn||function(t,e){return MP.call(t,e)},a1=Array.isArray||function(t){return OP.call(t)==="[object Array]"},u1=Object.create(null);function xo(t){return u1[t]||(u1[t]=new RegExp("^(?:"+t.replace(/ /g,"|")+")$"))}n(xo,"wordsRegexp");function yo(t){return t<=65535?String.fromCharCode(t):(t-=65536,String.fromCharCode((t>>10)+55296,(t&1023)+56320))}n(yo,"codePointToString");var DP=/(?:[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/,n_=n(function(e,i){this.line=e,this.column=i},"Position");n_.prototype.offset=n(function(e){return new n_(this.line,this.column+e)},"offset");var _y=n(function(e,i,o){this.start=i,this.end=o,e.sourceFile!==null&&(this.source=e.sourceFile)},"SourceLocation");function v1(t,e){for(var i=1,o=0;;){var r=m1(t,o,e);if(r<0)return new n_(i,e-o);++i,o=r}}n(v1,"getLineInfo");var Qb={ecmaVersion:null,sourceType:"script",onInsertedSemicolon:null,onTrailingComma:null,allowReserved:null,allowReturnOutsideFunction:!1,allowImportExportEverywhere:!1,allowAwaitOutsideFunction:null,allowSuperOutsideMethod:null,allowHashBang:!1,checkPrivateFields:!0,locations:!1,onToken:null,onComment:null,ranges:!1,program:null,sourceFile:null,directSourceFile:null,preserveParens:!1},l1=!1;function LP(t){var e={};for(var i in Qb)e[i]=t&&s_(t,i)?t[i]:Qb[i];if(e.ecmaVersion==="latest"?e.ecmaVersion=1e8:e.ecmaVersion==null?(!l1&&typeof console=="object"&&console.warn&&(l1=!0,console.warn(`Since Acorn 8.0.0, options.ecmaVersion is required.
Defaulting to 2020, but this will stop working in the future.`)),e.ecmaVersion=11):e.ecmaVersion>=2015&&(e.ecmaVersion-=2009),e.allowReserved==null&&(e.allowReserved=e.ecmaVersion<5),(!t||t.allowHashBang==null)&&(e.allowHashBang=e.ecmaVersion>=14),a1(e.onToken)){var o=e.onToken;e.onToken=function(r){return o.push(r)}}return a1(e.onComment)&&(e.onComment=BP(e,e.onComment)),e}n(LP,"getOptions");function BP(t,e){return function(i,o,r,s,u,p){var f={type:i?"Block":"Line",value:o,start:r,end:s};t.locations&&(f.loc=new _y(this,u,p)),t.ranges&&(f.range=[r,s]),e.push(f)}}n(BP,"pushComment");var r_=1,na=2,tw=4,g1=8,x1=16,y1=32,iw=64,b1=128,a_=256,ow=r_|na|a_;function nw(t,e){return na|(t?tw:0)|(e?g1:0)}n(nw,"functionFlags");var fy=0,rw=1,Ri=2,w1=3,T1=4,I1=5,Oe=n(function(e,i,o){this.options=e=LP(e),this.sourceFile=e.sourceFile,this.keywords=xo(PP[e.ecmaVersion>=6?6:e.sourceType==="module"?"5module":5]);var r="";e.allowReserved!==!0&&(r=$b[e.ecmaVersion>=6?6:e.ecmaVersion===5?5:3],e.sourceType==="module"&&(r+=" await")),this.reservedWords=xo(r);var s=(r?r+" ":"")+$b.strict;this.reservedWordsStrict=xo(s),this.reservedWordsStrictBind=xo(s+" "+$b.strictBind),this.input=String(i),this.containsEsc=!1,o?(this.pos=o,this.lineStart=this.input.lastIndexOf(`
`,o-1)+1,this.curLine=this.input.slice(0,this.lineStart).split(Ot).length):(this.pos=this.lineStart=0,this.curLine=1),this.type=_.eof,this.value=null,this.start=this.end=this.pos,this.startLoc=this.endLoc=this.curPosition(),this.lastTokEndLoc=this.lastTokStartLoc=null,this.lastTokStart=this.lastTokEnd=this.pos,this.context=this.initialContext(),this.exprAllowed=!0,this.inModule=e.sourceType==="module",this.strict=this.inModule||this.strictDirective(this.pos),this.potentialArrowAt=-1,this.potentialArrowInForAwait=!1,this.yieldPos=this.awaitPos=this.awaitIdentPos=0,this.labels=[],this.undefinedExports=Object.create(null),this.pos===0&&e.allowHashBang&&this.input.slice(0,2)==="#!"&&this.skipLineComment(2),this.scopeStack=[],this.enterScope(r_),this.regexpState=null,this.privateNameStack=[]},"Parser"),mi={inFunction:{configurable:!0},inGenerator:{configurable:!0},inAsync:{configurable:!0},canAwait:{configurable:!0},allowSuper:{configurable:!0},allowDirectSuper:{configurable:!0},treatFunctionsAsVar:{configurable:!0},allowNewDotTarget:{configurable:!0},inClassStaticBlock:{configurable:!0}};Oe.prototype.parse=n(function(){var e=this.options.program||this.startNode();return this.nextToken(),this.parseTopLevel(e)},"parse");mi.inFunction.get=function(){return(this.currentVarScope().flags&na)>0};mi.inGenerator.get=function(){return(this.currentVarScope().flags&g1)>0&&!this.currentVarScope().inClassFieldInit};mi.inAsync.get=function(){return(this.currentVarScope().flags&tw)>0&&!this.currentVarScope().inClassFieldInit};mi.canAwait.get=function(){for(var t=this.scopeStack.length-1;t>=0;t--){var e=this.scopeStack[t];if(e.inClassFieldInit||e.flags&a_)return!1;if(e.flags&na)return(e.flags&tw)>0}return this.inModule&&this.options.ecmaVersion>=13||this.options.allowAwaitOutsideFunction};mi.allowSuper.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&iw)>0||i||this.options.allowSuperOutsideMethod};mi.allowDirectSuper.get=function(){return(this.currentThisScope().flags&b1)>0};mi.treatFunctionsAsVar.get=function(){return this.treatFunctionsAsVarInScope(this.currentScope())};mi.allowNewDotTarget.get=function(){var t=this.currentThisScope(),e=t.flags,i=t.inClassFieldInit;return(e&(na|a_))>0||i};mi.inClassStaticBlock.get=function(){return(this.currentVarScope().flags&a_)>0};Oe.extend=n(function(){for(var e=[],i=arguments.length;i--;)e[i]=arguments[i];for(var o=this,r=0;r<e.length;r++)o=e[r](o);return o},"extend");Oe.parse=n(function(e,i){return new this(i,e).parse()},"parse");Oe.parseExpressionAt=n(function(e,i,o){var r=new this(o,e,i);return r.nextToken(),r.parseExpression()},"parseExpressionAt");Oe.tokenizer=n(function(e,i){return new this(i,e)},"tokenizer");Object.defineProperties(Oe.prototype,mi);var ut=Oe.prototype,FP=/^(?:'((?:\\.|[^'\\])*?)'|"((?:\\.|[^"\\])*?)")/;ut.strictDirective=function(t){if(this.options.ecmaVersion<5)return!1;for(;;){Vt.lastIndex=t,t+=Vt.exec(this.input)[0].length;var e=FP.exec(this.input.slice(t));if(!e)return!1;if((e[1]||e[2])==="use strict"){Vt.lastIndex=t+e[0].length;var i=Vt.exec(this.input),o=i.index+i[0].length,r=this.input.charAt(o);return r===";"||r==="}"||Ot.test(i[0])&&!(/[(`.[+\-/*%<>=,?^&]/.test(r)||r==="!"&&this.input.charAt(o+1)==="=")}t+=e[0].length,Vt.lastIndex=t,t+=Vt.exec(this.input)[0].length,this.input[t]===";"&&t++}};ut.eat=function(t){return this.type===t?(this.next(),!0):!1};ut.isContextual=function(t){return this.type===_.name&&this.value===t&&!this.containsEsc};ut.eatContextual=function(t){return this.isContextual(t)?(this.next(),!0):!1};ut.expectContextual=function(t){this.eatContextual(t)||this.unexpected()};ut.canInsertSemicolon=function(){return this.type===_.eof||this.type===_.braceR||Ot.test(this.input.slice(this.lastTokEnd,this.start))};ut.insertSemicolon=function(){if(this.canInsertSemicolon())return this.options.onInsertedSemicolon&&this.options.onInsertedSemicolon(this.lastTokEnd,this.lastTokEndLoc),!0};ut.semicolon=function(){!this.eat(_.semi)&&!this.insertSemicolon()&&this.unexpected()};ut.afterTrailingComma=function(t,e){if(this.type===t)return this.options.onTrailingComma&&this.options.onTrailingComma(this.lastTokStart,this.lastTokStartLoc),e||this.next(),!0};ut.expect=function(t){this.eat(t)||this.unexpected()};ut.unexpected=function(t){this.raise(t!=null?t:this.start,"Unexpected token")};var vy=n(function(){this.shorthandAssign=this.trailingComma=this.parenthesizedAssign=this.parenthesizedBind=this.doubleProto=-1},"DestructuringErrors");ut.checkPatternErrors=function(t,e){if(!!t){t.trailingComma>-1&&this.raiseRecoverable(t.trailingComma,"Comma is not permitted after the rest element");var i=e?t.parenthesizedAssign:t.parenthesizedBind;i>-1&&this.raiseRecoverable(i,e?"Assigning to rvalue":"Parenthesized pattern")}};ut.checkExpressionErrors=function(t,e){if(!t)return!1;var i=t.shorthandAssign,o=t.doubleProto;if(!e)return i>=0||o>=0;i>=0&&this.raise(i,"Shorthand property assignments are valid only in destructuring patterns"),o>=0&&this.raiseRecoverable(o,"Redefinition of __proto__ property")};ut.checkYieldAwaitInDefaultParams=function(){this.yieldPos&&(!this.awaitPos||this.yieldPos<this.awaitPos)&&this.raise(this.yieldPos,"Yield expression cannot be a default value"),this.awaitPos&&this.raise(this.awaitPos,"Await expression cannot be a default value")};ut.isSimpleAssignTarget=function(t){return t.type==="ParenthesizedExpression"?this.isSimpleAssignTarget(t.expression):t.type==="Identifier"||t.type==="MemberExpression"};var F=Oe.prototype;F.parseTopLevel=function(t){var e=Object.create(null);for(t.body||(t.body=[]);this.type!==_.eof;){var i=this.parseStatement(null,!0,e);t.body.push(i)}if(this.inModule)for(var o=0,r=Object.keys(this.undefinedExports);o<r.length;o+=1){var s=r[o];this.raiseRecoverable(this.undefinedExports[s].start,"Export '"+s+"' is not defined")}return this.adaptDirectivePrologue(t.body),this.next(),t.sourceType=this.options.sourceType,this.finishNode(t,"Program")};var sw={kind:"loop"},YP={kind:"switch"};F.isLet=function(t){if(this.options.ecmaVersion<6||!this.isContextual("let"))return!1;Vt.lastIndex=this.pos;var e=Vt.exec(this.input),i=this.pos+e[0].length,o=this.input.charCodeAt(i);if(o===91||o===92)return!0;if(t)return!1;if(o===123||o>55295&&o<56320)return!0;if(Ni(o,!0)){for(var r=i+1;ia(o=this.input.charCodeAt(r),!0);)++r;if(o===92||o>55295&&o<56320)return!0;var s=this.input.slice(i,r);if(!NP.test(s))return!0}return!1};F.isAsyncFunction=function(){if(this.options.ecmaVersion<8||!this.isContextual("async"))return!1;Vt.lastIndex=this.pos;var t=Vt.exec(this.input),e=this.pos+t[0].length,i;return!Ot.test(this.input.slice(this.pos,e))&&this.input.slice(e,e+8)==="function"&&(e+8===this.input.length||!(ia(i=this.input.charCodeAt(e+8))||i>55295&&i<56320))};F.parseStatement=function(t,e,i){var o=this.type,r=this.startNode(),s;switch(this.isLet(t)&&(o=_._var,s="let"),o){case _._break:case _._continue:return this.parseBreakContinueStatement(r,o.keyword);case _._debugger:return this.parseDebuggerStatement(r);case _._do:return this.parseDoStatement(r);case _._for:return this.parseForStatement(r);case _._function:return t&&(this.strict||t!=="if"&&t!=="label")&&this.options.ecmaVersion>=6&&this.unexpected(),this.parseFunctionStatement(r,!1,!t);case _._class:return t&&this.unexpected(),this.parseClass(r,!0);case _._if:return this.parseIfStatement(r);case _._return:return this.parseReturnStatement(r);case _._switch:return this.parseSwitchStatement(r);case _._throw:return this.parseThrowStatement(r);case _._try:return this.parseTryStatement(r);case _._const:case _._var:return s=s||this.value,t&&s!=="var"&&this.unexpected(),this.parseVarStatement(r,s);case _._while:return this.parseWhileStatement(r);case _._with:return this.parseWithStatement(r);case _.braceL:return this.parseBlock(!0,r);case _.semi:return this.parseEmptyStatement(r);case _._export:case _._import:if(this.options.ecmaVersion>10&&o===_._import){Vt.lastIndex=this.pos;var u=Vt.exec(this.input),p=this.pos+u[0].length,f=this.input.charCodeAt(p);if(f===40||f===46)return this.parseExpressionStatement(r,this.parseExpression())}return this.options.allowImportExportEverywhere||(e||this.raise(this.start,"'import' and 'export' may only appear at the top level"),this.inModule||this.raise(this.start,"'import' and 'export' may appear only with 'sourceType: module'")),o===_._import?this.parseImport(r):this.parseExport(r,i);default:if(this.isAsyncFunction())return t&&this.unexpected(),this.next(),this.parseFunctionStatement(r,!0,!t);var m=this.value,h=this.parseExpression();return o===_.name&&h.type==="Identifier"&&this.eat(_.colon)?this.parseLabeledStatement(r,m,h,t):this.parseExpressionStatement(r,h)}};F.parseBreakContinueStatement=function(t,e){var i=e==="break";this.next(),this.eat(_.semi)||this.insertSemicolon()?t.label=null:this.type!==_.name?this.unexpected():(t.label=this.parseIdent(),this.semicolon());for(var o=0;o<this.labels.length;++o){var r=this.labels[o];if((t.label==null||r.name===t.label.name)&&(r.kind!=null&&(i||r.kind==="loop")||t.label&&i))break}return o===this.labels.length&&this.raise(t.start,"Unsyntactic "+e),this.finishNode(t,i?"BreakStatement":"ContinueStatement")};F.parseDebuggerStatement=function(t){return this.next(),this.semicolon(),this.finishNode(t,"DebuggerStatement")};F.parseDoStatement=function(t){return this.next(),this.labels.push(sw),t.body=this.parseStatement("do"),this.labels.pop(),this.expect(_._while),t.test=this.parseParenExpression(),this.options.ecmaVersion>=6?this.eat(_.semi):this.semicolon(),this.finishNode(t,"DoWhileStatement")};F.parseForStatement=function(t){this.next();var e=this.options.ecmaVersion>=9&&this.canAwait&&this.eatContextual("await")?this.lastTokStart:-1;if(this.labels.push(sw),this.enterScope(0),this.expect(_.parenL),this.type===_.semi)return e>-1&&this.unexpected(e),this.parseFor(t,null);var i=this.isLet();if(this.type===_._var||this.type===_._const||i){var o=this.startNode(),r=i?"let":this.value;return this.next(),this.parseVar(o,!0,r),this.finishNode(o,"VariableDeclaration"),(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))&&o.declarations.length===1?(this.options.ecmaVersion>=9&&(this.type===_._in?e>-1&&this.unexpected(e):t.await=e>-1),this.parseForIn(t,o)):(e>-1&&this.unexpected(e),this.parseFor(t,o))}var s=this.isContextual("let"),u=!1,p=new vy,f=this.parseExpression(e>-1?"await":!0,p);return this.type===_._in||(u=this.options.ecmaVersion>=6&&this.isContextual("of"))?(this.options.ecmaVersion>=9&&(this.type===_._in?e>-1&&this.unexpected(e):t.await=e>-1),s&&u&&this.raise(f.start,"The left-hand side of a for-of loop may not start with 'let'."),this.toAssignable(f,!1,p),this.checkLValPattern(f),this.parseForIn(t,f)):(this.checkExpressionErrors(p,!0),e>-1&&this.unexpected(e),this.parseFor(t,f))};F.parseFunctionStatement=function(t,e,i){return this.next(),this.parseFunction(t,o_|(i?0:Zb),!1,e)};F.parseIfStatement=function(t){return this.next(),t.test=this.parseParenExpression(),t.consequent=this.parseStatement("if"),t.alternate=this.eat(_._else)?this.parseStatement("if"):null,this.finishNode(t,"IfStatement")};F.parseReturnStatement=function(t){return!this.inFunction&&!this.options.allowReturnOutsideFunction&&this.raise(this.start,"'return' outside of function"),this.next(),this.eat(_.semi)||this.insertSemicolon()?t.argument=null:(t.argument=this.parseExpression(),this.semicolon()),this.finishNode(t,"ReturnStatement")};F.parseSwitchStatement=function(t){this.next(),t.discriminant=this.parseParenExpression(),t.cases=[],this.expect(_.braceL),this.labels.push(YP),this.enterScope(0);for(var e,i=!1;this.type!==_.braceR;)if(this.type===_._case||this.type===_._default){var o=this.type===_._case;e&&this.finishNode(e,"SwitchCase"),t.cases.push(e=this.startNode()),e.consequent=[],this.next(),o?e.test=this.parseExpression():(i&&this.raiseRecoverable(this.lastTokStart,"Multiple default clauses"),i=!0,e.test=null),this.expect(_.colon)}else e||this.unexpected(),e.consequent.push(this.parseStatement(null));return this.exitScope(),e&&this.finishNode(e,"SwitchCase"),this.next(),this.labels.pop(),this.finishNode(t,"SwitchStatement")};F.parseThrowStatement=function(t){return this.next(),Ot.test(this.input.slice(this.lastTokEnd,this.start))&&this.raise(this.lastTokEnd,"Illegal newline after throw"),t.argument=this.parseExpression(),this.semicolon(),this.finishNode(t,"ThrowStatement")};var jP=[];F.parseCatchClauseParam=function(){var t=this.parseBindingAtom(),e=t.type==="Identifier";return this.enterScope(e?y1:0),this.checkLValPattern(t,e?T1:Ri),this.expect(_.parenR),t};F.parseTryStatement=function(t){if(this.next(),t.block=this.parseBlock(),t.handler=null,this.type===_._catch){var e=this.startNode();this.next(),this.eat(_.parenL)?e.param=this.parseCatchClauseParam():(this.options.ecmaVersion<10&&this.unexpected(),e.param=null,this.enterScope(0)),e.body=this.parseBlock(!1),this.exitScope(),t.handler=this.finishNode(e,"CatchClause")}return t.finalizer=this.eat(_._finally)?this.parseBlock():null,!t.handler&&!t.finalizer&&this.raise(t.start,"Missing catch or finally clause"),this.finishNode(t,"TryStatement")};F.parseVarStatement=function(t,e,i){return this.next(),this.parseVar(t,!1,e,i),this.semicolon(),this.finishNode(t,"VariableDeclaration")};F.parseWhileStatement=function(t){return this.next(),t.test=this.parseParenExpression(),this.labels.push(sw),t.body=this.parseStatement("while"),this.labels.pop(),this.finishNode(t,"WhileStatement")};F.parseWithStatement=function(t){return this.strict&&this.raise(this.start,"'with' in strict mode"),this.next(),t.object=this.parseParenExpression(),t.body=this.parseStatement("with"),this.finishNode(t,"WithStatement")};F.parseEmptyStatement=function(t){return this.next(),this.finishNode(t,"EmptyStatement")};F.parseLabeledStatement=function(t,e,i,o){for(var r=0,s=this.labels;r<s.length;r+=1){var u=s[r];u.name===e&&this.raise(i.start,"Label '"+e+"' is already declared")}for(var p=this.type.isLoop?"loop":this.type===_._switch?"switch":null,f=this.labels.length-1;f>=0;f--){var m=this.labels[f];if(m.statementStart===t.start)m.statementStart=this.start,m.kind=p;else break}return this.labels.push({name:e,kind:p,statementStart:this.start}),t.body=this.parseStatement(o?o.indexOf("label")===-1?o+"label":o:"label"),this.labels.pop(),t.label=i,this.finishNode(t,"LabeledStatement")};F.parseExpressionStatement=function(t,e){return t.expression=e,this.semicolon(),this.finishNode(t,"ExpressionStatement")};F.parseBlock=function(t,e,i){for(t===void 0&&(t=!0),e===void 0&&(e=this.startNode()),e.body=[],this.expect(_.braceL),t&&this.enterScope(0);this.type!==_.braceR;){var o=this.parseStatement(null);e.body.push(o)}return i&&(this.strict=!1),this.next(),t&&this.exitScope(),this.finishNode(e,"BlockStatement")};F.parseFor=function(t,e){return t.init=e,this.expect(_.semi),t.test=this.type===_.semi?null:this.parseExpression(),this.expect(_.semi),t.update=this.type===_.parenR?null:this.parseExpression(),this.expect(_.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,"ForStatement")};F.parseForIn=function(t,e){var i=this.type===_._in;return this.next(),e.type==="VariableDeclaration"&&e.declarations[0].init!=null&&(!i||this.options.ecmaVersion<8||this.strict||e.kind!=="var"||e.declarations[0].id.type!=="Identifier")&&this.raise(e.start,(i?"for-in":"for-of")+" loop variable declaration may not have an initializer"),t.left=e,t.right=i?this.parseExpression():this.parseMaybeAssign(),this.expect(_.parenR),t.body=this.parseStatement("for"),this.exitScope(),this.labels.pop(),this.finishNode(t,i?"ForInStatement":"ForOfStatement")};F.parseVar=function(t,e,i,o){for(t.declarations=[],t.kind=i;;){var r=this.startNode();if(this.parseVarId(r,i),this.eat(_.eq)?r.init=this.parseMaybeAssign(e):!o&&i==="const"&&!(this.type===_._in||this.options.ecmaVersion>=6&&this.isContextual("of"))?this.unexpected():!o&&r.id.type!=="Identifier"&&!(e&&(this.type===_._in||this.isContextual("of")))?this.raise(this.lastTokEnd,"Complex binding patterns require an initialization value"):r.init=null,t.declarations.push(this.finishNode(r,"VariableDeclarator")),!this.eat(_.comma))break}return t};F.parseVarId=function(t,e){t.id=this.parseBindingAtom(),this.checkLValPattern(t.id,e==="var"?rw:Ri,!1)};var o_=1,Zb=2,k1=4;F.parseFunction=function(t,e,i,o,r){this.initFunction(t),(this.options.ecmaVersion>=9||this.options.ecmaVersion>=6&&!o)&&(this.type===_.star&&e&Zb&&this.unexpected(),t.generator=this.eat(_.star)),this.options.ecmaVersion>=8&&(t.async=!!o),e&o_&&(t.id=e&k1&&this.type!==_.name?null:this.parseIdent(),t.id&&!(e&Zb)&&this.checkLValSimple(t.id,this.strict||t.generator||t.async?this.treatFunctionsAsVar?rw:Ri:w1));var s=this.yieldPos,u=this.awaitPos,p=this.awaitIdentPos;return this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nw(t.async,t.generator)),e&o_||(t.id=this.type===_.name?this.parseIdent():null),this.parseFunctionParams(t),this.parseFunctionBody(t,i,!1,r),this.yieldPos=s,this.awaitPos=u,this.awaitIdentPos=p,this.finishNode(t,e&o_?"FunctionDeclaration":"FunctionExpression")};F.parseFunctionParams=function(t){this.expect(_.parenL),t.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams()};F.parseClass=function(t,e){this.next();var i=this.strict;this.strict=!0,this.parseClassId(t,e),this.parseClassSuper(t);var o=this.enterClassBody(),r=this.startNode(),s=!1;for(r.body=[],this.expect(_.braceL);this.type!==_.braceR;){var u=this.parseClassElement(t.superClass!==null);u&&(r.body.push(u),u.type==="MethodDefinition"&&u.kind==="constructor"?(s&&this.raiseRecoverable(u.start,"Duplicate constructor in the same class"),s=!0):u.key&&u.key.type==="PrivateIdentifier"&&UP(o,u)&&this.raiseRecoverable(u.key.start,"Identifier '#"+u.key.name+"' has already been declared"))}return this.strict=i,this.next(),t.body=this.finishNode(r,"ClassBody"),this.exitClassBody(),this.finishNode(t,e?"ClassDeclaration":"ClassExpression")};F.parseClassElement=function(t){if(this.eat(_.semi))return null;var e=this.options.ecmaVersion,i=this.startNode(),o="",r=!1,s=!1,u="method",p=!1;if(this.eatContextual("static")){if(e>=13&&this.eat(_.braceL))return this.parseClassStaticBlock(i),i;this.isClassElementNameStart()||this.type===_.star?p=!0:o="static"}if(i.static=p,!o&&e>=8&&this.eatContextual("async")&&((this.isClassElementNameStart()||this.type===_.star)&&!this.canInsertSemicolon()?s=!0:o="async"),!o&&(e>=9||!s)&&this.eat(_.star)&&(r=!0),!o&&!s&&!r){var f=this.value;(this.eatContextual("get")||this.eatContextual("set"))&&(this.isClassElementNameStart()?u=f:o=f)}if(o?(i.computed=!1,i.key=this.startNodeAt(this.lastTokStart,this.lastTokStartLoc),i.key.name=o,this.finishNode(i.key,"Identifier")):this.parseClassElementName(i),e<13||this.type===_.parenL||u!=="method"||r||s){var m=!i.static&&my(i,"constructor"),h=m&&t;m&&u!=="method"&&this.raise(i.key.start,"Constructor can't have get/set modifier"),i.kind=m?"constructor":u,this.parseClassMethod(i,r,s,h)}else this.parseClassField(i);return i};F.isClassElementNameStart=function(){return this.type===_.name||this.type===_.privateId||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword};F.parseClassElementName=function(t){this.type===_.privateId?(this.value==="constructor"&&this.raise(this.start,"Classes can't have an element named '#constructor'"),t.computed=!1,t.key=this.parsePrivateIdent()):this.parsePropertyName(t)};F.parseClassMethod=function(t,e,i,o){var r=t.key;t.kind==="constructor"?(e&&this.raise(r.start,"Constructor can't be a generator"),i&&this.raise(r.start,"Constructor can't be an async method")):t.static&&my(t,"prototype")&&this.raise(r.start,"Classes may not have a static property named prototype");var s=t.value=this.parseMethod(e,i,o);return t.kind==="get"&&s.params.length!==0&&this.raiseRecoverable(s.start,"getter should have no params"),t.kind==="set"&&s.params.length!==1&&this.raiseRecoverable(s.start,"setter should have exactly one param"),t.kind==="set"&&s.params[0].type==="RestElement"&&this.raiseRecoverable(s.params[0].start,"Setter cannot use rest params"),this.finishNode(t,"MethodDefinition")};F.parseClassField=function(t){if(my(t,"constructor")?this.raise(t.key.start,"Classes can't have a field named 'constructor'"):t.static&&my(t,"prototype")&&this.raise(t.key.start,"Classes can't have a static field named 'prototype'"),this.eat(_.eq)){var e=this.currentThisScope(),i=e.inClassFieldInit;e.inClassFieldInit=!0,t.value=this.parseMaybeAssign(),e.inClassFieldInit=i}else t.value=null;return this.semicolon(),this.finishNode(t,"PropertyDefinition")};F.parseClassStaticBlock=function(t){t.body=[];var e=this.labels;for(this.labels=[],this.enterScope(a_|iw);this.type!==_.braceR;){var i=this.parseStatement(null);t.body.push(i)}return this.next(),this.exitScope(),this.labels=e,this.finishNode(t,"StaticBlock")};F.parseClassId=function(t,e){this.type===_.name?(t.id=this.parseIdent(),e&&this.checkLValSimple(t.id,Ri,!1)):(e===!0&&this.unexpected(),t.id=null)};F.parseClassSuper=function(t){t.superClass=this.eat(_._extends)?this.parseExprSubscripts(null,!1):null};F.enterClassBody=function(){var t={declared:Object.create(null),used:[]};return this.privateNameStack.push(t),t.declared};F.exitClassBody=function(){var t=this.privateNameStack.pop(),e=t.declared,i=t.used;if(!!this.options.checkPrivateFields)for(var o=this.privateNameStack.length,r=o===0?null:this.privateNameStack[o-1],s=0;s<i.length;++s){var u=i[s];s_(e,u.name)||(r?r.used.push(u):this.raiseRecoverable(u.start,"Private field '#"+u.name+"' must be declared in an enclosing class"))}};function UP(t,e){var i=e.key.name,o=t[i],r="true";return e.type==="MethodDefinition"&&(e.kind==="get"||e.kind==="set")&&(r=(e.static?"s":"i")+e.kind),o==="iget"&&r==="iset"||o==="iset"&&r==="iget"||o==="sget"&&r==="sset"||o==="sset"&&r==="sget"?(t[i]="true",!1):o?!0:(t[i]=r,!1)}n(UP,"isPrivateNameConflicted");function my(t,e){var i=t.computed,o=t.key;return!i&&(o.type==="Identifier"&&o.name===e||o.type==="Literal"&&o.value===e)}n(my,"checkKeyName");F.parseExportAllDeclaration=function(t,e){return this.options.ecmaVersion>=11&&(this.eatContextual("as")?(t.exported=this.parseModuleExportName(),this.checkExport(e,t.exported,this.lastTokStart)):t.exported=null),this.expectContextual("from"),this.type!==_.string&&this.unexpected(),t.source=this.parseExprAtom(),this.semicolon(),this.finishNode(t,"ExportAllDeclaration")};F.parseExport=function(t,e){if(this.next(),this.eat(_.star))return this.parseExportAllDeclaration(t,e);if(this.eat(_._default))return this.checkExport(e,"default",this.lastTokStart),t.declaration=this.parseExportDefaultDeclaration(),this.finishNode(t,"ExportDefaultDeclaration");if(this.shouldParseExportStatement())t.declaration=this.parseExportDeclaration(t),t.declaration.type==="VariableDeclaration"?this.checkVariableExport(e,t.declaration.declarations):this.checkExport(e,t.declaration.id,t.declaration.id.start),t.specifiers=[],t.source=null;else{if(t.declaration=null,t.specifiers=this.parseExportSpecifiers(e),this.eatContextual("from"))this.type!==_.string&&this.unexpected(),t.source=this.parseExprAtom();else{for(var i=0,o=t.specifiers;i<o.length;i+=1){var r=o[i];this.checkUnreserved(r.local),this.checkLocalExport(r.local),r.local.type==="Literal"&&this.raise(r.local.start,"A string literal cannot be used as an exported binding without `from`.")}t.source=null}this.semicolon()}return this.finishNode(t,"ExportNamedDeclaration")};F.parseExportDeclaration=function(t){return this.parseStatement(null)};F.parseExportDefaultDeclaration=function(){var t;if(this.type===_._function||(t=this.isAsyncFunction())){var e=this.startNode();return this.next(),t&&this.next(),this.parseFunction(e,o_|k1,!1,t)}else if(this.type===_._class){var i=this.startNode();return this.parseClass(i,"nullableID")}else{var o=this.parseMaybeAssign();return this.semicolon(),o}};F.checkExport=function(t,e,i){!t||(typeof e!="string"&&(e=e.type==="Identifier"?e.name:e.value),s_(t,e)&&this.raiseRecoverable(i,"Duplicate export '"+e+"'"),t[e]=!0)};F.checkPatternExport=function(t,e){var i=e.type;if(i==="Identifier")this.checkExport(t,e,e.start);else if(i==="ObjectPattern")for(var o=0,r=e.properties;o<r.length;o+=1){var s=r[o];this.checkPatternExport(t,s)}else if(i==="ArrayPattern")for(var u=0,p=e.elements;u<p.length;u+=1){var f=p[u];f&&this.checkPatternExport(t,f)}else i==="Property"?this.checkPatternExport(t,e.value):i==="AssignmentPattern"?this.checkPatternExport(t,e.left):i==="RestElement"&&this.checkPatternExport(t,e.argument)};F.checkVariableExport=function(t,e){if(!!t)for(var i=0,o=e;i<o.length;i+=1){var r=o[i];this.checkPatternExport(t,r.id)}};F.shouldParseExportStatement=function(){return this.type.keyword==="var"||this.type.keyword==="const"||this.type.keyword==="class"||this.type.keyword==="function"||this.isLet()||this.isAsyncFunction()};F.parseExportSpecifier=function(t){var e=this.startNode();return e.local=this.parseModuleExportName(),e.exported=this.eatContextual("as")?this.parseModuleExportName():e.local,this.checkExport(t,e.exported,e.exported.start),this.finishNode(e,"ExportSpecifier")};F.parseExportSpecifiers=function(t){var e=[],i=!0;for(this.expect(_.braceL);!this.eat(_.braceR);){if(i)i=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;e.push(this.parseExportSpecifier(t))}return e};F.parseImport=function(t){return this.next(),this.type===_.string?(t.specifiers=jP,t.source=this.parseExprAtom()):(t.specifiers=this.parseImportSpecifiers(),this.expectContextual("from"),t.source=this.type===_.string?this.parseExprAtom():this.unexpected()),this.semicolon(),this.finishNode(t,"ImportDeclaration")};F.parseImportSpecifier=function(){var t=this.startNode();return t.imported=this.parseModuleExportName(),this.eatContextual("as")?t.local=this.parseIdent():(this.checkUnreserved(t.imported),t.local=t.imported),this.checkLValSimple(t.local,Ri),this.finishNode(t,"ImportSpecifier")};F.parseImportDefaultSpecifier=function(){var t=this.startNode();return t.local=this.parseIdent(),this.checkLValSimple(t.local,Ri),this.finishNode(t,"ImportDefaultSpecifier")};F.parseImportNamespaceSpecifier=function(){var t=this.startNode();return this.next(),this.expectContextual("as"),t.local=this.parseIdent(),this.checkLValSimple(t.local,Ri),this.finishNode(t,"ImportNamespaceSpecifier")};F.parseImportSpecifiers=function(){var t=[],e=!0;if(this.type===_.name&&(t.push(this.parseImportDefaultSpecifier()),!this.eat(_.comma)))return t;if(this.type===_.star)return t.push(this.parseImportNamespaceSpecifier()),t;for(this.expect(_.braceL);!this.eat(_.braceR);){if(e)e=!1;else if(this.expect(_.comma),this.afterTrailingComma(_.braceR))break;t.push(this.parseImportSpecifier())}return t};F.parseModuleExportName=function(){if(this.options.ecmaVersion>=13&&this.type===_.string){var t=this.parseLiteral(this.value);return DP.test(t.value)&&this.raise(t.start,"An export name cannot include a lone surrogate."),t}return this.parseIdent(!0)};F.adaptDirectivePrologue=function(t){for(var e=0;e<t.length&&this.isDirectiveCandidate(t[e]);++e)t[e].directive=t[e].expression.raw.slice(1,-1)};F.isDirectiveCandidate=function(t){return this.options.ecmaVersion>=5&&t.type==="ExpressionStatement"&&t.expression.type==="Literal"&&typeof t.expression.value=="string"&&(this.input[t.start]==='"'||this.input[t.start]==="'")};var Dt=Oe.prototype;Dt.toAssignable=function(t,e,i){if(this.options.ecmaVersion>=6&&t)switch(t.type){case"Identifier":this.inAsync&&t.name==="await"&&this.raise(t.start,"Cannot use 'await' as identifier inside an async function");break;case"ObjectPattern":case"ArrayPattern":case"AssignmentPattern":case"RestElement":break;case"ObjectExpression":t.type="ObjectPattern",i&&this.checkPatternErrors(i,!0);for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.toAssignable(s,e),s.type==="RestElement"&&(s.argument.type==="ArrayPattern"||s.argument.type==="ObjectPattern")&&this.raise(s.argument.start,"Unexpected token")}break;case"Property":t.kind!=="init"&&this.raise(t.key.start,"Object pattern can't contain getter or setter"),this.toAssignable(t.value,e);break;case"ArrayExpression":t.type="ArrayPattern",i&&this.checkPatternErrors(i,!0),this.toAssignableList(t.elements,e);break;case"SpreadElement":t.type="RestElement",this.toAssignable(t.argument,e),t.argument.type==="AssignmentPattern"&&this.raise(t.argument.start,"Rest elements cannot have a default value");break;case"AssignmentExpression":t.operator!=="="&&this.raise(t.left.end,"Only '=' operator can be used for specifying default value."),t.type="AssignmentPattern",delete t.operator,this.toAssignable(t.left,e);break;case"ParenthesizedExpression":this.toAssignable(t.expression,e,i);break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":if(!e)break;default:this.raise(t.start,"Assigning to rvalue")}else i&&this.checkPatternErrors(i,!0);return t};Dt.toAssignableList=function(t,e){for(var i=t.length,o=0;o<i;o++){var r=t[o];r&&this.toAssignable(r,e)}if(i){var s=t[i-1];this.options.ecmaVersion===6&&e&&s&&s.type==="RestElement"&&s.argument.type!=="Identifier"&&this.unexpected(s.argument.start)}return t};Dt.parseSpread=function(t){var e=this.startNode();return this.next(),e.argument=this.parseMaybeAssign(!1,t),this.finishNode(e,"SpreadElement")};Dt.parseRestBinding=function(){var t=this.startNode();return this.next(),this.options.ecmaVersion===6&&this.type!==_.name&&this.unexpected(),t.argument=this.parseBindingAtom(),this.finishNode(t,"RestElement")};Dt.parseBindingAtom=function(){if(this.options.ecmaVersion>=6)switch(this.type){case _.bracketL:var t=this.startNode();return this.next(),t.elements=this.parseBindingList(_.bracketR,!0,!0),this.finishNode(t,"ArrayPattern");case _.braceL:return this.parseObj(!0)}return this.parseIdent()};Dt.parseBindingList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);)if(s?s=!1:this.expect(_.comma),e&&this.type===_.comma)r.push(null);else{if(i&&this.afterTrailingComma(t))break;if(this.type===_.ellipsis){var u=this.parseRestBinding();this.parseBindingListItem(u),r.push(u),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.expect(t);break}else r.push(this.parseAssignableListItem(o))}return r};Dt.parseAssignableListItem=function(t){var e=this.parseMaybeDefault(this.start,this.startLoc);return this.parseBindingListItem(e),e};Dt.parseBindingListItem=function(t){return t};Dt.parseMaybeDefault=function(t,e,i){if(i=i||this.parseBindingAtom(),this.options.ecmaVersion<6||!this.eat(_.eq))return i;var o=this.startNodeAt(t,e);return o.left=i,o.right=this.parseMaybeAssign(),this.finishNode(o,"AssignmentPattern")};Dt.checkLValSimple=function(t,e,i){e===void 0&&(e=fy);var o=e!==fy;switch(t.type){case"Identifier":this.strict&&this.reservedWordsStrictBind.test(t.name)&&this.raiseRecoverable(t.start,(o?"Binding ":"Assigning to ")+t.name+" in strict mode"),o&&(e===Ri&&t.name==="let"&&this.raiseRecoverable(t.start,"let is disallowed as a lexically bound name"),i&&(s_(i,t.name)&&this.raiseRecoverable(t.start,"Argument name clash"),i[t.name]=!0),e!==I1&&this.declareName(t.name,e,t.start));break;case"ChainExpression":this.raiseRecoverable(t.start,"Optional chaining cannot appear in left-hand side");break;case"MemberExpression":o&&this.raiseRecoverable(t.start,"Binding member expression");break;case"ParenthesizedExpression":return o&&this.raiseRecoverable(t.start,"Binding parenthesized expression"),this.checkLValSimple(t.expression,e,i);default:this.raise(t.start,(o?"Binding":"Assigning to")+" rvalue")}};Dt.checkLValPattern=function(t,e,i){switch(e===void 0&&(e=fy),t.type){case"ObjectPattern":for(var o=0,r=t.properties;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,e,i)}break;case"ArrayPattern":for(var u=0,p=t.elements;u<p.length;u+=1){var f=p[u];f&&this.checkLValInnerPattern(f,e,i)}break;default:this.checkLValSimple(t,e,i)}};Dt.checkLValInnerPattern=function(t,e,i){switch(e===void 0&&(e=fy),t.type){case"Property":this.checkLValInnerPattern(t.value,e,i);break;case"AssignmentPattern":this.checkLValPattern(t.left,e,i);break;case"RestElement":this.checkLValPattern(t.argument,e,i);break;default:this.checkLValPattern(t,e,i)}};var Kt=n(function(e,i,o,r,s){this.token=e,this.isExpr=!!i,this.preserveSpace=!!o,this.override=r,this.generator=!!s},"TokContext"),Te={b_stat:new Kt("{",!1),b_expr:new Kt("{",!0),b_tmpl:new Kt("${",!1),p_stat:new Kt("(",!1),p_expr:new Kt("(",!0),q_tmpl:new Kt("`",!0,!0,function(t){return t.tryReadTemplateToken()}),f_stat:new Kt("function",!1),f_expr:new Kt("function",!0),f_expr_gen:new Kt("function",!0,!1,null,!0),f_gen:new Kt("function",!1,!1,null,!0)},ra=Oe.prototype;ra.initialContext=function(){return[Te.b_stat]};ra.curContext=function(){return this.context[this.context.length-1]};ra.braceIsBlock=function(t){var e=this.curContext();return e===Te.f_expr||e===Te.f_stat?!0:t===_.colon&&(e===Te.b_stat||e===Te.b_expr)?!e.isExpr:t===_._return||t===_.name&&this.exprAllowed?Ot.test(this.input.slice(this.lastTokEnd,this.start)):t===_._else||t===_.semi||t===_.eof||t===_.parenR||t===_.arrow?!0:t===_.braceL?e===Te.b_stat:t===_._var||t===_._const||t===_.name?!1:!this.exprAllowed};ra.inGeneratorContext=function(){for(var t=this.context.length-1;t>=1;t--){var e=this.context[t];if(e.token==="function")return e.generator}return!1};ra.updateContext=function(t){var e,i=this.type;i.keyword&&t===_.dot?this.exprAllowed=!1:(e=i.updateContext)?e.call(this,t):this.exprAllowed=i.beforeExpr};ra.overrideContext=function(t){this.curContext()!==t&&(this.context[this.context.length-1]=t)};_.parenR.updateContext=_.braceR.updateContext=function(){if(this.context.length===1){this.exprAllowed=!0;return}var t=this.context.pop();t===Te.b_stat&&this.curContext().token==="function"&&(t=this.context.pop()),this.exprAllowed=!t.isExpr};_.braceL.updateContext=function(t){this.context.push(this.braceIsBlock(t)?Te.b_stat:Te.b_expr),this.exprAllowed=!0};_.dollarBraceL.updateContext=function(){this.context.push(Te.b_tmpl),this.exprAllowed=!0};_.parenL.updateContext=function(t){var e=t===_._if||t===_._for||t===_._with||t===_._while;this.context.push(e?Te.p_stat:Te.p_expr),this.exprAllowed=!0};_.incDec.updateContext=function(){};_._function.updateContext=_._class.updateContext=function(t){t.beforeExpr&&t!==_._else&&!(t===_.semi&&this.curContext()!==Te.p_stat)&&!(t===_._return&&Ot.test(this.input.slice(this.lastTokEnd,this.start)))&&!((t===_.colon||t===_.braceL)&&this.curContext()===Te.b_stat)?this.context.push(Te.f_expr):this.context.push(Te.f_stat),this.exprAllowed=!1};_.colon.updateContext=function(){this.curContext().token==="function"&&this.context.pop(),this.exprAllowed=!0};_.backQuote.updateContext=function(){this.curContext()===Te.q_tmpl?this.context.pop():this.context.push(Te.q_tmpl),this.exprAllowed=!1};_.star.updateContext=function(t){if(t===_._function){var e=this.context.length-1;this.context[e]===Te.f_expr?this.context[e]=Te.f_expr_gen:this.context[e]=Te.f_gen}this.exprAllowed=!0};_.name.updateContext=function(t){var e=!1;this.options.ecmaVersion>=6&&t!==_.dot&&(this.value==="of"&&!this.exprAllowed||this.value==="yield"&&this.inGeneratorContext())&&(e=!0),this.exprAllowed=e};var z=Oe.prototype;z.checkPropClash=function(t,e,i){if(!(this.options.ecmaVersion>=9&&t.type==="SpreadElement")&&!(this.options.ecmaVersion>=6&&(t.computed||t.method||t.shorthand))){var o=t.key,r;switch(o.type){case"Identifier":r=o.name;break;case"Literal":r=String(o.value);break;default:return}var s=t.kind;if(this.options.ecmaVersion>=6){r==="__proto__"&&s==="init"&&(e.proto&&(i?i.doubleProto<0&&(i.doubleProto=o.start):this.raiseRecoverable(o.start,"Redefinition of __proto__ property")),e.proto=!0);return}r="$"+r;var u=e[r];if(u){var p;s==="init"?p=this.strict&&u.init||u.get||u.set:p=u.init||u[s],p&&this.raiseRecoverable(o.start,"Redefinition of property")}else u=e[r]={init:!1,get:!1,set:!1};u[s]=!0}};z.parseExpression=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeAssign(t,e);if(this.type===_.comma){var s=this.startNodeAt(i,o);for(s.expressions=[r];this.eat(_.comma);)s.expressions.push(this.parseMaybeAssign(t,e));return this.finishNode(s,"SequenceExpression")}return r};z.parseMaybeAssign=function(t,e,i){if(this.isContextual("yield")){if(this.inGenerator)return this.parseYield(t);this.exprAllowed=!1}var o=!1,r=-1,s=-1,u=-1;e?(r=e.parenthesizedAssign,s=e.trailingComma,u=e.doubleProto,e.parenthesizedAssign=e.trailingComma=-1):(e=new vy,o=!0);var p=this.start,f=this.startLoc;(this.type===_.parenL||this.type===_.name)&&(this.potentialArrowAt=this.start,this.potentialArrowInForAwait=t==="await");var m=this.parseMaybeConditional(t,e);if(i&&(m=i.call(this,m,p,f)),this.type.isAssign){var h=this.startNodeAt(p,f);return h.operator=this.value,this.type===_.eq&&(m=this.toAssignable(m,!1,e)),o||(e.parenthesizedAssign=e.trailingComma=e.doubleProto=-1),e.shorthandAssign>=m.start&&(e.shorthandAssign=-1),this.type===_.eq?this.checkLValPattern(m):this.checkLValSimple(m),h.left=m,this.next(),h.right=this.parseMaybeAssign(t),u>-1&&(e.doubleProto=u),this.finishNode(h,"AssignmentExpression")}else o&&this.checkExpressionErrors(e,!0);return r>-1&&(e.parenthesizedAssign=r),s>-1&&(e.trailingComma=s),m};z.parseMaybeConditional=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprOps(t,e);if(this.checkExpressionErrors(e))return r;if(this.eat(_.question)){var s=this.startNodeAt(i,o);return s.test=r,s.consequent=this.parseMaybeAssign(),this.expect(_.colon),s.alternate=this.parseMaybeAssign(t),this.finishNode(s,"ConditionalExpression")}return r};z.parseExprOps=function(t,e){var i=this.start,o=this.startLoc,r=this.parseMaybeUnary(e,!1,!1,t);return this.checkExpressionErrors(e)||r.start===i&&r.type==="ArrowFunctionExpression"?r:this.parseExprOp(r,i,o,-1,t)};z.parseExprOp=function(t,e,i,o,r){var s=this.type.binop;if(s!=null&&(!r||this.type!==_._in)&&s>o){var u=this.type===_.logicalOR||this.type===_.logicalAND,p=this.type===_.coalesce;p&&(s=_.logicalAND.binop);var f=this.value;this.next();var m=this.start,h=this.startLoc,x=this.parseExprOp(this.parseMaybeUnary(null,!1,!1,r),m,h,s,r),w=this.buildBinary(e,i,t,x,f,u||p);return(u&&this.type===_.coalesce||p&&(this.type===_.logicalOR||this.type===_.logicalAND))&&this.raiseRecoverable(this.start,"Logical expressions and coalesce expressions cannot be mixed. Wrap either by parentheses"),this.parseExprOp(w,e,i,o,r)}return t};z.buildBinary=function(t,e,i,o,r,s){o.type==="PrivateIdentifier"&&this.raise(o.start,"Private identifier can only be left side of binary expression");var u=this.startNodeAt(t,e);return u.left=i,u.operator=r,u.right=o,this.finishNode(u,s?"LogicalExpression":"BinaryExpression")};z.parseMaybeUnary=function(t,e,i,o){var r=this.start,s=this.startLoc,u;if(this.isContextual("await")&&this.canAwait)u=this.parseAwait(o),e=!0;else if(this.type.prefix){var p=this.startNode(),f=this.type===_.incDec;p.operator=this.value,p.prefix=!0,this.next(),p.argument=this.parseMaybeUnary(null,!0,f,o),this.checkExpressionErrors(t,!0),f?this.checkLValSimple(p.argument):this.strict&&p.operator==="delete"&&p.argument.type==="Identifier"?this.raiseRecoverable(p.start,"Deleting local variable in strict mode"):p.operator==="delete"&&S1(p.argument)?this.raiseRecoverable(p.start,"Private fields can not be deleted"):e=!0,u=this.finishNode(p,f?"UpdateExpression":"UnaryExpression")}else if(!e&&this.type===_.privateId)(o||this.privateNameStack.length===0)&&this.options.checkPrivateFields&&this.unexpected(),u=this.parsePrivateIdent(),this.type!==_._in&&this.unexpected();else{if(u=this.parseExprSubscripts(t,o),this.checkExpressionErrors(t))return u;for(;this.type.postfix&&!this.canInsertSemicolon();){var m=this.startNodeAt(r,s);m.operator=this.value,m.prefix=!1,m.argument=u,this.checkLValSimple(u),this.next(),u=this.finishNode(m,"UpdateExpression")}}if(!i&&this.eat(_.starstar))if(e)this.unexpected(this.lastTokStart);else return this.buildBinary(r,s,u,this.parseMaybeUnary(null,!1,!1,o),"**",!1);else return u};function S1(t){return t.type==="MemberExpression"&&t.property.type==="PrivateIdentifier"||t.type==="ChainExpression"&&S1(t.expression)}n(S1,"isPrivateFieldAccess");z.parseExprSubscripts=function(t,e){var i=this.start,o=this.startLoc,r=this.parseExprAtom(t,e);if(r.type==="ArrowFunctionExpression"&&this.input.slice(this.lastTokStart,this.lastTokEnd)!==")")return r;var s=this.parseSubscripts(r,i,o,!1,e);return t&&s.type==="MemberExpression"&&(t.parenthesizedAssign>=s.start&&(t.parenthesizedAssign=-1),t.parenthesizedBind>=s.start&&(t.parenthesizedBind=-1),t.trailingComma>=s.start&&(t.trailingComma=-1)),s};z.parseSubscripts=function(t,e,i,o,r){for(var s=this.options.ecmaVersion>=8&&t.type==="Identifier"&&t.name==="async"&&this.lastTokEnd===t.end&&!this.canInsertSemicolon()&&t.end-t.start===5&&this.potentialArrowAt===t.start,u=!1;;){var p=this.parseSubscript(t,e,i,o,s,u,r);if(p.optional&&(u=!0),p===t||p.type==="ArrowFunctionExpression"){if(u){var f=this.startNodeAt(e,i);f.expression=p,p=this.finishNode(f,"ChainExpression")}return p}t=p}};z.shouldParseAsyncArrow=function(){return!this.canInsertSemicolon()&&this.eat(_.arrow)};z.parseSubscriptAsyncArrow=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!0,o)};z.parseSubscript=function(t,e,i,o,r,s,u){var p=this.options.ecmaVersion>=11,f=p&&this.eat(_.questionDot);o&&f&&this.raise(this.lastTokStart,"Optional chaining cannot appear in the callee of new expressions");var m=this.eat(_.bracketL);if(m||f&&this.type!==_.parenL&&this.type!==_.backQuote||this.eat(_.dot)){var h=this.startNodeAt(e,i);h.object=t,m?(h.property=this.parseExpression(),this.expect(_.bracketR)):this.type===_.privateId&&t.type!=="Super"?h.property=this.parsePrivateIdent():h.property=this.parseIdent(this.options.allowReserved!=="never"),h.computed=!!m,p&&(h.optional=f),t=this.finishNode(h,"MemberExpression")}else if(!o&&this.eat(_.parenL)){var x=new vy,w=this.yieldPos,T=this.awaitPos,I=this.awaitIdentPos;this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0;var S=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1,x);if(r&&!f&&this.shouldParseAsyncArrow())return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.awaitIdentPos>0&&this.raise(this.awaitIdentPos,"Cannot use 'await' as identifier inside an async function"),this.yieldPos=w,this.awaitPos=T,this.awaitIdentPos=I,this.parseSubscriptAsyncArrow(e,i,S,u);this.checkExpressionErrors(x,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,this.awaitIdentPos=I||this.awaitIdentPos;var P=this.startNodeAt(e,i);P.callee=t,P.arguments=S,p&&(P.optional=f),t=this.finishNode(P,"CallExpression")}else if(this.type===_.backQuote){(f||s)&&this.raise(this.start,"Optional chaining cannot appear in the tag of tagged template expressions");var R=this.startNodeAt(e,i);R.tag=t,R.quasi=this.parseTemplate({isTagged:!0}),t=this.finishNode(R,"TaggedTemplateExpression")}return t};z.parseExprAtom=function(t,e,i){this.type===_.slash&&this.readRegexp();var o,r=this.potentialArrowAt===this.start;switch(this.type){case _._super:return this.allowSuper||this.raise(this.start,"'super' keyword outside a method"),o=this.startNode(),this.next(),this.type===_.parenL&&!this.allowDirectSuper&&this.raise(o.start,"super() call outside constructor of a subclass"),this.type!==_.dot&&this.type!==_.bracketL&&this.type!==_.parenL&&this.unexpected(),this.finishNode(o,"Super");case _._this:return o=this.startNode(),this.next(),this.finishNode(o,"ThisExpression");case _.name:var s=this.start,u=this.startLoc,p=this.containsEsc,f=this.parseIdent(!1);if(this.options.ecmaVersion>=8&&!p&&f.name==="async"&&!this.canInsertSemicolon()&&this.eat(_._function))return this.overrideContext(Te.f_expr),this.parseFunction(this.startNodeAt(s,u),0,!1,!0,e);if(r&&!this.canInsertSemicolon()){if(this.eat(_.arrow))return this.parseArrowExpression(this.startNodeAt(s,u),[f],!1,e);if(this.options.ecmaVersion>=8&&f.name==="async"&&this.type===_.name&&!p&&(!this.potentialArrowInForAwait||this.value!=="of"||this.containsEsc))return f=this.parseIdent(!1),(this.canInsertSemicolon()||!this.eat(_.arrow))&&this.unexpected(),this.parseArrowExpression(this.startNodeAt(s,u),[f],!0,e)}return f;case _.regexp:var m=this.value;return o=this.parseLiteral(m.value),o.regex={pattern:m.pattern,flags:m.flags},o;case _.num:case _.string:return this.parseLiteral(this.value);case _._null:case _._true:case _._false:return o=this.startNode(),o.value=this.type===_._null?null:this.type===_._true,o.raw=this.type.keyword,this.next(),this.finishNode(o,"Literal");case _.parenL:var h=this.start,x=this.parseParenAndDistinguishExpression(r,e);return t&&(t.parenthesizedAssign<0&&!this.isSimpleAssignTarget(x)&&(t.parenthesizedAssign=h),t.parenthesizedBind<0&&(t.parenthesizedBind=h)),x;case _.bracketL:return o=this.startNode(),this.next(),o.elements=this.parseExprList(_.bracketR,!0,!0,t),this.finishNode(o,"ArrayExpression");case _.braceL:return this.overrideContext(Te.b_expr),this.parseObj(!1,t);case _._function:return o=this.startNode(),this.next(),this.parseFunction(o,0);case _._class:return this.parseClass(this.startNode(),!1);case _._new:return this.parseNew();case _.backQuote:return this.parseTemplate();case _._import:return this.options.ecmaVersion>=11?this.parseExprImport(i):this.unexpected();default:return this.parseExprAtomDefault()}};z.parseExprAtomDefault=function(){this.unexpected()};z.parseExprImport=function(t){var e=this.startNode();if(this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword import"),this.next(),this.type===_.parenL&&!t)return this.parseDynamicImport(e);if(this.type===_.dot){var i=this.startNodeAt(e.start,e.loc&&e.loc.start);return i.name="import",e.meta=this.finishNode(i,"Identifier"),this.parseImportMeta(e)}else this.unexpected()};z.parseDynamicImport=function(t){if(this.next(),t.source=this.parseMaybeAssign(),!this.eat(_.parenR)){var e=this.start;this.eat(_.comma)&&this.eat(_.parenR)?this.raiseRecoverable(e,"Trailing comma is not allowed in import()"):this.unexpected(e)}return this.finishNode(t,"ImportExpression")};z.parseImportMeta=function(t){this.next();var e=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="meta"&&this.raiseRecoverable(t.property.start,"The only valid meta property for import is 'import.meta'"),e&&this.raiseRecoverable(t.start,"'import.meta' must not contain escaped characters"),this.options.sourceType!=="module"&&!this.options.allowImportExportEverywhere&&this.raiseRecoverable(t.start,"Cannot use 'import.meta' outside a module"),this.finishNode(t,"MetaProperty")};z.parseLiteral=function(t){var e=this.startNode();return e.value=t,e.raw=this.input.slice(this.start,this.end),e.raw.charCodeAt(e.raw.length-1)===110&&(e.bigint=e.raw.slice(0,-1).replace(/_/g,"")),this.next(),this.finishNode(e,"Literal")};z.parseParenExpression=function(){this.expect(_.parenL);var t=this.parseExpression();return this.expect(_.parenR),t};z.shouldParseArrow=function(t){return!this.canInsertSemicolon()};z.parseParenAndDistinguishExpression=function(t,e){var i=this.start,o=this.startLoc,r,s=this.options.ecmaVersion>=8;if(this.options.ecmaVersion>=6){this.next();var u=this.start,p=this.startLoc,f=[],m=!0,h=!1,x=new vy,w=this.yieldPos,T=this.awaitPos,I;for(this.yieldPos=0,this.awaitPos=0;this.type!==_.parenR;)if(m?m=!1:this.expect(_.comma),s&&this.afterTrailingComma(_.parenR,!0)){h=!0;break}else if(this.type===_.ellipsis){I=this.start,f.push(this.parseParenItem(this.parseRestBinding())),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element");break}else f.push(this.parseMaybeAssign(!1,x,this.parseParenItem));var S=this.lastTokEnd,P=this.lastTokEndLoc;if(this.expect(_.parenR),t&&this.shouldParseArrow(f)&&this.eat(_.arrow))return this.checkPatternErrors(x,!1),this.checkYieldAwaitInDefaultParams(),this.yieldPos=w,this.awaitPos=T,this.parseParenArrowList(i,o,f,e);(!f.length||h)&&this.unexpected(this.lastTokStart),I&&this.unexpected(I),this.checkExpressionErrors(x,!0),this.yieldPos=w||this.yieldPos,this.awaitPos=T||this.awaitPos,f.length>1?(r=this.startNodeAt(u,p),r.expressions=f,this.finishNodeAt(r,"SequenceExpression",S,P)):r=f[0]}else r=this.parseParenExpression();if(this.options.preserveParens){var R=this.startNodeAt(i,o);return R.expression=r,this.finishNode(R,"ParenthesizedExpression")}else return r};z.parseParenItem=function(t){return t};z.parseParenArrowList=function(t,e,i,o){return this.parseArrowExpression(this.startNodeAt(t,e),i,!1,o)};var WP=[];z.parseNew=function(){this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword new");var t=this.startNode();if(this.next(),this.options.ecmaVersion>=6&&this.type===_.dot){var e=this.startNodeAt(t.start,t.loc&&t.loc.start);e.name="new",t.meta=this.finishNode(e,"Identifier"),this.next();var i=this.containsEsc;return t.property=this.parseIdent(!0),t.property.name!=="target"&&this.raiseRecoverable(t.property.start,"The only valid meta property for new is 'new.target'"),i&&this.raiseRecoverable(t.start,"'new.target' must not contain escaped characters"),this.allowNewDotTarget||this.raiseRecoverable(t.start,"'new.target' can only be used in functions and class static block"),this.finishNode(t,"MetaProperty")}var o=this.start,r=this.startLoc;return t.callee=this.parseSubscripts(this.parseExprAtom(null,!1,!0),o,r,!0,!1),this.eat(_.parenL)?t.arguments=this.parseExprList(_.parenR,this.options.ecmaVersion>=8,!1):t.arguments=WP,this.finishNode(t,"NewExpression")};z.parseTemplateElement=function(t){var e=t.isTagged,i=this.startNode();return this.type===_.invalidTemplate?(e||this.raiseRecoverable(this.start,"Bad escape sequence in untagged template literal"),i.value={raw:this.value,cooked:null}):i.value={raw:this.input.slice(this.start,this.end).replace(/\r\n?/g,`
`),cooked:this.value},this.next(),i.tail=this.type===_.backQuote,this.finishNode(i,"TemplateElement")};z.parseTemplate=function(t){t===void 0&&(t={});var e=t.isTagged;e===void 0&&(e=!1);var i=this.startNode();this.next(),i.expressions=[];var o=this.parseTemplateElement({isTagged:e});for(i.quasis=[o];!o.tail;)this.type===_.eof&&this.raise(this.pos,"Unterminated template literal"),this.expect(_.dollarBraceL),i.expressions.push(this.parseExpression()),this.expect(_.braceR),i.quasis.push(o=this.parseTemplateElement({isTagged:e}));return this.next(),this.finishNode(i,"TemplateLiteral")};z.isAsyncProp=function(t){return!t.computed&&t.key.type==="Identifier"&&t.key.name==="async"&&(this.type===_.name||this.type===_.num||this.type===_.string||this.type===_.bracketL||this.type.keyword||this.options.ecmaVersion>=9&&this.type===_.star)&&!Ot.test(this.input.slice(this.lastTokEnd,this.start))};z.parseObj=function(t,e){var i=this.startNode(),o=!0,r={};for(i.properties=[],this.next();!this.eat(_.braceR);){if(o)o=!1;else if(this.expect(_.comma),this.options.ecmaVersion>=5&&this.afterTrailingComma(_.braceR))break;var s=this.parseProperty(t,e);t||this.checkPropClash(s,r,e),i.properties.push(s)}return this.finishNode(i,t?"ObjectPattern":"ObjectExpression")};z.parseProperty=function(t,e){var i=this.startNode(),o,r,s,u;if(this.options.ecmaVersion>=9&&this.eat(_.ellipsis))return t?(i.argument=this.parseIdent(!1),this.type===_.comma&&this.raiseRecoverable(this.start,"Comma is not permitted after the rest element"),this.finishNode(i,"RestElement")):(i.argument=this.parseMaybeAssign(!1,e),this.type===_.comma&&e&&e.trailingComma<0&&(e.trailingComma=this.start),this.finishNode(i,"SpreadElement"));this.options.ecmaVersion>=6&&(i.method=!1,i.shorthand=!1,(t||e)&&(s=this.start,u=this.startLoc),t||(o=this.eat(_.star)));var p=this.containsEsc;return this.parsePropertyName(i),!t&&!p&&this.options.ecmaVersion>=8&&!o&&this.isAsyncProp(i)?(r=!0,o=this.options.ecmaVersion>=9&&this.eat(_.star),this.parsePropertyName(i)):r=!1,this.parsePropertyValue(i,t,o,r,s,u,e,p),this.finishNode(i,"Property")};z.parseGetterSetter=function(t){t.kind=t.key.name,this.parsePropertyName(t),t.value=this.parseMethod(!1);var e=t.kind==="get"?0:1;if(t.value.params.length!==e){var i=t.value.start;t.kind==="get"?this.raiseRecoverable(i,"getter should have no params"):this.raiseRecoverable(i,"setter should have exactly one param")}else t.kind==="set"&&t.value.params[0].type==="RestElement"&&this.raiseRecoverable(t.value.params[0].start,"Setter cannot use rest params")};z.parsePropertyValue=function(t,e,i,o,r,s,u,p){(i||o)&&this.type===_.colon&&this.unexpected(),this.eat(_.colon)?(t.value=e?this.parseMaybeDefault(this.start,this.startLoc):this.parseMaybeAssign(!1,u),t.kind="init"):this.options.ecmaVersion>=6&&this.type===_.parenL?(e&&this.unexpected(),t.kind="init",t.method=!0,t.value=this.parseMethod(i,o)):!e&&!p&&this.options.ecmaVersion>=5&&!t.computed&&t.key.type==="Identifier"&&(t.key.name==="get"||t.key.name==="set")&&this.type!==_.comma&&this.type!==_.braceR&&this.type!==_.eq?((i||o)&&this.unexpected(),this.parseGetterSetter(t)):this.options.ecmaVersion>=6&&!t.computed&&t.key.type==="Identifier"?((i||o)&&this.unexpected(),this.checkUnreserved(t.key),t.key.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=r),t.kind="init",e?t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key)):this.type===_.eq&&u?(u.shorthandAssign<0&&(u.shorthandAssign=this.start),t.value=this.parseMaybeDefault(r,s,this.copyNode(t.key))):t.value=this.copyNode(t.key),t.shorthand=!0):this.unexpected()};z.parsePropertyName=function(t){if(this.options.ecmaVersion>=6){if(this.eat(_.bracketL))return t.computed=!0,t.key=this.parseMaybeAssign(),this.expect(_.bracketR),t.key;t.computed=!1}return t.key=this.type===_.num||this.type===_.string?this.parseExprAtom():this.parseIdent(this.options.allowReserved!=="never")};z.initFunction=function(t){t.id=null,this.options.ecmaVersion>=6&&(t.generator=t.expression=!1),this.options.ecmaVersion>=8&&(t.async=!1)};z.parseMethod=function(t,e,i){var o=this.startNode(),r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.initFunction(o),this.options.ecmaVersion>=6&&(o.generator=t),this.options.ecmaVersion>=8&&(o.async=!!e),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,this.enterScope(nw(e,o.generator)|iw|(i?b1:0)),this.expect(_.parenL),o.params=this.parseBindingList(_.parenR,!1,this.options.ecmaVersion>=8),this.checkYieldAwaitInDefaultParams(),this.parseFunctionBody(o,!1,!0,!1),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(o,"FunctionExpression")};z.parseArrowExpression=function(t,e,i,o){var r=this.yieldPos,s=this.awaitPos,u=this.awaitIdentPos;return this.enterScope(nw(i,!1)|x1),this.initFunction(t),this.options.ecmaVersion>=8&&(t.async=!!i),this.yieldPos=0,this.awaitPos=0,this.awaitIdentPos=0,t.params=this.toAssignableList(e,!0),this.parseFunctionBody(t,!0,!1,o),this.yieldPos=r,this.awaitPos=s,this.awaitIdentPos=u,this.finishNode(t,"ArrowFunctionExpression")};z.parseFunctionBody=function(t,e,i,o){var r=e&&this.type!==_.braceL,s=this.strict,u=!1;if(r)t.body=this.parseMaybeAssign(o),t.expression=!0,this.checkParams(t,!1);else{var p=this.options.ecmaVersion>=7&&!this.isSimpleParamList(t.params);(!s||p)&&(u=this.strictDirective(this.end),u&&p&&this.raiseRecoverable(t.start,"Illegal 'use strict' directive in function with non-simple parameter list"));var f=this.labels;this.labels=[],u&&(this.strict=!0),this.checkParams(t,!s&&!u&&!e&&!i&&this.isSimpleParamList(t.params)),this.strict&&t.id&&this.checkLValSimple(t.id,I1),t.body=this.parseBlock(!1,void 0,u&&!s),t.expression=!1,this.adaptDirectivePrologue(t.body.body),this.labels=f}this.exitScope()};z.isSimpleParamList=function(t){for(var e=0,i=t;e<i.length;e+=1){var o=i[e];if(o.type!=="Identifier")return!1}return!0};z.checkParams=function(t,e){for(var i=Object.create(null),o=0,r=t.params;o<r.length;o+=1){var s=r[o];this.checkLValInnerPattern(s,rw,e?null:i)}};z.parseExprList=function(t,e,i,o){for(var r=[],s=!0;!this.eat(t);){if(s)s=!1;else if(this.expect(_.comma),e&&this.afterTrailingComma(t))break;var u=void 0;i&&this.type===_.comma?u=null:this.type===_.ellipsis?(u=this.parseSpread(o),o&&this.type===_.comma&&o.trailingComma<0&&(o.trailingComma=this.start)):u=this.parseMaybeAssign(!1,o),r.push(u)}return r};z.checkUnreserved=function(t){var e=t.start,i=t.end,o=t.name;if(this.inGenerator&&o==="yield"&&this.raiseRecoverable(e,"Cannot use 'yield' as identifier inside a generator"),this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use 'await' as identifier inside an async function"),this.currentThisScope().inClassFieldInit&&o==="arguments"&&this.raiseRecoverable(e,"Cannot use 'arguments' in class field initializer"),this.inClassStaticBlock&&(o==="arguments"||o==="await")&&this.raise(e,"Cannot use "+o+" in class static initialization block"),this.keywords.test(o)&&this.raise(e,"Unexpected keyword '"+o+"'"),!(this.options.ecmaVersion<6&&this.input.slice(e,i).indexOf("\\")!==-1)){var r=this.strict?this.reservedWordsStrict:this.reservedWords;r.test(o)&&(!this.inAsync&&o==="await"&&this.raiseRecoverable(e,"Cannot use keyword 'await' outside an async function"),this.raiseRecoverable(e,"The keyword '"+o+"' is reserved"))}};z.parseIdent=function(t){var e=this.parseIdentNode();return this.next(!!t),this.finishNode(e,"Identifier"),t||(this.checkUnreserved(e),e.name==="await"&&!this.awaitIdentPos&&(this.awaitIdentPos=e.start)),e};z.parseIdentNode=function(){var t=this.startNode();return this.type===_.name?t.name=this.value:this.type.keyword?(t.name=this.type.keyword,(t.name==="class"||t.name==="function")&&(this.lastTokEnd!==this.lastTokStart+1||this.input.charCodeAt(this.lastTokStart)!==46)&&this.context.pop(),this.type=_.name):this.unexpected(),t};z.parsePrivateIdent=function(){var t=this.startNode();return this.type===_.privateId?t.name=this.value:this.unexpected(),this.next(),this.finishNode(t,"PrivateIdentifier"),this.options.checkPrivateFields&&(this.privateNameStack.length===0?this.raise(t.start,"Private field '#"+t.name+"' must be declared in an enclosing class"):this.privateNameStack[this.privateNameStack.length-1].used.push(t)),t};z.parseYield=function(t){this.yieldPos||(this.yieldPos=this.start);var e=this.startNode();return this.next(),this.type===_.semi||this.canInsertSemicolon()||this.type!==_.star&&!this.type.startsExpr?(e.delegate=!1,e.argument=null):(e.delegate=this.eat(_.star),e.argument=this.parseMaybeAssign(t)),this.finishNode(e,"YieldExpression")};z.parseAwait=function(t){this.awaitPos||(this.awaitPos=this.start);var e=this.startNode();return this.next(),e.argument=this.parseMaybeUnary(null,!0,!1,t),this.finishNode(e,"AwaitExpression")};var hy=Oe.prototype;hy.raise=function(t,e){var i=v1(this.input,t);e+=" ("+i.line+":"+i.column+")";var o=new SyntaxError(e);throw o.pos=t,o.loc=i,o.raisedAt=this.pos,o};hy.raiseRecoverable=hy.raise;hy.curPosition=function(){if(this.options.locations)return new n_(this.curLine,this.pos-this.lineStart)};var bo=Oe.prototype,HP=n(function(e){this.flags=e,this.var=[],this.lexical=[],this.functions=[],this.inClassFieldInit=!1},"Scope");bo.enterScope=function(t){this.scopeStack.push(new HP(t))};bo.exitScope=function(){this.scopeStack.pop()};bo.treatFunctionsAsVarInScope=function(t){return t.flags&na||!this.inModule&&t.flags&r_};bo.declareName=function(t,e,i){var o=!1;if(e===Ri){var r=this.currentScope();o=r.lexical.indexOf(t)>-1||r.functions.indexOf(t)>-1||r.var.indexOf(t)>-1,r.lexical.push(t),this.inModule&&r.flags&r_&&delete this.undefinedExports[t]}else if(e===T1){var s=this.currentScope();s.lexical.push(t)}else if(e===w1){var u=this.currentScope();this.treatFunctionsAsVar?o=u.lexical.indexOf(t)>-1:o=u.lexical.indexOf(t)>-1||u.var.indexOf(t)>-1,u.functions.push(t)}else for(var p=this.scopeStack.length-1;p>=0;--p){var f=this.scopeStack[p];if(f.lexical.indexOf(t)>-1&&!(f.flags&y1&&f.lexical[0]===t)||!this.treatFunctionsAsVarInScope(f)&&f.functions.indexOf(t)>-1){o=!0;break}if(f.var.push(t),this.inModule&&f.flags&r_&&delete this.undefinedExports[t],f.flags&ow)break}o&&this.raiseRecoverable(i,"Identifier '"+t+"' has already been declared")};bo.checkLocalExport=function(t){this.scopeStack[0].lexical.indexOf(t.name)===-1&&this.scopeStack[0].var.indexOf(t.name)===-1&&(this.undefinedExports[t.name]=t)};bo.currentScope=function(){return this.scopeStack[this.scopeStack.length-1]};bo.currentVarScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ow)return e}};bo.currentThisScope=function(){for(var t=this.scopeStack.length-1;;t--){var e=this.scopeStack[t];if(e.flags&ow&&!(e.flags&x1))return e}};var gy=n(function(e,i,o){this.type="",this.start=i,this.end=0,e.options.locations&&(this.loc=new _y(e,o)),e.options.directSourceFile&&(this.sourceFile=e.options.directSourceFile),e.options.ranges&&(this.range=[i,0])},"Node"),u_=Oe.prototype;u_.startNode=function(){return new gy(this,this.start,this.startLoc)};u_.startNodeAt=function(t,e){return new gy(this,t,e)};function C1(t,e,i,o){return t.type=e,t.end=i,this.options.locations&&(t.loc.end=o),this.options.ranges&&(t.range[1]=i),t}n(C1,"finishNodeAt");u_.finishNode=function(t,e){return C1.call(this,t,e,this.lastTokEnd,this.lastTokEndLoc)};u_.finishNodeAt=function(t,e,i,o){return C1.call(this,t,e,i,o)};u_.copyNode=function(t){var e=new gy(this,t.start,this.startLoc);for(var i in t)e[i]=t[i];return e};var E1="ASCII ASCII_Hex_Digit AHex Alphabetic Alpha Any Assigned Bidi_Control Bidi_C Bidi_Mirrored Bidi_M Case_Ignorable CI Cased Changes_When_Casefolded CWCF Changes_When_Casemapped CWCM Changes_When_Lowercased CWL Changes_When_NFKC_Casefolded CWKCF Changes_When_Titlecased CWT Changes_When_Uppercased CWU Dash Default_Ignorable_Code_Point DI Deprecated Dep Diacritic Dia Emoji Emoji_Component Emoji_Modifier Emoji_Modifier_Base Emoji_Presentation Extender Ext Grapheme_Base Gr_Base Grapheme_Extend Gr_Ext Hex_Digit Hex IDS_Binary_Operator IDSB IDS_Trinary_Operator IDST ID_Continue IDC ID_Start IDS Ideographic Ideo Join_Control Join_C Logical_Order_Exception LOE Lowercase Lower Math Noncharacter_Code_Point NChar Pattern_Syntax Pat_Syn Pattern_White_Space Pat_WS Quotation_Mark QMark Radical Regional_Indicator RI Sentence_Terminal STerm Soft_Dotted SD Terminal_Punctuation Term Unified_Ideograph UIdeo Uppercase Upper Variation_Selector VS White_Space space XID_Continue XIDC XID_Start XIDS",P1=E1+" Extended_Pictographic",N1=P1,A1=N1+" EBase EComp EMod EPres ExtPict",R1=A1,JP=R1,GP={9:E1,10:P1,11:N1,12:A1,13:R1,14:JP},zP="Basic_Emoji Emoji_Keycap_Sequence RGI_Emoji_Modifier_Sequence RGI_Emoji_Flag_Sequence RGI_Emoji_Tag_Sequence RGI_Emoji_ZWJ_Sequence RGI_Emoji",$P={9:"",10:"",11:"",12:"",13:"",14:zP},c1="Cased_Letter LC Close_Punctuation Pe Connector_Punctuation Pc Control Cc cntrl Currency_Symbol Sc Dash_Punctuation Pd Decimal_Number Nd digit Enclosing_Mark Me Final_Punctuation Pf Format Cf Initial_Punctuation Pi Letter L Letter_Number Nl Line_Separator Zl Lowercase_Letter Ll Mark M Combining_Mark Math_Symbol Sm Modifier_Letter Lm Modifier_Symbol Sk Nonspacing_Mark Mn Number N Open_Punctuation Ps Other C Other_Letter Lo Other_Number No Other_Punctuation Po Other_Symbol So Paragraph_Separator Zp Private_Use Co Punctuation P punct Separator Z Space_Separator Zs Spacing_Mark Mc Surrogate Cs Symbol S Titlecase_Letter Lt Unassigned Cn Uppercase_Letter Lu",V1="Adlam Adlm Ahom Anatolian_Hieroglyphs Hluw Arabic Arab Armenian Armn Avestan Avst Balinese Bali Bamum Bamu Bassa_Vah Bass Batak Batk Bengali Beng Bhaiksuki Bhks Bopomofo Bopo Brahmi Brah Braille Brai Buginese Bugi Buhid Buhd Canadian_Aboriginal Cans Carian Cari Caucasian_Albanian Aghb Chakma Cakm Cham Cham Cherokee Cher Common Zyyy Coptic Copt Qaac Cuneiform Xsux Cypriot Cprt Cyrillic Cyrl Deseret Dsrt Devanagari Deva Duployan Dupl Egyptian_Hieroglyphs Egyp Elbasan Elba Ethiopic Ethi Georgian Geor Glagolitic Glag Gothic Goth Grantha Gran Greek Grek Gujarati Gujr Gurmukhi Guru Han Hani Hangul Hang Hanunoo Hano Hatran Hatr Hebrew Hebr Hiragana Hira Imperial_Aramaic Armi Inherited Zinh Qaai Inscriptional_Pahlavi Phli Inscriptional_Parthian Prti Javanese Java Kaithi Kthi Kannada Knda Katakana Kana Kayah_Li Kali Kharoshthi Khar Khmer Khmr Khojki Khoj Khudawadi Sind Lao Laoo Latin Latn Lepcha Lepc Limbu Limb Linear_A Lina Linear_B Linb Lisu Lisu Lycian Lyci Lydian Lydi Mahajani Mahj Malayalam Mlym Mandaic Mand Manichaean Mani Marchen Marc Masaram_Gondi Gonm Meetei_Mayek Mtei Mende_Kikakui Mend Meroitic_Cursive Merc Meroitic_Hieroglyphs Mero Miao Plrd Modi Mongolian Mong Mro Mroo Multani Mult Myanmar Mymr Nabataean Nbat New_Tai_Lue Talu Newa Newa Nko Nkoo Nushu Nshu Ogham Ogam Ol_Chiki Olck Old_Hungarian Hung Old_Italic Ital Old_North_Arabian Narb Old_Permic Perm Old_Persian Xpeo Old_South_Arabian Sarb Old_Turkic Orkh Oriya Orya Osage Osge Osmanya Osma Pahawh_Hmong Hmng Palmyrene Palm Pau_Cin_Hau Pauc Phags_Pa Phag Phoenician Phnx Psalter_Pahlavi Phlp Rejang Rjng Runic Runr Samaritan Samr Saurashtra Saur Sharada Shrd Shavian Shaw Siddham Sidd SignWriting Sgnw Sinhala Sinh Sora_Sompeng Sora Soyombo Soyo Sundanese Sund Syloti_Nagri Sylo Syriac Syrc Tagalog Tglg Tagbanwa Tagb Tai_Le Tale Tai_Tham Lana Tai_Viet Tavt Takri Takr Tamil Taml Tangut Tang Telugu Telu Thaana Thaa Thai Thai Tibetan Tibt Tifinagh Tfng Tirhuta Tirh Ugaritic Ugar Vai Vaii Warang_Citi Wara Yi Yiii Zanabazar_Square Zanb",M1=V1+" Dogra Dogr Gunjala_Gondi Gong Hanifi_Rohingya Rohg Makasar Maka Medefaidrin Medf Old_Sogdian Sogo Sogdian Sogd",O1=M1+" Elymaic Elym Nandinagari Nand Nyiakeng_Puachue_Hmong Hmnp Wancho Wcho",D1=O1+" Chorasmian Chrs Diak Dives_Akuru Khitan_Small_Script Kits Yezi Yezidi",L1=D1+" Cypro_Minoan Cpmn Old_Uyghur Ougr Tangsa Tnsa Toto Vithkuqi Vith",KP=L1+" Hrkt Katakana_Or_Hiragana Kawi Nag_Mundari Nagm Unknown Zzzz",qP={9:V1,10:M1,11:O1,12:D1,13:L1,14:KP},B1={};function XP(t){var e=B1[t]={binary:xo(GP[t]+" "+c1),binaryOfStrings:xo($P[t]),nonBinary:{General_Category:xo(c1),Script:xo(qP[t])}};e.nonBinary.Script_Extensions=e.nonBinary.Script,e.nonBinary.gc=e.nonBinary.General_Category,e.nonBinary.sc=e.nonBinary.Script,e.nonBinary.scx=e.nonBinary.Script_Extensions}n(XP,"buildUnicodeData");for(py=0,qb=[9,10,11,12,13,14];py<qb.length;py+=1)d1=qb[py],XP(d1);var d1,py,qb,O=Oe.prototype,hi=n(function(e){this.parser=e,this.validFlags="gim"+(e.options.ecmaVersion>=6?"uy":"")+(e.options.ecmaVersion>=9?"s":"")+(e.options.ecmaVersion>=13?"d":"")+(e.options.ecmaVersion>=15?"v":""),this.unicodeProperties=B1[e.options.ecmaVersion>=14?14:e.options.ecmaVersion],this.source="",this.flags="",this.start=0,this.switchU=!1,this.switchV=!1,this.switchN=!1,this.pos=0,this.lastIntValue=0,this.lastStringValue="",this.lastAssertionIsQuantifiable=!1,this.numCapturingParens=0,this.maxBackReference=0,this.groupNames=[],this.backReferenceNames=[]},"RegExpValidationState");hi.prototype.reset=n(function(e,i,o){var r=o.indexOf("v")!==-1,s=o.indexOf("u")!==-1;this.start=e|0,this.source=i+"",this.flags=o,r&&this.parser.options.ecmaVersion>=15?(this.switchU=!0,this.switchV=!0,this.switchN=!0):(this.switchU=s&&this.parser.options.ecmaVersion>=6,this.switchV=!1,this.switchN=s&&this.parser.options.ecmaVersion>=9)},"reset");hi.prototype.raise=n(function(e){this.parser.raiseRecoverable(this.start,"Invalid regular expression: /"+this.source+"/: "+e)},"raise");hi.prototype.at=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return-1;var s=o.charCodeAt(e);if(!(i||this.switchU)||s<=55295||s>=57344||e+1>=r)return s;var u=o.charCodeAt(e+1);return u>=56320&&u<=57343?(s<<10)+u-56613888:s},"at");hi.prototype.nextIndex=n(function(e,i){i===void 0&&(i=!1);var o=this.source,r=o.length;if(e>=r)return r;var s=o.charCodeAt(e),u;return!(i||this.switchU)||s<=55295||s>=57344||e+1>=r||(u=o.charCodeAt(e+1))<56320||u>57343?e+1:e+2},"nextIndex");hi.prototype.current=n(function(e){return e===void 0&&(e=!1),this.at(this.pos,e)},"current");hi.prototype.lookahead=n(function(e){return e===void 0&&(e=!1),this.at(this.nextIndex(this.pos,e),e)},"lookahead");hi.prototype.advance=n(function(e){e===void 0&&(e=!1),this.pos=this.nextIndex(this.pos,e)},"advance");hi.prototype.eat=n(function(e,i){return i===void 0&&(i=!1),this.current(i)===e?(this.advance(i),!0):!1},"eat");hi.prototype.eatChars=n(function(e,i){i===void 0&&(i=!1);for(var o=this.pos,r=0,s=e;r<s.length;r+=1){var u=s[r],p=this.at(o,i);if(p===-1||p!==u)return!1;o=this.nextIndex(o,i)}return this.pos=o,!0},"eatChars");O.validateRegExpFlags=function(t){for(var e=t.validFlags,i=t.flags,o=!1,r=!1,s=0;s<i.length;s++){var u=i.charAt(s);e.indexOf(u)===-1&&this.raise(t.start,"Invalid regular expression flag"),i.indexOf(u,s+1)>-1&&this.raise(t.start,"Duplicate regular expression flag"),u==="u"&&(o=!0),u==="v"&&(r=!0)}this.options.ecmaVersion>=15&&o&&r&&this.raise(t.start,"Invalid regular expression flag")};O.validateRegExpPattern=function(t){this.regexp_pattern(t),!t.switchN&&this.options.ecmaVersion>=9&&t.groupNames.length>0&&(t.switchN=!0,this.regexp_pattern(t))};O.regexp_pattern=function(t){t.pos=0,t.lastIntValue=0,t.lastStringValue="",t.lastAssertionIsQuantifiable=!1,t.numCapturingParens=0,t.maxBackReference=0,t.groupNames.length=0,t.backReferenceNames.length=0,this.regexp_disjunction(t),t.pos!==t.source.length&&(t.eat(41)&&t.raise("Unmatched ')'"),(t.eat(93)||t.eat(125))&&t.raise("Lone quantifier brackets")),t.maxBackReference>t.numCapturingParens&&t.raise("Invalid escape");for(var e=0,i=t.backReferenceNames;e<i.length;e+=1){var o=i[e];t.groupNames.indexOf(o)===-1&&t.raise("Invalid named capture referenced")}};O.regexp_disjunction=function(t){for(this.regexp_alternative(t);t.eat(124);)this.regexp_alternative(t);this.regexp_eatQuantifier(t,!0)&&t.raise("Nothing to repeat"),t.eat(123)&&t.raise("Lone quantifier brackets")};O.regexp_alternative=function(t){for(;t.pos<t.source.length&&this.regexp_eatTerm(t););};O.regexp_eatTerm=function(t){return this.regexp_eatAssertion(t)?(t.lastAssertionIsQuantifiable&&this.regexp_eatQuantifier(t)&&t.switchU&&t.raise("Invalid quantifier"),!0):(t.switchU?this.regexp_eatAtom(t):this.regexp_eatExtendedAtom(t))?(this.regexp_eatQuantifier(t),!0):!1};O.regexp_eatAssertion=function(t){var e=t.pos;if(t.lastAssertionIsQuantifiable=!1,t.eat(94)||t.eat(36))return!0;if(t.eat(92)){if(t.eat(66)||t.eat(98))return!0;t.pos=e}if(t.eat(40)&&t.eat(63)){var i=!1;if(this.options.ecmaVersion>=9&&(i=t.eat(60)),t.eat(61)||t.eat(33))return this.regexp_disjunction(t),t.eat(41)||t.raise("Unterminated group"),t.lastAssertionIsQuantifiable=!i,!0}return t.pos=e,!1};O.regexp_eatQuantifier=function(t,e){return e===void 0&&(e=!1),this.regexp_eatQuantifierPrefix(t,e)?(t.eat(63),!0):!1};O.regexp_eatQuantifierPrefix=function(t,e){return t.eat(42)||t.eat(43)||t.eat(63)||this.regexp_eatBracedQuantifier(t,e)};O.regexp_eatBracedQuantifier=function(t,e){var i=t.pos;if(t.eat(123)){var o=0,r=-1;if(this.regexp_eatDecimalDigits(t)&&(o=t.lastIntValue,t.eat(44)&&this.regexp_eatDecimalDigits(t)&&(r=t.lastIntValue),t.eat(125)))return r!==-1&&r<o&&!e&&t.raise("numbers out of order in {} quantifier"),!0;t.switchU&&!e&&t.raise("Incomplete quantifier"),t.pos=i}return!1};O.regexp_eatAtom=function(t){return this.regexp_eatPatternCharacters(t)||t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)};O.regexp_eatReverseSolidusAtomEscape=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatAtomEscape(t))return!0;t.pos=e}return!1};O.regexp_eatUncapturingGroup=function(t){var e=t.pos;if(t.eat(40)){if(t.eat(63)&&t.eat(58)){if(this.regexp_disjunction(t),t.eat(41))return!0;t.raise("Unterminated group")}t.pos=e}return!1};O.regexp_eatCapturingGroup=function(t){if(t.eat(40)){if(this.options.ecmaVersion>=9?this.regexp_groupSpecifier(t):t.current()===63&&t.raise("Invalid group"),this.regexp_disjunction(t),t.eat(41))return t.numCapturingParens+=1,!0;t.raise("Unterminated group")}return!1};O.regexp_eatExtendedAtom=function(t){return t.eat(46)||this.regexp_eatReverseSolidusAtomEscape(t)||this.regexp_eatCharacterClass(t)||this.regexp_eatUncapturingGroup(t)||this.regexp_eatCapturingGroup(t)||this.regexp_eatInvalidBracedQuantifier(t)||this.regexp_eatExtendedPatternCharacter(t)};O.regexp_eatInvalidBracedQuantifier=function(t){return this.regexp_eatBracedQuantifier(t,!0)&&t.raise("Nothing to repeat"),!1};O.regexp_eatSyntaxCharacter=function(t){var e=t.current();return F1(e)?(t.lastIntValue=e,t.advance(),!0):!1};function F1(t){return t===36||t>=40&&t<=43||t===46||t===63||t>=91&&t<=94||t>=123&&t<=125}n(F1,"isSyntaxCharacter");O.regexp_eatPatternCharacters=function(t){for(var e=t.pos,i=0;(i=t.current())!==-1&&!F1(i);)t.advance();return t.pos!==e};O.regexp_eatExtendedPatternCharacter=function(t){var e=t.current();return e!==-1&&e!==36&&!(e>=40&&e<=43)&&e!==46&&e!==63&&e!==91&&e!==94&&e!==124?(t.advance(),!0):!1};O.regexp_groupSpecifier=function(t){if(t.eat(63)){if(this.regexp_eatGroupName(t)){t.groupNames.indexOf(t.lastStringValue)!==-1&&t.raise("Duplicate capture group name"),t.groupNames.push(t.lastStringValue);return}t.raise("Invalid group")}};O.regexp_eatGroupName=function(t){if(t.lastStringValue="",t.eat(60)){if(this.regexp_eatRegExpIdentifierName(t)&&t.eat(62))return!0;t.raise("Invalid capture group name")}return!1};O.regexp_eatRegExpIdentifierName=function(t){if(t.lastStringValue="",this.regexp_eatRegExpIdentifierStart(t)){for(t.lastStringValue+=yo(t.lastIntValue);this.regexp_eatRegExpIdentifierPart(t);)t.lastStringValue+=yo(t.lastIntValue);return!0}return!1};O.regexp_eatRegExpIdentifierStart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),QP(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function QP(t){return Ni(t,!0)||t===36||t===95}n(QP,"isRegExpIdentifierStart");O.regexp_eatRegExpIdentifierPart=function(t){var e=t.pos,i=this.options.ecmaVersion>=11,o=t.current(i);return t.advance(i),o===92&&this.regexp_eatRegExpUnicodeEscapeSequence(t,i)&&(o=t.lastIntValue),ZP(o)?(t.lastIntValue=o,!0):(t.pos=e,!1)};function ZP(t){return ia(t,!0)||t===36||t===95||t===8204||t===8205}n(ZP,"isRegExpIdentifierPart");O.regexp_eatAtomEscape=function(t){return this.regexp_eatBackReference(t)||this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)||t.switchN&&this.regexp_eatKGroupName(t)?!0:(t.switchU&&(t.current()===99&&t.raise("Invalid unicode escape"),t.raise("Invalid escape")),!1)};O.regexp_eatBackReference=function(t){var e=t.pos;if(this.regexp_eatDecimalEscape(t)){var i=t.lastIntValue;if(t.switchU)return i>t.maxBackReference&&(t.maxBackReference=i),!0;if(i<=t.numCapturingParens)return!0;t.pos=e}return!1};O.regexp_eatKGroupName=function(t){if(t.eat(107)){if(this.regexp_eatGroupName(t))return t.backReferenceNames.push(t.lastStringValue),!0;t.raise("Invalid named reference")}return!1};O.regexp_eatCharacterEscape=function(t){return this.regexp_eatControlEscape(t)||this.regexp_eatCControlLetter(t)||this.regexp_eatZero(t)||this.regexp_eatHexEscapeSequence(t)||this.regexp_eatRegExpUnicodeEscapeSequence(t,!1)||!t.switchU&&this.regexp_eatLegacyOctalEscapeSequence(t)||this.regexp_eatIdentityEscape(t)};O.regexp_eatCControlLetter=function(t){var e=t.pos;if(t.eat(99)){if(this.regexp_eatControlLetter(t))return!0;t.pos=e}return!1};O.regexp_eatZero=function(t){return t.current()===48&&!xy(t.lookahead())?(t.lastIntValue=0,t.advance(),!0):!1};O.regexp_eatControlEscape=function(t){var e=t.current();return e===116?(t.lastIntValue=9,t.advance(),!0):e===110?(t.lastIntValue=10,t.advance(),!0):e===118?(t.lastIntValue=11,t.advance(),!0):e===102?(t.lastIntValue=12,t.advance(),!0):e===114?(t.lastIntValue=13,t.advance(),!0):!1};O.regexp_eatControlLetter=function(t){var e=t.current();return Y1(e)?(t.lastIntValue=e%32,t.advance(),!0):!1};function Y1(t){return t>=65&&t<=90||t>=97&&t<=122}n(Y1,"isControlLetter");O.regexp_eatRegExpUnicodeEscapeSequence=function(t,e){e===void 0&&(e=!1);var i=t.pos,o=e||t.switchU;if(t.eat(117)){if(this.regexp_eatFixedHexDigits(t,4)){var r=t.lastIntValue;if(o&&r>=55296&&r<=56319){var s=t.pos;if(t.eat(92)&&t.eat(117)&&this.regexp_eatFixedHexDigits(t,4)){var u=t.lastIntValue;if(u>=56320&&u<=57343)return t.lastIntValue=(r-55296)*1024+(u-56320)+65536,!0}t.pos=s,t.lastIntValue=r}return!0}if(o&&t.eat(123)&&this.regexp_eatHexDigits(t)&&t.eat(125)&&eN(t.lastIntValue))return!0;o&&t.raise("Invalid unicode escape"),t.pos=i}return!1};function eN(t){return t>=0&&t<=1114111}n(eN,"isValidUnicode");O.regexp_eatIdentityEscape=function(t){if(t.switchU)return this.regexp_eatSyntaxCharacter(t)?!0:t.eat(47)?(t.lastIntValue=47,!0):!1;var e=t.current();return e!==99&&(!t.switchN||e!==107)?(t.lastIntValue=e,t.advance(),!0):!1};O.regexp_eatDecimalEscape=function(t){t.lastIntValue=0;var e=t.current();if(e>=49&&e<=57){do t.lastIntValue=10*t.lastIntValue+(e-48),t.advance();while((e=t.current())>=48&&e<=57);return!0}return!1};var j1=0,Ai=1,Mt=2;O.regexp_eatCharacterClassEscape=function(t){var e=t.current();if(tN(e))return t.lastIntValue=-1,t.advance(),Ai;var i=!1;if(t.switchU&&this.options.ecmaVersion>=9&&((i=e===80)||e===112)){t.lastIntValue=-1,t.advance();var o;if(t.eat(123)&&(o=this.regexp_eatUnicodePropertyValueExpression(t))&&t.eat(125))return i&&o===Mt&&t.raise("Invalid property name"),o;t.raise("Invalid property name")}return j1};function tN(t){return t===100||t===68||t===115||t===83||t===119||t===87}n(tN,"isCharacterClassEscape");O.regexp_eatUnicodePropertyValueExpression=function(t){var e=t.pos;if(this.regexp_eatUnicodePropertyName(t)&&t.eat(61)){var i=t.lastStringValue;if(this.regexp_eatUnicodePropertyValue(t)){var o=t.lastStringValue;return this.regexp_validateUnicodePropertyNameAndValue(t,i,o),Ai}}if(t.pos=e,this.regexp_eatLoneUnicodePropertyNameOrValue(t)){var r=t.lastStringValue;return this.regexp_validateUnicodePropertyNameOrValue(t,r)}return j1};O.regexp_validateUnicodePropertyNameAndValue=function(t,e,i){s_(t.unicodeProperties.nonBinary,e)||t.raise("Invalid property name"),t.unicodeProperties.nonBinary[e].test(i)||t.raise("Invalid property value")};O.regexp_validateUnicodePropertyNameOrValue=function(t,e){if(t.unicodeProperties.binary.test(e))return Ai;if(t.switchV&&t.unicodeProperties.binaryOfStrings.test(e))return Mt;t.raise("Invalid property name")};O.regexp_eatUnicodePropertyName=function(t){var e=0;for(t.lastStringValue="";U1(e=t.current());)t.lastStringValue+=yo(e),t.advance();return t.lastStringValue!==""};function U1(t){return Y1(t)||t===95}n(U1,"isUnicodePropertyNameCharacter");O.regexp_eatUnicodePropertyValue=function(t){var e=0;for(t.lastStringValue="";iN(e=t.current());)t.lastStringValue+=yo(e),t.advance();return t.lastStringValue!==""};function iN(t){return U1(t)||xy(t)}n(iN,"isUnicodePropertyValueCharacter");O.regexp_eatLoneUnicodePropertyNameOrValue=function(t){return this.regexp_eatUnicodePropertyValue(t)};O.regexp_eatCharacterClass=function(t){if(t.eat(91)){var e=t.eat(94),i=this.regexp_classContents(t);return t.eat(93)||t.raise("Unterminated character class"),e&&i===Mt&&t.raise("Negated character class may contain strings"),!0}return!1};O.regexp_classContents=function(t){return t.current()===93?Ai:t.switchV?this.regexp_classSetExpression(t):(this.regexp_nonEmptyClassRanges(t),Ai)};O.regexp_nonEmptyClassRanges=function(t){for(;this.regexp_eatClassAtom(t);){var e=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassAtom(t)){var i=t.lastIntValue;t.switchU&&(e===-1||i===-1)&&t.raise("Invalid character class"),e!==-1&&i!==-1&&e>i&&t.raise("Range out of order in character class")}}};O.regexp_eatClassAtom=function(t){var e=t.pos;if(t.eat(92)){if(this.regexp_eatClassEscape(t))return!0;if(t.switchU){var i=t.current();(i===99||J1(i))&&t.raise("Invalid class escape"),t.raise("Invalid escape")}t.pos=e}var o=t.current();return o!==93?(t.lastIntValue=o,t.advance(),!0):!1};O.regexp_eatClassEscape=function(t){var e=t.pos;if(t.eat(98))return t.lastIntValue=8,!0;if(t.switchU&&t.eat(45))return t.lastIntValue=45,!0;if(!t.switchU&&t.eat(99)){if(this.regexp_eatClassControlLetter(t))return!0;t.pos=e}return this.regexp_eatCharacterClassEscape(t)||this.regexp_eatCharacterEscape(t)};O.regexp_classSetExpression=function(t){var e=Ai,i;if(!this.regexp_eatClassSetRange(t))if(i=this.regexp_eatClassSetOperand(t)){i===Mt&&(e=Mt);for(var o=t.pos;t.eatChars([38,38]);){if(t.current()!==38&&(i=this.regexp_eatClassSetOperand(t))){i!==Mt&&(e=Ai);continue}t.raise("Invalid character in character class")}if(o!==t.pos)return e;for(;t.eatChars([45,45]);)this.regexp_eatClassSetOperand(t)||t.raise("Invalid character in character class");if(o!==t.pos)return e}else t.raise("Invalid character in character class");for(;;)if(!this.regexp_eatClassSetRange(t)){if(i=this.regexp_eatClassSetOperand(t),!i)return e;i===Mt&&(e=Mt)}};O.regexp_eatClassSetRange=function(t){var e=t.pos;if(this.regexp_eatClassSetCharacter(t)){var i=t.lastIntValue;if(t.eat(45)&&this.regexp_eatClassSetCharacter(t)){var o=t.lastIntValue;return i!==-1&&o!==-1&&i>o&&t.raise("Range out of order in character class"),!0}t.pos=e}return!1};O.regexp_eatClassSetOperand=function(t){return this.regexp_eatClassSetCharacter(t)?Ai:this.regexp_eatClassStringDisjunction(t)||this.regexp_eatNestedClass(t)};O.regexp_eatNestedClass=function(t){var e=t.pos;if(t.eat(91)){var i=t.eat(94),o=this.regexp_classContents(t);if(t.eat(93))return i&&o===Mt&&t.raise("Negated character class may contain strings"),o;t.pos=e}if(t.eat(92)){var r=this.regexp_eatCharacterClassEscape(t);if(r)return r;t.pos=e}return null};O.regexp_eatClassStringDisjunction=function(t){var e=t.pos;if(t.eatChars([92,113])){if(t.eat(123)){var i=this.regexp_classStringDisjunctionContents(t);if(t.eat(125))return i}else t.raise("Invalid escape");t.pos=e}return null};O.regexp_classStringDisjunctionContents=function(t){for(var e=this.regexp_classString(t);t.eat(124);)this.regexp_classString(t)===Mt&&(e=Mt);return e};O.regexp_classString=function(t){for(var e=0;this.regexp_eatClassSetCharacter(t);)e++;return e===1?Ai:Mt};O.regexp_eatClassSetCharacter=function(t){var e=t.pos;if(t.eat(92))return this.regexp_eatCharacterEscape(t)||this.regexp_eatClassSetReservedPunctuator(t)?!0:t.eat(98)?(t.lastIntValue=8,!0):(t.pos=e,!1);var i=t.current();return i<0||i===t.lookahead()&&oN(i)||nN(i)?!1:(t.advance(),t.lastIntValue=i,!0)};function oN(t){return t===33||t>=35&&t<=38||t>=42&&t<=44||t===46||t>=58&&t<=64||t===94||t===96||t===126}n(oN,"isClassSetReservedDoublePunctuatorCharacter");function nN(t){return t===40||t===41||t===45||t===47||t>=91&&t<=93||t>=123&&t<=125}n(nN,"isClassSetSyntaxCharacter");O.regexp_eatClassSetReservedPunctuator=function(t){var e=t.current();return rN(e)?(t.lastIntValue=e,t.advance(),!0):!1};function rN(t){return t===33||t===35||t===37||t===38||t===44||t===45||t>=58&&t<=62||t===64||t===96||t===126}n(rN,"isClassSetReservedPunctuator");O.regexp_eatClassControlLetter=function(t){var e=t.current();return xy(e)||e===95?(t.lastIntValue=e%32,t.advance(),!0):!1};O.regexp_eatHexEscapeSequence=function(t){var e=t.pos;if(t.eat(120)){if(this.regexp_eatFixedHexDigits(t,2))return!0;t.switchU&&t.raise("Invalid escape"),t.pos=e}return!1};O.regexp_eatDecimalDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;xy(i=t.current());)t.lastIntValue=10*t.lastIntValue+(i-48),t.advance();return t.pos!==e};function xy(t){return t>=48&&t<=57}n(xy,"isDecimalDigit");O.regexp_eatHexDigits=function(t){var e=t.pos,i=0;for(t.lastIntValue=0;W1(i=t.current());)t.lastIntValue=16*t.lastIntValue+H1(i),t.advance();return t.pos!==e};function W1(t){return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}n(W1,"isHexDigit");function H1(t){return t>=65&&t<=70?10+(t-65):t>=97&&t<=102?10+(t-97):t-48}n(H1,"hexToInt");O.regexp_eatLegacyOctalEscapeSequence=function(t){if(this.regexp_eatOctalDigit(t)){var e=t.lastIntValue;if(this.regexp_eatOctalDigit(t)){var i=t.lastIntValue;e<=3&&this.regexp_eatOctalDigit(t)?t.lastIntValue=e*64+i*8+t.lastIntValue:t.lastIntValue=e*8+i}else t.lastIntValue=e;return!0}return!1};O.regexp_eatOctalDigit=function(t){var e=t.current();return J1(e)?(t.lastIntValue=e-48,t.advance(),!0):(t.lastIntValue=0,!1)};function J1(t){return t>=48&&t<=55}n(J1,"isOctalDigit");O.regexp_eatFixedHexDigits=function(t,e){var i=t.pos;t.lastIntValue=0;for(var o=0;o<e;++o){var r=t.current();if(!W1(r))return t.pos=i,!1;t.lastIntValue=16*t.lastIntValue+H1(r),t.advance()}return!0};var aw=n(function(e){this.type=e.type,this.value=e.value,this.start=e.start,this.end=e.end,e.options.locations&&(this.loc=new _y(e,e.startLoc,e.endLoc)),e.options.ranges&&(this.range=[e.start,e.end])},"Token"),ne=Oe.prototype;ne.next=function(t){!t&&this.type.keyword&&this.containsEsc&&this.raiseRecoverable(this.start,"Escape sequence in keyword "+this.type.keyword),this.options.onToken&&this.options.onToken(new aw(this)),this.lastTokEnd=this.end,this.lastTokStart=this.start,this.lastTokEndLoc=this.endLoc,this.lastTokStartLoc=this.startLoc,this.nextToken()};ne.getToken=function(){return this.next(),new aw(this)};typeof Symbol<"u"&&(ne[Symbol.iterator]=function(){var t=this;return{next:function(){var e=t.getToken();return{done:e.type===_.eof,value:e}}}});ne.nextToken=function(){var t=this.curContext();if((!t||!t.preserveSpace)&&this.skipSpace(),this.start=this.pos,this.options.locations&&(this.startLoc=this.curPosition()),this.pos>=this.input.length)return this.finishToken(_.eof);if(t.override)return t.override(this);this.readToken(this.fullCharCodeAtPos())};ne.readToken=function(t){return Ni(t,this.options.ecmaVersion>=6)||t===92?this.readWord():this.getTokenFromCode(t)};ne.fullCharCodeAtPos=function(){var t=this.input.charCodeAt(this.pos);if(t<=55295||t>=56320)return t;var e=this.input.charCodeAt(this.pos+1);return e<=56319||e>=57344?t:(t<<10)+e-56613888};ne.skipBlockComment=function(){var t=this.options.onComment&&this.curPosition(),e=this.pos,i=this.input.indexOf("*/",this.pos+=2);if(i===-1&&this.raise(this.pos-2,"Unterminated comment"),this.pos=i+2,this.options.locations)for(var o=void 0,r=e;(o=m1(this.input,r,this.pos))>-1;)++this.curLine,r=this.lineStart=o;this.options.onComment&&this.options.onComment(!0,this.input.slice(e+2,i),e,this.pos,t,this.curPosition())};ne.skipLineComment=function(t){for(var e=this.pos,i=this.options.onComment&&this.curPosition(),o=this.input.charCodeAt(this.pos+=t);this.pos<this.input.length&&!oa(o);)o=this.input.charCodeAt(++this.pos);this.options.onComment&&this.options.onComment(!1,this.input.slice(e+t,this.pos),e,this.pos,i,this.curPosition())};ne.skipSpace=function(){e:for(;this.pos<this.input.length;){var t=this.input.charCodeAt(this.pos);switch(t){case 32:case 160:++this.pos;break;case 13:this.input.charCodeAt(this.pos+1)===10&&++this.pos;case 10:case 8232:case 8233:++this.pos,this.options.locations&&(++this.curLine,this.lineStart=this.pos);break;case 47:switch(this.input.charCodeAt(this.pos+1)){case 42:this.skipBlockComment();break;case 47:this.skipLineComment(2);break;default:break e}break;default:if(t>8&&t<14||t>=5760&&h1.test(String.fromCharCode(t)))++this.pos;else break e}}};ne.finishToken=function(t,e){this.end=this.pos,this.options.locations&&(this.endLoc=this.curPosition());var i=this.type;this.type=t,this.value=e,this.updateContext(i)};ne.readToken_dot=function(){var t=this.input.charCodeAt(this.pos+1);if(t>=48&&t<=57)return this.readNumber(!0);var e=this.input.charCodeAt(this.pos+2);return this.options.ecmaVersion>=6&&t===46&&e===46?(this.pos+=3,this.finishToken(_.ellipsis)):(++this.pos,this.finishToken(_.dot))};ne.readToken_slash=function(){var t=this.input.charCodeAt(this.pos+1);return this.exprAllowed?(++this.pos,this.readRegexp()):t===61?this.finishOp(_.assign,2):this.finishOp(_.slash,1)};ne.readToken_mult_modulo_exp=function(t){var e=this.input.charCodeAt(this.pos+1),i=1,o=t===42?_.star:_.modulo;return this.options.ecmaVersion>=7&&t===42&&e===42&&(++i,o=_.starstar,e=this.input.charCodeAt(this.pos+2)),e===61?this.finishOp(_.assign,i+1):this.finishOp(o,i)};ne.readToken_pipe_amp=function(t){var e=this.input.charCodeAt(this.pos+1);if(e===t){if(this.options.ecmaVersion>=12){var i=this.input.charCodeAt(this.pos+2);if(i===61)return this.finishOp(_.assign,3)}return this.finishOp(t===124?_.logicalOR:_.logicalAND,2)}return e===61?this.finishOp(_.assign,2):this.finishOp(t===124?_.bitwiseOR:_.bitwiseAND,1)};ne.readToken_caret=function(){var t=this.input.charCodeAt(this.pos+1);return t===61?this.finishOp(_.assign,2):this.finishOp(_.bitwiseXOR,1)};ne.readToken_plus_min=function(t){var e=this.input.charCodeAt(this.pos+1);return e===t?e===45&&!this.inModule&&this.input.charCodeAt(this.pos+2)===62&&(this.lastTokEnd===0||Ot.test(this.input.slice(this.lastTokEnd,this.pos)))?(this.skipLineComment(3),this.skipSpace(),this.nextToken()):this.finishOp(_.incDec,2):e===61?this.finishOp(_.assign,2):this.finishOp(_.plusMin,1)};ne.readToken_lt_gt=function(t){var e=this.input.charCodeAt(this.pos+1),i=1;return e===t?(i=t===62&&this.input.charCodeAt(this.pos+2)===62?3:2,this.input.charCodeAt(this.pos+i)===61?this.finishOp(_.assign,i+1):this.finishOp(_.bitShift,i)):e===33&&t===60&&!this.inModule&&this.input.charCodeAt(this.pos+2)===45&&this.input.charCodeAt(this.pos+3)===45?(this.skipLineComment(4),this.skipSpace(),this.nextToken()):(e===61&&(i=2),this.finishOp(_.relational,i))};ne.readToken_eq_excl=function(t){var e=this.input.charCodeAt(this.pos+1);return e===61?this.finishOp(_.equality,this.input.charCodeAt(this.pos+2)===61?3:2):t===61&&e===62&&this.options.ecmaVersion>=6?(this.pos+=2,this.finishToken(_.arrow)):this.finishOp(t===61?_.eq:_.prefix,1)};ne.readToken_question=function(){var t=this.options.ecmaVersion;if(t>=11){var e=this.input.charCodeAt(this.pos+1);if(e===46){var i=this.input.charCodeAt(this.pos+2);if(i<48||i>57)return this.finishOp(_.questionDot,2)}if(e===63){if(t>=12){var o=this.input.charCodeAt(this.pos+2);if(o===61)return this.finishOp(_.assign,3)}return this.finishOp(_.coalesce,2)}}return this.finishOp(_.question,1)};ne.readToken_numberSign=function(){var t=this.options.ecmaVersion,e=35;if(t>=13&&(++this.pos,e=this.fullCharCodeAtPos(),Ni(e,!0)||e===92))return this.finishToken(_.privateId,this.readWord1());this.raise(this.pos,"Unexpected character '"+yo(e)+"'")};ne.getTokenFromCode=function(t){switch(t){case 46:return this.readToken_dot();case 40:return++this.pos,this.finishToken(_.parenL);case 41:return++this.pos,this.finishToken(_.parenR);case 59:return++this.pos,this.finishToken(_.semi);case 44:return++this.pos,this.finishToken(_.comma);case 91:return++this.pos,this.finishToken(_.bracketL);case 93:return++this.pos,this.finishToken(_.bracketR);case 123:return++this.pos,this.finishToken(_.braceL);case 125:return++this.pos,this.finishToken(_.braceR);case 58:return++this.pos,this.finishToken(_.colon);case 96:if(this.options.ecmaVersion<6)break;return++this.pos,this.finishToken(_.backQuote);case 48:var e=this.input.charCodeAt(this.pos+1);if(e===120||e===88)return this.readRadixNumber(16);if(this.options.ecmaVersion>=6){if(e===111||e===79)return this.readRadixNumber(8);if(e===98||e===66)return this.readRadixNumber(2)}case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return this.readNumber(!1);case 34:case 39:return this.readString(t);case 47:return this.readToken_slash();case 37:case 42:return this.readToken_mult_modulo_exp(t);case 124:case 38:return this.readToken_pipe_amp(t);case 94:return this.readToken_caret();case 43:case 45:return this.readToken_plus_min(t);case 60:case 62:return this.readToken_lt_gt(t);case 61:case 33:return this.readToken_eq_excl(t);case 63:return this.readToken_question();case 126:return this.finishOp(_.prefix,1);case 35:return this.readToken_numberSign()}this.raise(this.pos,"Unexpected character '"+yo(t)+"'")};ne.finishOp=function(t,e){var i=this.input.slice(this.pos,this.pos+e);return this.pos+=e,this.finishToken(t,i)};ne.readRegexp=function(){for(var t,e,i=this.pos;;){this.pos>=this.input.length&&this.raise(i,"Unterminated regular expression");var o=this.input.charAt(this.pos);if(Ot.test(o)&&this.raise(i,"Unterminated regular expression"),t)t=!1;else{if(o==="[")e=!0;else if(o==="]"&&e)e=!1;else if(o==="/"&&!e)break;t=o==="\\"}++this.pos}var r=this.input.slice(i,this.pos);++this.pos;var s=this.pos,u=this.readWord1();this.containsEsc&&this.unexpected(s);var p=this.regexpState||(this.regexpState=new hi(this));p.reset(i,r,u),this.validateRegExpFlags(p),this.validateRegExpPattern(p);var f=null;try{f=new RegExp(r,u)}catch(m){}return this.finishToken(_.regexp,{pattern:r,flags:u,value:f})};ne.readInt=function(t,e,i){for(var o=this.options.ecmaVersion>=12&&e===void 0,r=i&&this.input.charCodeAt(this.pos)===48,s=this.pos,u=0,p=0,f=0,m=e==null?1/0:e;f<m;++f,++this.pos){var h=this.input.charCodeAt(this.pos),x=void 0;if(o&&h===95){r&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed in legacy octal numeric literals"),p===95&&this.raiseRecoverable(this.pos,"Numeric separator must be exactly one underscore"),f===0&&this.raiseRecoverable(this.pos,"Numeric separator is not allowed at the first of digits"),p=h;continue}if(h>=97?x=h-97+10:h>=65?x=h-65+10:h>=48&&h<=57?x=h-48:x=1/0,x>=t)break;p=h,u=u*t+x}return o&&p===95&&this.raiseRecoverable(this.pos-1,"Numeric separator is not allowed at the last of digits"),this.pos===s||e!=null&&this.pos-s!==e?null:u};function sN(t,e){return e?parseInt(t,8):parseFloat(t.replace(/_/g,""))}n(sN,"stringToNumber");function G1(t){return typeof BigInt!="function"?null:BigInt(t.replace(/_/g,""))}n(G1,"stringToBigInt");ne.readRadixNumber=function(t){var e=this.pos;this.pos+=2;var i=this.readInt(t);return i==null&&this.raise(this.start+2,"Expected number in radix "+t),this.options.ecmaVersion>=11&&this.input.charCodeAt(this.pos)===110?(i=G1(this.input.slice(e,this.pos)),++this.pos):Ni(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,i)};ne.readNumber=function(t){var e=this.pos;!t&&this.readInt(10,void 0,!0)===null&&this.raise(e,"Invalid number");var i=this.pos-e>=2&&this.input.charCodeAt(e)===48;i&&this.strict&&this.raise(e,"Invalid number");var o=this.input.charCodeAt(this.pos);if(!i&&!t&&this.options.ecmaVersion>=11&&o===110){var r=G1(this.input.slice(e,this.pos));return++this.pos,Ni(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number"),this.finishToken(_.num,r)}i&&/[89]/.test(this.input.slice(e,this.pos))&&(i=!1),o===46&&!i&&(++this.pos,this.readInt(10),o=this.input.charCodeAt(this.pos)),(o===69||o===101)&&!i&&(o=this.input.charCodeAt(++this.pos),(o===43||o===45)&&++this.pos,this.readInt(10)===null&&this.raise(e,"Invalid number")),Ni(this.fullCharCodeAtPos())&&this.raise(this.pos,"Identifier directly after number");var s=sN(this.input.slice(e,this.pos),i);return this.finishToken(_.num,s)};ne.readCodePoint=function(){var t=this.input.charCodeAt(this.pos),e;if(t===123){this.options.ecmaVersion<6&&this.unexpected();var i=++this.pos;e=this.readHexChar(this.input.indexOf("}",this.pos)-this.pos),++this.pos,e>1114111&&this.invalidStringToken(i,"Code point out of bounds")}else e=this.readHexChar(4);return e};ne.readString=function(t){for(var e="",i=++this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated string constant");var o=this.input.charCodeAt(this.pos);if(o===t)break;o===92?(e+=this.input.slice(i,this.pos),e+=this.readEscapedChar(!1),i=this.pos):o===8232||o===8233?(this.options.ecmaVersion<10&&this.raise(this.start,"Unterminated string constant"),++this.pos,this.options.locations&&(this.curLine++,this.lineStart=this.pos)):(oa(o)&&this.raise(this.start,"Unterminated string constant"),++this.pos)}return e+=this.input.slice(i,this.pos++),this.finishToken(_.string,e)};var z1={};ne.tryReadTemplateToken=function(){this.inTemplateElement=!0;try{this.readTmplToken()}catch(t){if(t===z1)this.readInvalidTemplateToken();else throw t}this.inTemplateElement=!1};ne.invalidStringToken=function(t,e){if(this.inTemplateElement&&this.options.ecmaVersion>=9)throw z1;this.raise(t,e)};ne.readTmplToken=function(){for(var t="",e=this.pos;;){this.pos>=this.input.length&&this.raise(this.start,"Unterminated template");var i=this.input.charCodeAt(this.pos);if(i===96||i===36&&this.input.charCodeAt(this.pos+1)===123)return this.pos===this.start&&(this.type===_.template||this.type===_.invalidTemplate)?i===36?(this.pos+=2,this.finishToken(_.dollarBraceL)):(++this.pos,this.finishToken(_.backQuote)):(t+=this.input.slice(e,this.pos),this.finishToken(_.template,t));if(i===92)t+=this.input.slice(e,this.pos),t+=this.readEscapedChar(!0),e=this.pos;else if(oa(i)){switch(t+=this.input.slice(e,this.pos),++this.pos,i){case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:t+=`
`;break;default:t+=String.fromCharCode(i);break}this.options.locations&&(++this.curLine,this.lineStart=this.pos),e=this.pos}else++this.pos}};ne.readInvalidTemplateToken=function(){for(;this.pos<this.input.length;this.pos++)switch(this.input[this.pos]){case"\\":++this.pos;break;case"$":if(this.input[this.pos+1]!=="{")break;case"`":return this.finishToken(_.invalidTemplate,this.input.slice(this.start,this.pos))}this.raise(this.start,"Unterminated template")};ne.readEscapedChar=function(t){var e=this.input.charCodeAt(++this.pos);switch(++this.pos,e){case 110:return`
`;case 114:return"\r";case 120:return String.fromCharCode(this.readHexChar(2));case 117:return yo(this.readCodePoint());case 116:return"	";case 98:return"\b";case 118:return"\v";case 102:return"\f";case 13:this.input.charCodeAt(this.pos)===10&&++this.pos;case 10:return this.options.locations&&(this.lineStart=this.pos,++this.curLine),"";case 56:case 57:if(this.strict&&this.invalidStringToken(this.pos-1,"Invalid escape sequence"),t){var i=this.pos-1;this.invalidStringToken(i,"Invalid escape sequence in template string")}default:if(e>=48&&e<=55){var o=this.input.substr(this.pos-1,3).match(/^[0-7]+/)[0],r=parseInt(o,8);return r>255&&(o=o.slice(0,-1),r=parseInt(o,8)),this.pos+=o.length-1,e=this.input.charCodeAt(this.pos),(o!=="0"||e===56||e===57)&&(this.strict||t)&&this.invalidStringToken(this.pos-1-o.length,t?"Octal literal in template string":"Octal literal in strict mode"),String.fromCharCode(r)}return oa(e)?"":String.fromCharCode(e)}};ne.readHexChar=function(t){var e=this.pos,i=this.readInt(16,t);return i===null&&this.invalidStringToken(e,"Bad character escape sequence"),i};ne.readWord1=function(){this.containsEsc=!1;for(var t="",e=!0,i=this.pos,o=this.options.ecmaVersion>=6;this.pos<this.input.length;){var r=this.fullCharCodeAtPos();if(ia(r,o))this.pos+=r<=65535?1:2;else if(r===92){this.containsEsc=!0,t+=this.input.slice(i,this.pos);var s=this.pos;this.input.charCodeAt(++this.pos)!==117&&this.invalidStringToken(this.pos,"Expecting Unicode escape sequence \\uXXXX"),++this.pos;var u=this.readCodePoint();(e?Ni:ia)(u,o)||this.invalidStringToken(s,"Invalid Unicode escape"),t+=yo(u),i=this.pos}else break;e=!1}return t+this.input.slice(i,this.pos)};ne.readWord=function(){var t=this.readWord1(),e=_.name;return this.keywords.test(t)&&(e=ew[t]),this.finishToken(e,t)};var aN="8.11.3";Oe.acorn={Parser:Oe,version:aN,defaultOptions:Qb,Position:n_,SourceLocation:_y,getLineInfo:v1,Node:gy,TokenType:ce,tokTypes:_,keywordTypes:ew,TokContext:Kt,tokContexts:Te,isIdentifierChar:ia,isIdentifierStart:Ni,Token:aw,isNewLine:oa,lineBreak:Ot,lineBreakG:VP,nonASCIIwhitespace:h1};function $1(t,e){return Oe.parse(t,e)}n($1,"parse");var uN=function(t,e,i,o,r){if(o==="m")throw new TypeError("Private method is not writable");if(o==="a"&&!r)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return o==="a"?r.call(t,i):r?r.value=i:e.set(t,i),i},lN=function(t,e,i,o){if(i==="a"&&!o)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!o:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return i==="m"?o:i==="a"?o.call(t):o?o.value:e.get(t)},yy,Yn=class{constructor(e){yy.set(this,void 0);let i=$1(e,{ecmaVersion:2020});uN(this,yy,i.body,"f"),this.visitor=new ta(lN(this,yy,"f")),this.scope=this.visitor.scope,this.scope.set("print",o=>console.log(...o)),this.visitor.on("console",(o,r)=>{if(o.type==="Identifier")return console;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),u=o.arguments.map(f=>r.visitNode(f)),p=console[s];return p?p(...u):"proceed"}return"proceed"}),this.visitor.on("Math",(o,r)=>{if(o.type==="Identifier")return Math;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),u=o.arguments.map(f=>r.visitNode(f)),p=Math[s];return p?p(...u):"proceed"}return"proceed"}),this.visitor.on("String",(o,r)=>{if(o.type==="Identifier")return String;if(o.type==="CallExpression"&&o.callee.type==="MemberExpression"){let s=r.visitNode(o.callee.property),u=o.arguments.map(f=>r.visitNode(f)),p=String[s];return p?p(u):"proceed"}return"proceed"}),this.visitor.on("Date",o=>{if(o.type==="Identifier")return Date})}interpret(){return this.visitor.run()}};n(Yn,"Jinter");yy=new WeakMap;var wo,qe,K1,sa,l_="OAuth2",by=class{constructor(e){wo.add(this),qe.set(this,void 0),k(this,qe,e,"f"),this.YTTV_URL=new URL("/tv",re.URLS.YT_BASE),this.AUTH_SERVER_CODE_URL=new URL("/o/oauth2/device/code",re.URLS.YT_BASE),this.AUTH_SERVER_TOKEN_URL=new URL("/o/oauth2/token",re.URLS.YT_BASE),this.AUTH_SERVER_REVOKE_TOKEN_URL=new URL("/o/oauth2/revoke",re.URLS.YT_BASE)}init(e){return y(this,void 0,void 0,function*(){if(e){this.setTokens(e),this.shouldRefreshToken()&&(yield this.refreshAccessToken()),d(this,qe,"f").emit("auth",{credentials:this.oauth2_tokens});return}if(yield d(this,wo,"m",K1).call(this)){L.info(l_,"Loaded OAuth2 tokens from cache.",this.oauth2_tokens);return}this.client_id||(this.client_id=yield this.getClientID());let o=yield this.getDeviceAndUserCode();d(this,qe,"f").emit("auth-pending",o),this.pollForAccessToken(o)})}setTokens(e){let i=e;if(i.expires_in&&(i.expiry_date=new Date(Date.now()+i.expires_in*1e3).toISOString(),delete i.expires_in),!this.validateTokens(i))throw new Ne("Invalid tokens provided.");this.oauth2_tokens=i,i.client&&(L.info(l_,"Using provided client id and secret."),this.client_id=i.client)}cacheCredentials(){return y(this,void 0,void 0,function*(){var e;let o=new TextEncoder().encode(JSON.stringify(this.oauth2_tokens));yield(e=d(this,qe,"f").cache)===null||e===void 0?void 0:e.set("youtubei_oauth_credentials",o.buffer)})}removeCache(){return y(this,void 0,void 0,function*(){var e;yield(e=d(this,qe,"f").cache)===null||e===void 0?void 0:e.remove("youtubei_oauth_credentials")})}pollForAccessToken(e){return y(this,void 0,void 0,function*(){if(!this.client_id)throw new Ne("Client ID is missing.");let{device_code:i,interval:o}=e,{client_id:r,client_secret:s}=this.client_id,u={client_id:r,client_secret:s,code:i,grant_type:"http://oauth.net/grant_type/device/1.0"},p=setInterval(()=>y(this,void 0,void 0,function*(){let m=yield(yield d(this,wo,"a",sa).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(u),method:"POST",headers:{"Content-Type":"application/json"}})).json();if(m.error){switch(m.error){case"access_denied":d(this,qe,"f").emit("auth-error",new Ne("Access was denied.",m)),clearInterval(p);break;case"expired_token":d(this,qe,"f").emit("auth-error",new Ne("The device code has expired.",m)),clearInterval(p);break;case"authorization_pending":case"slow_down":L.info(l_,"Polling for access token...");break;default:d(this,qe,"f").emit("auth-error",new Ne("Server returned an unexpected error.",m)),clearInterval(p);break}return}this.setTokens(m),d(this,qe,"f").emit("auth",{credentials:this.oauth2_tokens}),clearInterval(p)}),o*1e3)})}revokeCredentials(){return y(this,void 0,void 0,function*(){if(!this.oauth2_tokens)throw new Ne("Access token not found");yield this.removeCache();let e=this.AUTH_SERVER_REVOKE_TOKEN_URL;return e.searchParams.set("token",this.oauth2_tokens.access_token),d(this,qe,"f").http.fetch_function(e,{method:"POST"})})}refreshAccessToken(){return y(this,void 0,void 0,function*(){if(this.client_id||(this.client_id=yield this.getClientID()),!this.oauth2_tokens)throw new Ne("No tokens available to refresh.");let{client_id:e,client_secret:i}=this.client_id,{refresh_token:o}=this.oauth2_tokens,r={client_id:e,client_secret:i,refresh_token:o,grant_type:"refresh_token"},s=yield d(this,wo,"a",sa).fetch_function(this.AUTH_SERVER_TOKEN_URL,{body:JSON.stringify(r),method:"POST",headers:{"Content-Type":"application/json"}});if(!s.ok)throw new Ne(`Failed to refresh access token: ${s.status}`);let u=yield s.json();if(u.error_code)throw new Ne("Authorization server returned an error",u);this.oauth2_tokens.access_token=u.access_token,this.oauth2_tokens.expiry_date=new Date(Date.now()+u.expires_in*1e3).toISOString(),d(this,qe,"f").emit("update-credentials",{credentials:this.oauth2_tokens})})}getDeviceAndUserCode(){return y(this,void 0,void 0,function*(){if(!this.client_id)throw new Ne("Client ID is missing.");let{client_id:e}=this.client_id,i={client_id:e,scope:"http://gdata.youtube.com https://www.googleapis.com/auth/youtube-paid-content",device_id:j.shim.uuidv4(),device_model:"ytlr::"},o=yield d(this,wo,"a",sa).fetch_function(this.AUTH_SERVER_CODE_URL,{body:JSON.stringify(i),method:"POST",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Ne(`Failed to get device/user code: ${o.status}`);let r=yield o.json();if(r.error_code)throw new Ne("Authorization server returned an error",r);return r})}getClientID(){return y(this,void 0,void 0,function*(){let e=yield d(this,wo,"a",sa).fetch_function(this.YTTV_URL,{headers:{"User-Agent":"Mozilla/5.0 (ChromiumStylePlatform) Cobalt/Version",Referer:"https://www.youtube.com/tv","Accept-Language":"en-US"}});if(!e.ok)throw new Ne(`Failed to get client ID: ${e.status}`);let i=yield e.text(),o;if((o=re.OAUTH.REGEX.TV_SCRIPT.exec(i))!==null){L.info(l_,`Got YouTubeTV script URL (${o[1]})`);let r=yield d(this,wo,"a",sa).fetch(o[1],{baseURL:re.URLS.YT_BASE});if(!r.ok)throw new Ne(`TV script request failed with status code ${r.status}`);let u=(yield r.text()).match(re.OAUTH.REGEX.CLIENT_IDENTITY);if(!u||!u.groups)throw new Ne("Could not obtain client ID.");let{client_id:p,client_secret:f}=u.groups;return L.info(l_,`Client identity retrieved (clientId=${p}, clientSecret=${f}).`),{client_id:p,client_secret:f}}throw new Ne("Could not obtain script URL.")})}shouldRefreshToken(){return this.oauth2_tokens?Date.now()>new Date(this.oauth2_tokens.expiry_date).getTime():!1}validateTokens(e){let i=Boolean(e.access_token)&&Boolean(e.expiry_date)&&Boolean(e.refresh_token);return typeof e.access_token=="string"&&typeof e.expiry_date=="string"&&typeof e.refresh_token=="string"&&i}};n(by,"OAuth2");qe=new WeakMap,wo=new WeakSet,K1=n(function(){return y(this,void 0,void 0,function*(){var e;let i=yield(e=d(this,qe,"f").cache)===null||e===void 0?void 0:e.get("youtubei_oauth_credentials");if(!i)return!1;let o=new TextDecoder,r=JSON.parse(o.decode(i));return this.setTokens(r),d(this,qe,"f").emit("auth",{credentials:r}),!0})},"_OAuth2_loadFromCache"),sa=n(function(){return d(this,qe,"f").http},"_OAuth2_http_get");var uw=by;var c_,q1,X1,Q1,wy=class{constructor(e){c_.add(this),this.session=e}stats(e,i,o){return y(this,void 0,void 0,function*(){let r=new URL(e);r.searchParams.set("ver","2"),r.searchParams.set("c",i.client_name.toLowerCase()),r.searchParams.set("cbrver",i.client_version),r.searchParams.set("cver",i.client_version);for(let u of Object.keys(o))r.searchParams.set(u,o[u]);return yield this.session.http.fetch(r)})}execute(e,i){return y(this,void 0,void 0,function*(){var o,r;let s;if(i&&!i.protobuf){if(s=Object.assign({},i),Reflect.has(s,"browseId")&&d(this,c_,"m",Q1).call(this,s.browseId)&&!this.session.logged_in)throw new v("You must be signed in to perform this operation.");Reflect.has(s,"override_endpoint")&&delete s.override_endpoint,Reflect.has(s,"parse")&&delete s.parse,Reflect.has(s,"request")&&delete s.request,Reflect.has(s,"clientActions")&&delete s.clientActions,Reflect.has(s,"settingItemIdForClient")&&delete s.settingItemIdForClient,Reflect.has(s,"action")&&(s.actions=[s.action],delete s.action),Reflect.has(s,"boolValue")&&(s.newValue={boolValue:s.boolValue},delete s.boolValue),Reflect.has(s,"token")&&(s.continuation=s.token,delete s.token),(s==null?void 0:s.client)==="YTMUSIC"&&(s.isAudioOnly=!0)}else i&&(s=i.serialized_data);let u=Reflect.has(i||{},"override_endpoint")?i==null?void 0:i.override_endpoint:e,p=yield this.session.http.fetch(u,{method:"POST",body:i!=null&&i.protobuf?s:JSON.stringify(s||{}),headers:{"Content-Type":i!=null&&i.protobuf?"application/x-protobuf":"application/json"}});if(i!=null&&i.parse){let f=c.parseResponse(yield p.json());if(d(this,c_,"m",X1).call(this,f)&&((r=(o=f.on_response_received_actions)===null||o===void 0?void 0:o.first())===null||r===void 0?void 0:r.type)==="navigateAction"){let m=f.on_response_received_actions.firstOfType(to);m&&(f=yield m.endpoint.call(this,{parse:!0}))}return f}return d(this,c_,"m",q1).call(this,p)})}};n(wy,"Actions");c_=new WeakSet,q1=n(function(e){return y(this,void 0,void 0,function*(){return{success:e.ok,status_code:e.status,data:JSON.parse(yield e.text())}})},"_Actions_wrap"),X1=n(function(e){return"on_response_received_actions"in e},"_Actions_isBrowse"),Q1=n(function(e){return["FElibrary","FEhistory","FEsubscriptions","FEchannels","FEplaylist_aggregation","FEmusic_listening_review","FEmusic_library_landing","SPaccount_overview","SPaccount_notifications","SPaccount_privacy","SPtime_watched"].includes(e)},"_Actions_needsLogin");var lw=wy;var _i="Player",_t=class{constructor(e,i,o,r){this.nsig_sc=o,this.sig_sc=i,this.sts=e,this.player_id=r}static create(e){return y(this,arguments,void 0,function*(i,o=j.shim.fetch){let r=new URL("/iframe_api",re.URLS.YT_BASE),s=yield o(r);if(s.status!==200)throw new $t("Failed to request player id");let u=yield s.text(),p=Je(u,"player\\/","\\/");if(L.info(_i,`Got player id (${p}). Checking for cached players..`),!p)throw new $t("Failed to get player id");if(i){let I=yield _t.fromCache(i,p);if(I)return L.info(_i,"Found up-to-date player data in cache."),I}let f=new URL(`/s/player/${p}/player_ias.vflset/en_US/base.js`,re.URLS.YT_BASE);L.info(_i,`Could not find any cached player. Will download a new player from ${f}.`);let m=yield o(f,{headers:{"user-agent":No("desktop")}});if(!m.ok)throw new $t(`Failed to get player data: ${m.status}`);let h=yield m.text(),x=this.extractSigTimestamp(h),w=this.extractSigSourceCode(h),T=this.extractNSigSourceCode(h);return L.info(_i,`Got signature timestamp (${x}) and algorithms needed to decipher signatures.`),yield _t.fromSource(i,x,w,T,p)})}decipher(e,i,o,r){if(e=e||i||o,!e)throw new $t("No valid URL to decipher");let s=new URLSearchParams(e),u=new URL(s.get("url")||e);if(i||o){let h=j.shim.eval(this.sig_sc,{sig:s.get("s")});if(L.info(_i,`Transformed signature from ${s.get("s")} to ${h}.`),typeof h!="string")throw new $t("Failed to decipher signature");let x=s.get("sp");x?u.searchParams.set(x,h):u.searchParams.set("signature",h)}let p=u.searchParams.get("n");if(p){let h;if(r&&r.has(p))h=r.get(p);else{if(h=j.shim.eval(this.nsig_sc,{nsig:p}),L.info(_i,`Transformed n signature from ${p} to ${h}.`),typeof h!="string")throw new $t("Failed to decipher nsig");h.startsWith("enhanced_except_")?L.warn(_i,"Could not transform nsig, download may be throttled."):r&&r.set(p,h)}u.searchParams.set("n",h)}switch(u.searchParams.get("c")){case"WEB":u.searchParams.set("cver",re.CLIENTS.WEB.VERSION);break;case"WEB_REMIX":u.searchParams.set("cver",re.CLIENTS.YTMUSIC.VERSION);break;case"WEB_KIDS":u.searchParams.set("cver",re.CLIENTS.WEB_KIDS.VERSION);break;case"ANDROID":u.searchParams.set("cver",re.CLIENTS.ANDROID.VERSION);break;case"ANDROID_MUSIC":u.searchParams.set("cver",re.CLIENTS.YTMUSIC_ANDROID.VERSION);break;case"TVHTML5_SIMPLY_EMBEDDED_PLAYER":u.searchParams.set("cver",re.CLIENTS.TV_EMBEDDED.VERSION);break}let m=u.toString();return L.info(_i,`Deciphered URL: ${m}`),u.toString()}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get(i);if(!o)return null;let r=new DataView(o);if(r.getUint32(0,!0)!==_t.LIBRARY_VERSION)return null;let u=r.getUint32(4,!0),p=r.getUint32(8,!0),f=o.slice(12,12+p),m=o.slice(12+p),h=Bt.decompress(new TextDecoder().decode(f)),x=Bt.decompress(new TextDecoder().decode(m));return new _t(u,h,x,i)})}static fromSource(e,i,o,r,s){return y(this,void 0,void 0,function*(){let u=new _t(i,o,r,s);return yield u.cache(e),u})}cache(e){return y(this,void 0,void 0,function*(){if(!e)return;let i=new TextEncoder,o=i.encode(Bt.compress(this.sig_sc)),r=i.encode(Bt.compress(this.nsig_sc)),s=new ArrayBuffer(12+o.byteLength+r.byteLength),u=new DataView(s);u.setUint32(0,_t.LIBRARY_VERSION,!0),u.setUint32(4,this.sts,!0),u.setUint32(8,o.byteLength,!0),new Uint8Array(s).set(o,12),new Uint8Array(s).set(r,12+o.byteLength),yield e.set(this.player_id,new Uint8Array(s))})}static extractSigTimestamp(e){return parseInt(Je(e,"signatureTimestamp:",",")||"0")}static extractSigSourceCode(e){var i,o,r;let s=Je(e,'function(a){a=a.split("")','return a.join("")}'),u=(r=(o=(i=s==null?void 0:s.split(/\.|\[/))===null||i===void 0?void 0:i[0])===null||o===void 0?void 0:o.replace(";",""))===null||r===void 0?void 0:r.trim(),p=Je(e,`var ${u}={`,"};");return(!p||!s)&&L.warn(_i,"Failed to extract signature decipher algorithm."),`function descramble_sig(a) { a = a.split(""); let ${u}={${p}}${s} return a.join("") } descramble_sig(sig);`}static extractNSigSourceCode(e){let i=`function descramble_nsig(a) { let b=a.split("")${Je(e,'b=a.split("")','}return b.join("")}')}} return b.join(""); } descramble_nsig(nsig)`;return i||L.warn(_i,"Failed to extract n-token decipher algorithm"),i}get url(){return new URL(`/s/player/${this.player_id}/player_ias.vflset/en_US/base.js`,re.URLS.YT_BASE).toString()}static get LIBRARY_VERSION(){return 10}};n(_t,"Player");var jn,eC,tC,iC,Z1,cw;(function(t){t.WEB="WEB",t.KIDS="WEB_KIDS",t.MUSIC="WEB_REMIX",t.IOS="iOS",t.ANDROID="ANDROID",t.ANDROID_MUSIC="ANDROID_MUSIC",t.ANDROID_CREATOR="ANDROID_CREATOR",t.TV_EMBEDDED="TVHTML5_SIMPLY_EMBEDDED_PLAYER"})(cw||(cw={}));var aa="Session",d_=class extends la{constructor(e,i,o,r,s,u,p,f){super(),this.http=new Jy(this,u,p),this.actions=new lw(this),this.oauth=new uw(this),this.logged_in=!!u,this.cache=f,this.account_index=r,this.key=i,this.api_version=o,this.context=e,this.player=s}on(e,i){super.on(e,i)}once(e,i){super.once(e,i)}static create(){return y(this,arguments,void 0,function*(e={}){let{context:i,api_key:o,api_version:r,account_index:s}=yield jn.getSessionData(e.lang,e.location,e.account_index,e.visitor_data,e.enable_safety_mode,e.generate_session_locally,e.device_category,e.client_type,e.timezone,e.fetch,e.on_behalf_of_user,e.cache,e.enable_session_cache);return new jn(i,o,r,s,e.retrieve_player===!1?void 0:yield _t.create(e.cache,e.fetch),e.cookie,e.fetch,e.cache)})}static fromCache(e,i){return y(this,void 0,void 0,function*(){let o=yield e.get("innertube_session_data");if(!o)return null;let r=new TextDecoder().decode(o.slice(4));try{let s=JSON.parse(Bt.decompress(r));return i.visitor_data&&(s.context.client.visitorData=i.visitor_data),i.lang&&(s.context.client.hl=i.lang),i.location&&(s.context.client.gl=i.location),i.on_behalf_of_user&&(s.context.user.onBehalfOfUser=i.on_behalf_of_user),s.context.client.timeZone=i.time_zone,s.context.client.platform=i.device_category.toUpperCase(),s.context.client.clientName=i.client_name,s.context.user.enableSafetyMode=i.enable_safety_mode,s}catch(s){return L.error(aa,"Failed to parse session data from cache.",s),null}})}static getSessionData(){return y(this,arguments,void 0,function*(e="",i="",o=0,r="",s=!1,u=!1,p="desktop",f=cw.WEB,m=Intl.DateTimeFormat().resolvedOptions().timeZone,h=j.shim.fetch,x,w,T=!0){let I={lang:e,location:i,time_zone:m,device_category:p,client_name:f,enable_safety_mode:s,visitor_data:r,on_behalf_of_user:x},S;if(w&&T){let P=yield this.fromCache(w,I);P&&(L.info(aa,"Found session data in cache."),S=P)}if(!S){L.info(aa,"Generating session data.");let P=ue.WEB.API_KEY,R=ue.WEB.API_VERSION,$={hl:e||"en",gl:i||"US",remote_host:"",visitor_data:r||ob(Nt(11),Math.floor(Date.now()/1e3)),client_name:f,client_version:ue.WEB.VERSION,device_category:p.toUpperCase(),os_name:"Windows",os_version:"10.0",time_zone:m,browser_name:"Chrome",browser_version:"125.0.0.0",device_make:"",device_model:"",enable_safety_mode:s};if(!u)try{let W=yield d(this,jn,"m",tC).call(this,I,h);P=W.api_key,R=W.api_version,$=W.context_data}catch(W){L.error(aa,"Failed to retrieve session data from server. Session data generated locally will be used instead.",W)}S={api_key:P,api_version:R,context:d(this,jn,"m",iC).call(this,$)},T&&(yield d(this,jn,"m",eC).call(this,S,w))}return L.debug(aa,"Session data:",S),Object.assign(Object.assign({},S),{account_index:o})})}signIn(e){return y(this,void 0,void 0,function*(){return new Promise((i,o)=>y(this,void 0,void 0,function*(){let r=n(s=>o(s),"error_handler");this.once("auth-error",r),this.once("auth",()=>{this.off("auth-error",r),this.logged_in=!0,i()});try{yield this.oauth.init(e)}catch(s){o(s)}}))})}signOut(){return y(this,void 0,void 0,function*(){if(!this.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield this.oauth.revokeCredentials();return this.logged_in=!1,e})}get client_version(){return this.context.client.clientVersion}get client_name(){return this.context.client.clientName}get lang(){return this.context.client.hl}};n(d_,"Session");jn=d_,eC=n(function(e,i){return y(this,void 0,void 0,function*(){if(!i)return;L.info(aa,"Compressing and caching session data.");let o=new TextEncoder().encode(Bt.compress(JSON.stringify(e))),r=new ArrayBuffer(4+o.byteLength);new DataView(r).setUint32(0,o.byteLength,!0),new Uint8Array(r).set(o,4),yield i.set("innertube_session_data",new Uint8Array(r))})},"_Session_storeSession"),tC=n(function(e){return y(this,arguments,void 0,function*(i,o=j.shim.fetch){let r=Nt(11);i.visitor_data&&(r=d(this,jn,"m",Z1).call(this,i.visitor_data));let s=new URL("/sw.js_data",it.YT_BASE),u=yield o(s,{headers:{"Accept-Language":i.lang||"en-US","User-Agent":No("desktop"),Accept:"*/*",Referer:`${it.YT_BASE}/sw.js`,Cookie:`PREF=tz=${i.time_zone.replace("/",".")};VISITOR_INFO1_LIVE=${r};`}});if(!u.ok)throw new Bn(`Failed to retrieve session data: ${u.status}`);let p=yield u.text();if(!p.startsWith(")]}'"))throw new Bn("Invalid JSPB response");let m=JSON.parse(p.replace(/^\)\]\}'/,""))[0][2],h=ue.WEB.API_VERSION,[[x],w]=m;return{context_data:{hl:i.lang||x[0],gl:i.location||x[2],remote_host:x[3],visitor_data:x[13],client_name:i.client_name,client_version:x[16],os_name:x[17],os_version:x[18],time_zone:x[79]||i.time_zone,device_category:i.device_category,browser_name:x[86],browser_version:x[87],device_make:x[11],device_model:x[12],enable_safety_mode:i.enable_safety_mode},api_key:w,api_version:h}})},"_Session_getSessionData"),iC=n(function(e){let i={client:{hl:e.hl,gl:e.gl,remoteHost:e.remote_host,screenDensityFloat:1,screenHeightPoints:1440,screenPixelDensity:1,screenWidthPoints:2560,visitorData:e.visitor_data,clientName:e.client_name,clientVersion:e.client_version,osName:e.os_name,osVersion:e.os_version,platform:e.device_category.toUpperCase(),clientFormFactor:"UNKNOWN_FORM_FACTOR",userInterfaceTheme:"USER_INTERFACE_THEME_LIGHT",timeZone:e.time_zone,originalUrl:it.YT_BASE,deviceMake:e.device_make,deviceModel:e.device_model,browserName:e.browser_name,browserVersion:e.browser_version,utcOffsetMinutes:-new Date().getTimezoneOffset(),memoryTotalKbytes:"8000000",mainAppWebInfo:{graftUrl:it.YT_BASE,pwaInstallabilityStatus:"PWA_INSTALLABILITY_STATUS_UNKNOWN",webDisplayMode:"WEB_DISPLAY_MODE_BROWSER",isWebNativeShareAvailable:!0}},user:{enableSafetyMode:e.enable_safety_mode,lockedSafetyMode:!1},request:{useSsl:!0,internalExperimentFlags:[]}};return e.on_behalf_of_user&&(i.user.onBehalfOfUser=e.on_behalf_of_user),i},"_Session_buildContext"),Z1=n(function(e){return nb(e).id},"_Session_getVisitorID");var dw=d_;var pw={};D(pw,{Kids:()=>Iy,Music:()=>Cy,Studio:()=>Py});var Xe,Ty=class{constructor(e){Xe.set(this,void 0),k(this,Xe,e,"f")}search(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Xe,"f").actions.execute(bt.PATH,bt.build({client:"YTKIDS",query:e}));return new Wx(d(this,Xe,"f").actions,i)})}getInfo(e){return y(this,void 0,void 0,function*(){var i;let o=st.build({sts:(i=d(this,Xe,"f").player)===null||i===void 0?void 0:i.sts,client:"YTKIDS",video_id:e}),r=ke.build({video_id:e,client:"YTKIDS"}),s=d(this,Xe,"f").actions.execute(st.PATH,o),u=d(this,Xe,"f").actions.execute(ke.PATH,r),p=yield Promise.all([s,u]),f=Nt(16);return new Jx(p,d(this,Xe,"f").actions,f)})}getChannel(e){return y(this,void 0,void 0,function*(){let i=yield d(this,Xe,"f").actions.execute(B.PATH,B.build({browse_id:e,client:"YTKIDS"}));return new Yx(d(this,Xe,"f").actions,i)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,Xe,"f").actions.execute(B.PATH,B.build({browse_id:"FEkids_home",client:"YTKIDS"}));return new jx(d(this,Xe,"f").actions,e)})}blockChannel(e){return y(this,void 0,void 0,function*(){var i,o;if(!d(this,Xe,"f").logged_in)throw new v("You must be signed in to perform this operation.");let r=On.build({channel_id:e}),p={contents:(yield d(this,Xe,"f").actions.execute(On.PATH,r)).data.command.confirmDialogEndpoint.content,engagementPanels:[]},m=(i=c.parseResponse(p).contents_memo)===null||i===void 0?void 0:i.getType(jr);if(!m)throw new v("Could not find any kids profiles or supervised accounts.");let h=[];for(let x of m)!((o=x.block_button)===null||o===void 0)&&o.is_toggled||(x.setActions(d(this,Xe,"f").actions),h.push(yield x.blockChannel()));return h})}};n(Ty,"Kids");Xe=new WeakMap;var Iy=Ty;var ky,p_,fe,oC,nC,Sy=class{constructor(e){ky.add(this),p_.set(this,void 0),fe.set(this,void 0),k(this,p_,e,"f"),k(this,fe,e.actions,"f")}getInfo(e){if(e instanceof Ar)return d(this,ky,"m",nC).call(this,e);if(typeof e=="string")return d(this,ky,"m",oC).call(this,e);throw new v("Invalid target, expected either a video id or a valid MusicTwoRowItem",e)}search(e){return y(this,arguments,void 0,function*(i,o={}){oe({query:i});let r=yield d(this,fe,"f").execute(bt.PATH,bt.build({query:i,client:"YTMUSIC",params:o.type&&o.type!=="all"?ab(o):void 0}));return new Bx(r,d(this,fe,"f"),Reflect.has(o,"type")&&o.type!=="all")})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(B.PATH,B.build({browse_id:"FEmusic_home",client:"YTMUSIC"}));return new Mx(e,d(this,fe,"f"))})}getExplore(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(B.PATH,B.build({client:"YTMUSIC",browse_id:"FEmusic_explore"}));return new Vx(e)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(B.PATH,B.build({client:"YTMUSIC",browse_id:"FEmusic_library_landing"}));return new Ox(e,d(this,fe,"f"))})}getArtist(e){return y(this,void 0,void 0,function*(){if(oe({artist_id:e}),!e.startsWith("UC")&&!e.startsWith("FEmusic_library_privately_owned_artist"))throw new v("Invalid artist id",e);let i=yield d(this,fe,"f").execute(B.PATH,B.build({client:"YTMUSIC",browse_id:e}));return new Ax(i,d(this,fe,"f"))})}getAlbum(e){return y(this,void 0,void 0,function*(){if(oe({album_id:e}),!e.startsWith("MPR")&&!e.startsWith("FEmusic_library_privately_owned_release"))throw new v("Invalid album id",e);let i=yield d(this,fe,"f").execute(B.PATH,B.build({client:"YTMUSIC",browse_id:e}));return new Ex(i)})}getPlaylist(e){return y(this,void 0,void 0,function*(){oe({playlist_id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield d(this,fe,"f").execute(B.PATH,B.build({client:"YTMUSIC",browse_id:e}));return new ps(i,d(this,fe,"f"))})}getUpNext(e){return y(this,arguments,void 0,function*(i,o=!0){var r,s,u;oe({video_id:i});let f=(r=(yield d(this,fe,"f").execute(ke.PATH,Object.assign(Object.assign({},ke.build({video_id:i,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||r===void 0?void 0:r.getType(be),m=f==null?void 0:f.first();if(!m)throw new v("Could not find target tab.");let h=(s=m.content)===null||s===void 0?void 0:s.as(Rr);if(!h||!h.content)throw new v("Music queue was empty, the given id is probably invalid.",h);let x=h.content.as(ni);if(!x.playlist_id&&o){let w=x.contents.firstOfType(Di);if(!w)throw new v("Automix item not found");let T=yield(u=w.playlist_video)===null||u===void 0?void 0:u.endpoint.call(d(this,fe,"f"),{videoId:i,client:"YTMUSIC",parse:!0});if(!T||!T.contents_memo)throw new v("Could not fetch automix");return T.contents_memo.getType(ni).first()}return x})}getRelated(e){return y(this,void 0,void 0,function*(){var i;oe({video_id:e});let r=(i=(yield d(this,fe,"f").execute(ke.PATH,Object.assign(Object.assign({},ke.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(be),s=r==null?void 0:r.matchCondition(f=>{var m,h;return((h=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType)==="MUSIC_PAGE_TYPE_TRACK_RELATED"});if(!s)throw new v("Could not find target tab.");let u=yield s.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",parse:!0});if(!u.contents)throw new v("Unexpected response",u);return u.contents.item().as(Q,We)})}getLyrics(e){return y(this,void 0,void 0,function*(){var i;oe({video_id:e});let r=(i=(yield d(this,fe,"f").execute(ke.PATH,Object.assign(Object.assign({},ke.build({video_id:e,client:"YTMUSIC"})),{parse:!0}))).contents_memo)===null||i===void 0?void 0:i.getType(be),s=r==null?void 0:r.matchCondition(f=>{var m,h;return((h=(m=f.endpoint.payload.browseEndpointContextSupportedConfigs)===null||m===void 0?void 0:m.browseEndpointContextMusicConfig)===null||h===void 0?void 0:h.pageType)==="MUSIC_PAGE_TYPE_TRACK_LYRICS"});if(!s)throw new v("Could not find target tab.");let u=yield s.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",parse:!0});if(!u.contents)throw new v("Unexpected response",u);if(u.contents.item().type==="Message")throw new v(u.contents.item().as(We).text.toString(),e);return u.contents.item().as(Q).contents.firstOfType(qi)})}getRecap(){return y(this,void 0,void 0,function*(){let e=yield d(this,fe,"f").execute(B.PATH,B.build({client:"YTMUSIC_ANDROID",browse_id:"FEmusic_listening_review"}));return new Lx(e,d(this,fe,"f"))})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){let i=yield d(this,fe,"f").execute(En.PATH,Object.assign(Object.assign({},En.build({input:e})),{parse:!0}));return i.contents_memo?i.contents_memo.getType(Eg):[]})}};n(Sy,"Music");p_=new WeakMap,fe=new WeakMap,ky=new WeakSet,oC=n(function(e){return y(this,void 0,void 0,function*(){var i;let o=st.build({video_id:e,sts:(i=d(this,p_,"f").player)===null||i===void 0?void 0:i.sts,client:"YTMUSIC"}),r=ke.build({video_id:e,client:"YTMUSIC"}),s=d(this,fe,"f").execute(st.PATH,o),u=d(this,fe,"f").execute(ke.PATH,r),p=yield Promise.all([s,u]),f=Nt(16);return new e_(p,d(this,fe,"f"),f)})},"_Music_fetchInfoFromVideoId"),nC=n(function(e){return y(this,void 0,void 0,function*(){var i;if(!e)throw new v("List item cannot be undefined");if(!e.endpoint)throw new Error("This item does not have an endpoint.");let o=e.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",playbackContext:{contentPlaybackContext:Object.assign({signatureTimestamp:(i=d(this,p_,"f").player)===null||i===void 0?void 0:i.sts})}}),r=e.endpoint.call(d(this,fe,"f"),{client:"YTMUSIC",enablePersistentPlaylistPanel:!0,override_endpoint:"/next"}),s=Nt(16),u=yield Promise.all([o,r]);return new e_(u,d(this,fe,"f"),s)})},"_Music_fetchInfoFromListItem");var Cy=Sy;var f_,qt,rC,sC,aC,Ey=class{constructor(e){f_.add(this),qt.set(this,void 0),k(this,qt,e,"f")}setThumbnail(e,i){return y(this,void 0,void 0,function*(){if(!d(this,qt,"f").logged_in)throw new v("You must be signed in to perform this operation.");if(!e||!i)throw new Ln("One or more parameters are missing.");let o=fb(e,i);return yield d(this,qt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}updateVideoMetadata(e,i){return y(this,void 0,void 0,function*(){if(!d(this,qt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let o=pb(e,i);return yield d(this,qt,"f").actions.execute("/video_manager/metadata_update",{protobuf:!0,serialized_data:o})})}upload(e){return y(this,arguments,void 0,function*(i,o={}){if(!d(this,qt,"f").logged_in)throw new v("You must be signed in to perform this operation.");let r=yield d(this,f_,"m",rC).call(this),s=yield d(this,f_,"m",sC).call(this,r.upload_url,i);if(s.status!=="STATUS_SUCCESS")throw new v("Could not process video.");return yield d(this,f_,"m",aC).call(this,r,s,o)})}};n(Ey,"Studio");qt=new WeakMap,f_=new WeakSet,rC=n(function(){return y(this,void 0,void 0,function*(){let e=`innertube_android:${j.shim.uuidv4()}:0:v=3,api=1,cf=3`,i={frontendUploadId:e,deviceDisplayName:"Pixel 6 Pro",fileId:`goog-edited-video://generated?videoFileUri=content://media/external/video/media/${j.shim.uuidv4()}`,mp4MoovAtomRelocationStatus:"UNSUPPORTED",transcodeResult:"DISABLED",connectionType:"WIFI"},o=yield d(this,qt,"f").http.fetch("/upload/youtubei",{baseURL:re.URLS.YT_UPLOAD,method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"start","x-goog-upload-protocol":"resumable"},body:JSON.stringify(i)});if(!o.ok)throw new v("Could not get initial upload data");return{frontend_upload_id:e,upload_id:o.headers.get("x-guploader-uploadid"),upload_url:o.headers.get("x-goog-upload-url"),scotty_resource_id:o.headers.get("x-goog-upload-header-scotty-resource-id"),chunk_granularity:o.headers.get("x-goog-upload-chunk-granularity")}})},"_Studio_getInitialUploadData"),sC=n(function(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,qt,"f").http.fetch_function(e,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","x-goog-upload-command":"upload, finalize","x-goog-upload-file-name":`file-${Date.now()}`,"x-goog-upload-offset":"0"},body:i});if(!o.ok)throw new v("Could not upload video");return yield o.json()})},"_Studio_uploadVideo"),aC=n(function(e,i,o){return y(this,void 0,void 0,function*(){return yield d(this,qt,"f").actions.execute(Mn.PATH,Mn.build({resource_id:{scotty_resource_id:{id:i.scottyResourceId}},frontend_upload_id:e.frontend_upload_id,initial_metadata:{title:{new_title:o.title||new Date().toDateString()},description:{new_description:o.description||"",should_segment:!0},privacy:{new_privacy:o.privacy||"PRIVATE"},draft_state:{is_draft:o.is_draft}},client:"ANDROID"}))})},"_Studio_setVideoMetadata");var Py=Ey;var fw={};D(fw,{AccountManager:()=>Ay,InteractionManager:()=>Oy,PlaylistManager:()=>Vy});var wt,Ny=class{constructor(e){wt.set(this,void 0),k(this,wt,e,"f"),this.channel={editName:i=>{if(!d(this,wt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return d(this,wt,"f").execute(Pi.EditNameEndpoint.PATH,Pi.EditNameEndpoint.build({given_name:i}))},editDescription:i=>{if(!d(this,wt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");return d(this,wt,"f").execute(Pi.EditDescriptionEndpoint.PATH,Pi.EditDescriptionEndpoint.build({given_description:i}))},getBasicAnalytics:()=>this.getAnalytics()}}getInfo(){return y(this,void 0,void 0,function*(){if(!d(this,wt,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let e=yield d(this,wt,"f").execute(wn.AccountListEndpoint.PATH,wn.AccountListEndpoint.build());return new Zg(e)})}getTimeWatched(){return y(this,void 0,void 0,function*(){let e=yield d(this,wt,"f").execute(B.PATH,B.build({browse_id:"SPtime_watched",client:"ANDROID"}));return new Sx(e)})}getSettings(){return y(this,void 0,void 0,function*(){let e=yield d(this,wt,"f").execute(B.PATH,B.build({browse_id:"SPaccount_overview"}));return new Ix(d(this,wt,"f"),e)})}getAnalytics(){return y(this,void 0,void 0,function*(){var e;let i=yield this.getInfo(),o=yield d(this,wt,"f").execute(B.PATH,B.build({browse_id:"FEanalytics_screen",params:rb((e=i.footers)===null||e===void 0?void 0:e.endpoint.payload.browseId),client:"ANDROID"}));return new tx(o)})}};n(Ny,"AccountManager");wt=new WeakMap;var Ay=Ny;var Ae,Ry=class{constructor(e){Ae.set(this,void 0),k(this,Ae,e,"f")}create(e,i){return y(this,void 0,void 0,function*(){if(oe({title:e,video_ids:i}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Ae,"f").execute(Nn.PATH,Nn.build({ids:i,title:e}));return{success:o.success,status_code:o.status_code,playlist_id:o.data.playlistId,data:o.data}})}delete(e){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let i=yield d(this,Ae,"f").execute(An.PATH,An.build({playlist_id:e}));return{playlist_id:e,success:i.success,status_code:i.status_code,data:i.data}})}addVideos(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Ae,"f").execute(at.PATH,at.build({actions:i.map(r=>({action:"ACTION_ADD_VIDEO",added_video_id:r})),playlist_id:e}));return{playlist_id:e,action_result:o.data.actions}})}removeVideos(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,video_ids:i}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o=yield d(this,Ae,"f").execute(B.PATH,Object.assign(Object.assign({},B.build({browse_id:`VL${e}`})),{parse:!0})),r=new Ii(d(this,Ae,"f"),o,!0);if(!r.info.is_editable)throw new v("This playlist cannot be edited.",e);let s={playlist_id:e,actions:[]},u=n(f=>y(this,void 0,void 0,function*(){if(f.videos.filter(h=>i.includes(h.key("id").string())).forEach(h=>s.actions.push({action:"ACTION_REMOVE_VIDEO",set_video_id:h.key("set_video_id").string()})),s.actions.length<i.length){let h=yield f.getContinuation();return u(h)}}),"getSetVideoIds");if(yield u(r),!s.actions.length)throw new v("Given video ids were not found in this playlist.",i);let p=yield d(this,Ae,"f").execute(at.PATH,at.build(s));return{playlist_id:e,action_result:p.data.actions}})}moveVideo(e,i,o){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,moved_video_id:i,predecessor_video_id:o}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let r=yield d(this,Ae,"f").execute(B.PATH,Object.assign(Object.assign({},B.build({browse_id:`VL${e}`})),{parse:!0})),s=new Ii(d(this,Ae,"f"),r,!0);if(!s.info.is_editable)throw new v("This playlist cannot be edited.",e);let u={playlist_id:e,actions:[]},p,f,m=n(x=>y(this,void 0,void 0,function*(){let w=x.videos.find(I=>i===I.key("id").string()),T=x.videos.find(I=>o===I.key("id").string());if(p=p||(w==null?void 0:w.key("set_video_id").string()),f=f||(T==null?void 0:T.key("set_video_id").string()),!p||!f){let I=yield x.getContinuation();return m(I)}}),"getSetVideoIds");yield m(s),u.actions.push({action:"ACTION_MOVE_VIDEO_AFTER",set_video_id:p,moved_set_video_id_predecessor:f});let h=yield d(this,Ae,"f").execute(at.PATH,at.build(u));return{playlist_id:e,action_result:h.data.actions}})}setName(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,name:i}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_NAME",playlist_name:i});let r=yield d(this,Ae,"f").execute(at.PATH,at.build(o));return{playlist_id:e,action_result:r.data.actions}})}setDescription(e,i){return y(this,void 0,void 0,function*(){if(oe({playlist_id:e,description:i}),!d(this,Ae,"f").session.logged_in)throw new v("You must be signed in to perform this operation.");let o={playlist_id:e,actions:[]};o.actions.push({action:"ACTION_SET_PLAYLIST_DESCRIPTION",playlist_description:i});let r=yield d(this,Ae,"f").execute(at.PATH,at.build(o));return{playlist_id:e,action_result:r.data.actions}})}};n(Ry,"PlaylistManager");Ae=new WeakMap;var Vy=Ry;var je,My=class{constructor(e){je.set(this,void 0),k(this,je,e,"f")}like(e){return y(this,void 0,void 0,function*(){if(oe({video_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(kn.PATH,kn.build({client:"ANDROID",target:{video_id:e}}))})}dislike(e){return y(this,void 0,void 0,function*(){if(oe({video_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Sn.PATH,Sn.build({client:"ANDROID",target:{video_id:e}}))})}removeRating(e){return y(this,void 0,void 0,function*(){if(oe({video_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Cn.PATH,Cn.build({client:"ANDROID",target:{video_id:e}}))})}subscribe(e){return y(this,void 0,void 0,function*(){if(oe({channel_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Rn.PATH,Rn.build({client:"ANDROID",channel_ids:[e],params:"EgIIAhgA"}))})}unsubscribe(e){return y(this,void 0,void 0,function*(){if(oe({channel_id:e}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(Vn.PATH,Vn.build({client:"ANDROID",channel_ids:[e],params:"CgIIAhgA"}))})}comment(e,i){return y(this,void 0,void 0,function*(){if(oe({video_id:e,text:i}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");return yield d(this,je,"f").execute(In.PATH,In.build({comment_text:i,create_comment_params:cb(e),client:"ANDROID"}))})}translate(e,i){return y(this,arguments,void 0,function*(o,r,s={}){oe({text:o,target_language:r});let u=Lo(22,Object.assign({text:o,target_language:r},s)),p=yield d(this,je,"f").execute(Tn.PATH,Tn.build({client:"ANDROID",actions:[u]})),f=p.data.frameworkUpdates.entityBatchUpdate.mutations[0].payload.commentEntityPayload;return{success:p.success,status_code:p.status_code,translated_content:f.translatedContent.content,data:p.data}})}setNotificationPreferences(e,i){return y(this,void 0,void 0,function*(){if(oe({channel_id:e,type:i}),!d(this,je,"f").session.logged_in)throw new Error("You must be signed in to perform this operation.");let o={PERSONALIZED:1,ALL:2,NONE:3};if(!Object.keys(o).includes(i.toUpperCase()))throw new Error(`Invalid notification preference type: ${i}`);return yield d(this,je,"f").execute(Pn.PATH,Pn.build({client:"WEB",params:db(e,o[i.toUpperCase()])}))})}};n(My,"InteractionManager");je=new WeakMap;var Oy=My;var Qe,ua=class{constructor(e){Qe.set(this,void 0),k(this,Qe,e,"f")}static create(){return y(this,arguments,void 0,function*(e={}){return new ua(yield dw.create(e))})}getInfo(e,i){return y(this,void 0,void 0,function*(){var o,r,s,u,p;oe({target:e});let f;if(e instanceof g)f=ke.build({video_id:(o=e.payload)===null||o===void 0?void 0:o.videoId,playlist_id:(r=e.payload)===null||r===void 0?void 0:r.playlistId,params:(s=e.payload)===null||s===void 0?void 0:s.params,playlist_index:(u=e.payload)===null||u===void 0?void 0:u.index});else if(typeof e=="string")f=ke.build({video_id:e});else throw new v("Invalid target, expected either a video id or a valid NavigationEndpoint",e);if(!f.videoId)throw new v("Video id cannot be empty",f);let m=st.build({video_id:f.videoId,playlist_id:f==null?void 0:f.playlistId,client:i,sts:(p=d(this,Qe,"f").player)===null||p===void 0?void 0:p.sts}),h=this.actions.execute(st.PATH,m),x=this.actions.execute(ke.PATH,f),w=yield Promise.all([h,x]),T=Nt(16);return new Gh(w,this.actions,T)})}getBasicInfo(e,i){return y(this,void 0,void 0,function*(){var o;oe({video_id:e});let r=yield this.actions.execute(st.PATH,st.build({video_id:e,client:i,sts:(o=d(this,Qe,"f").player)===null||o===void 0?void 0:o.sts})),s=Nt(16);return new Gh([r],this.actions,s)})}getShortsWatchItem(e,i){return y(this,void 0,void 0,function*(){oe({short_id:e});let o=this.actions.execute(Pt.WatchEndpoint.PATH,Pt.WatchEndpoint.build({short_id:e,client:i})),r=this.actions.execute(Pt.WatchSequenceEndpoint.PATH,Pt.WatchSequenceEndpoint.build({sequenceParams:hb(e)})),s=yield Promise.all([o,r]);return new uy(s,this.actions)})}search(e){return y(this,arguments,void 0,function*(i,o={}){oe({query:i});let r=yield this.actions.execute(bt.PATH,bt.build({query:i,params:o?sb(o):void 0}));return new Tx(this.actions,r)})}getSearchSuggestions(e){return y(this,void 0,void 0,function*(){oe({query:e});let i=new URL(`${it.YT_SUGGESTIONS}search`);i.searchParams.set("q",e),i.searchParams.set("hl",d(this,Qe,"f").context.client.hl),i.searchParams.set("gl",d(this,Qe,"f").context.client.gl),i.searchParams.set("ds","yt"),i.searchParams.set("client","youtube"),i.searchParams.set("xssi","t"),i.searchParams.set("oe","UTF");let r=yield(yield d(this,Qe,"f").http.fetch(i)).text();return JSON.parse(r.replace(")]}'",""))[1].map(p=>p[0])})}getComments(e,i){return y(this,void 0,void 0,function*(){oe({video_id:e});let o=yield this.actions.execute(ke.PATH,ke.build({continuation:lb(e,{sort_by:i||"TOP_COMMENTS"})}));return new rx(this.actions,o.data)})}getHomeFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,B.build({browse_id:"FEwhat_to_watch"}));return new Gt(this.actions,e)})}getGuide(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(gs.PATH);return new ax(e.data)})}getLibrary(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,B.build({browse_id:"FElibrary"}));return new mx(this.actions,e)})}getHistory(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,B.build({browse_id:"FEhistory"}));return new Qr(this.actions,e)})}getTrending(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,Object.assign(Object.assign({},B.build({browse_id:"FEtrending"})),{parse:!0}));return new en(this.actions,e)})}getSubscriptionsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,Object.assign(Object.assign({},B.build({browse_id:"FEsubscriptions"})),{parse:!0}));return new ve(this.actions,e)})}getChannelsFeed(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,Object.assign(Object.assign({},B.build({browse_id:"FEchannels"})),{parse:!0}));return new ve(this.actions,e)})}getChannel(e){return y(this,void 0,void 0,function*(){oe({id:e});let i=yield this.actions.execute(B.PATH,B.build({browse_id:e}));return new Re(this.actions,i)})}getNotifications(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(yn.PATH,yn.build({notifications_menu_request_type:"NOTIFICATIONS_MENU_REQUEST_TYPE_INBOX"}));return new wx(this.actions,e)})}getUnseenNotificationsCount(){return y(this,void 0,void 0,function*(){var e,i,o,r;let s=yield this.actions.execute(xs.GetUnseenCountEndpoint.PATH);return((e=s.data)===null||e===void 0?void 0:e.unseenCount)||((r=(o=(i=s.data)===null||i===void 0?void 0:i.actions)===null||o===void 0?void 0:o[0].updateNotificationsUnseenCountAction)===null||r===void 0?void 0:r.unseenCount)||0})}getPlaylists(){return y(this,void 0,void 0,function*(){let e=yield this.actions.execute(B.PATH,Object.assign(Object.assign({},B.build({browse_id:"FEplaylist_aggregation"})),{parse:!0}));return new ve(this.actions,e)})}getPlaylist(e){return y(this,void 0,void 0,function*(){oe({id:e}),e.startsWith("VL")||(e=`VL${e}`);let i=yield this.actions.execute(B.PATH,B.build({browse_id:e}));return new Ii(this.actions,i)})}getHashtag(e){return y(this,void 0,void 0,function*(){oe({hashtag:e});let i=yield this.actions.execute(B.PATH,B.build({browse_id:"FEhashtag",params:mb(e)}));return new di(this.actions,i)})}getStreamingData(e){return y(this,arguments,void 0,function*(i,o={}){return(yield this.getBasicInfo(i)).chooseFormat(o)})}download(e,i){return y(this,void 0,void 0,function*(){return(yield this.getBasicInfo(e,i==null?void 0:i.client)).download(i)})}resolveURL(e){return y(this,void 0,void 0,function*(){return(yield this.actions.execute(bn.PATH,Object.assign(Object.assign({},bn.build({url:e})),{parse:!0}))).endpoint})}call(e,i){return e.call(this.actions,i)}get music(){return new Cy(d(this,Qe,"f"))}get studio(){return new Py(d(this,Qe,"f"))}get kids(){return new Iy(d(this,Qe,"f"))}get account(){return new Ay(d(this,Qe,"f").actions)}get playlist(){return new Vy(d(this,Qe,"f").actions)}get interact(){return new Oy(d(this,Qe,"f").actions)}get actions(){return d(this,Qe,"f").actions}get session(){return d(this,Qe,"f")}};n(ua,"Innertube");Qe=new WeakMap;var mw=ua;var uC={};var lC=mw;var cC="JsRuntime";function hw(t,e){L.debug(cC,`Evaluating JavaScript:
`,t);let i=new Yn(t);for(let[r,s]of Object.entries(e))i.scope.set(r,s);let o=i.interpret();return L.debug(cC,"Done. Result:",o),o}n(hw,"evaluate");var m_,_w,Dy,Ly,By,Fy=class{constructor(e=!1,i){m_.add(this),_w.set(this,"Cache"),Dy.set(this,void 0),Ly.set(this,void 0),k(this,Dy,i||"","f"),k(this,Ly,e,"f")}get cache_dir(){return d(this,Ly,"f")?d(this,Dy,"f"):""}get(e){return y(this,void 0,void 0,function*(){let i=yield d(this,m_,"m",By).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readonly").objectStore("kv-store").get(e);s.onerror=r,s.onsuccess=function(){var u;let p=(u=this.result)===null||u===void 0?void 0:u.v;p instanceof ArrayBuffer?o(p):ArrayBuffer.isView(p)?o(p.buffer):o(void 0)}})})}set(e,i){return y(this,void 0,void 0,function*(){let o=yield d(this,m_,"m",By).call(this);if(!!o)return new Promise((r,s)=>{let u=o.transaction("kv-store","readwrite").objectStore("kv-store").put({k:e,v:i});u.onerror=s,u.onsuccess=()=>r()})})}remove(e){return y(this,void 0,void 0,function*(){let i=yield d(this,m_,"m",By).call(this);if(!!i)return new Promise((o,r)=>{let s=i.transaction("kv-store","readwrite").objectStore("kv-store").delete(e);s.onerror=r,s.onsuccess=()=>o()})})}};n(Fy,"Cache");_w=new WeakMap,Dy=new WeakMap,Ly=new WeakMap,m_=new WeakSet,By=n(function(){let e=Reflect.get(globalThis,"indexedDB")||Reflect.get(globalThis,"webkitIndexedDB")||Reflect.get(globalThis,"mozIndexedDB")||Reflect.get(globalThis,"msIndexedDB");return e?new Promise((i,o)=>{let r=e.open("youtubei.js",1);r.onsuccess=function(){i(this.result)},r.onerror=function(s){o("indexedDB request error"),console.error(s)},r.onupgradeneeded=function(){let s=this.result.createObjectStore("kv-store",{keyPath:"k"});s.transaction.oncomplete=function(){i(this.db)}}}):L.warn(d(this,_w,"f"),"IndexedDB is not supported. No cache will be used.")},"_Cache_getBrowserDB");j.load({runtime:"browser",server:!1,info:{version:cy.version,bugs_url:cy.bugs.url,repo_url:cy.homepage.split("#")[0]},Cache:Fy,sha1Hash:Wb,uuidv4(){var t;return!((t=globalThis.crypto)===null||t===void 0)&&t.randomUUID()?globalThis.crypto.randomUUID():"10000000-1000-4000-8000-100000000000".replace(/[018]/g,e=>{let i=parseInt(e);return(i^window.crypto.getRandomValues(new Uint8Array(1))[0]&15>>i/4).toString(16)})},eval:hw,fetch:globalThis.fetch,Request:globalThis.Request,Response:globalThis.Response,Headers:globalThis.Headers,FormData:globalThis.FormData,File:globalThis.File,ReadableStream:globalThis.ReadableStream,CustomEvent:globalThis.CustomEvent});var LNe=lC;export{lw as Actions,Ro as AppendContinuationItemsAction,cw as ClientType,pw as Clients,re as Constants,qo as Continuation,Ti as ContinuationCommand,Fb as Endpoints,la as EventEmitter,Po as FormatUtils,kb as Generator,no as GridContinuation,Jy as HTTPClient,Uy as Helpers,mw as Innertube,eo as ItemSectionContinuation,Bt as LZW,ro as LiveChatContinuation,L as Log,fw as Managers,jb as Misc,Rb as Mixins,oo as MusicPlaylistShelfContinuation,li as MusicShelfContinuation,to as NavigateAction,uw as OAuth2,c as Parser,j as Platform,_t as Player,Hr as PlaylistPanelContinuation,St as Proto,io as ReloadContinuationItemsCommand,pt as SectionListContinuation,dw as Session,Wr as ShowMiniplayerCommand,uC as Types,fC as UniversalCache,$y as Utils,Ob as YT,Bb as YTKids,Lb as YTMusic,Wo as YTNodes,Yb as YTShorts,LNe as default};
//# sourceMappingURL=browser.min.js.map
